(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["CoreHome"]=t(require("vue")):e["CoreHome"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="plugins/CoreHome/vue/dist/",n(n.s="fae3")}({2342:function(e,t,n){"use strict";
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */window.hasBlockedContent=!1},"8bbf":function(t,n){t.exports=e},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"createVueApp",(function(){return Bt})),n.d(t,"DirectiveUtilities",(function(){return it})),n.d(t,"debounce",(function(){return ko})),n.d(t,"createAngularJsAdapter",(function(){return qt})),n.d(t,"transformAngularJsBoolAttr",(function(){return Jt})),n.d(t,"transformAngularJsIntAttr",(function(){return Gt})),n.d(t,"removeAngularJsSpecificProperties",(function(){return Wt})),n.d(t,"activityIndicatorAdapter",(function(){return Iu})),n.d(t,"ActivityIndicator",(function(){return Zi})),n.d(t,"translate",(function(){return C})),n.d(t,"alertAdapter",(function(){return _u})),n.d(t,"AjaxHelper",(function(){return We})),n.d(t,"setCookie",(function(){return $u})),n.d(t,"getCookie",(function(){return Hu})),n.d(t,"deleteCookie",(function(){return Uu})),n.d(t,"MatomoUrl",(function(){return we})),n.d(t,"Matomo",(function(){return S})),n.d(t,"Periods",(function(){return p})),n.d(t,"Day",(function(){return G})),n.d(t,"Week",(function(){return X})),n.d(t,"Month",(function(){return re})),n.d(t,"Year",(function(){return le})),n.d(t,"Range",(function(){return _})),n.d(t,"format",(function(){return P})),n.d(t,"getToday",(function(){return D})),n.d(t,"parseDate",(function(){return E})),n.d(t,"todayIsInRange",(function(){return V})),n.d(t,"Dropdown",(function(){return Je})),n.d(t,"FocusAnywhereButHere",(function(){return Ze})),n.d(t,"FocusIf",(function(){return nt})),n.d(t,"MatomoDialog",(function(){return At})),n.d(t,"ExpandOnClick",(function(){return pt})),n.d(t,"ExpandOnHover",(function(){return yt})),n.d(t,"SelectOnFocus",(function(){return St})),n.d(t,"SideNav",(function(){return Dt})),n.d(t,"EnrichedHeadline",(function(){return fn})),n.d(t,"ContentBlock",(function(){return kn})),n.d(t,"Comparisons",(function(){return ur})),n.d(t,"MenuDropdown",(function(){return Cr})),n.d(t,"DatePicker",(function(){return Ir})),n.d(t,"DateRangePicker",(function(){return $r})),n.d(t,"PeriodDatePicker",(function(){return Jr})),n.d(t,"Notification",(function(){return Ja})),n.d(t,"NotificationGroup",(function(){return ac})),n.d(t,"NotificationsStore",(function(){return tc})),n.d(t,"SiteSelector",(function(){return Eo})),n.d(t,"QuickAccess",(function(){return zo})),n.d(t,"FieldArray",(function(){return li})),n.d(t,"MultiPairField",(function(){return Di})),n.d(t,"PeriodSelector",(function(){return ga})),n.d(t,"ReportingMenu",(function(){return $c})),n.d(t,"ReportingPagesStore",(function(){return pc})),n.d(t,"ReportMetadataStore",(function(){return Qc})),n.d(t,"WidgetsStore",(function(){return Ic})),n.d(t,"WidgetLoader",(function(){return al})),n.d(t,"WidgetContainer",(function(){return kl})),n.d(t,"WidgetByDimensionContainer",(function(){return Hl})),n.d(t,"Widget",(function(){return Xl})),n.d(t,"ReportingPage",(function(){return Ds})),n.d(t,"ReportExport",(function(){return lu})),n.d(t,"Sparkline",(function(){return gu})),n.d(t,"Progressbar",(function(){return ku})),n.d(t,"ContentIntro",(function(){return Su})),n.d(t,"ContentTable",(function(){return Pu})),n.d(t,"AjaxForm",(function(){return Bu})),"undefined"!==typeof window){var r=window.document.currentScript,o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}n("2342");var i=n("8bbf");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var u,d=function(){function e(){a(this,e),s(this,"periods",{}),s(this,"periodOrder",[])}return l(e,[{key:"addCustomPeriod",value:function(e,t){if(this.periods[e])throw new Error('The "'.concat(e,'" period already exists! It cannot be overridden.'));this.periods[e]=t,this.periodOrder.push(e)}},{key:"getAllLabels",value:function(){return Array().concat(this.periodOrder)}},{key:"get",value:function(e){var t=this.periods[e];if(!t)throw new Error("Invalid period label: ".concat(e));return t}},{key:"parse",value:function(e,t){return this.get(e).parse(t)}},{key:"isRecognizedPeriod",value:function(e){return!!this.periods[e]}}]),e}(),p=new d;function m(e){return b(e)||g(e)||h(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function g(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(e){if(Array.isArray(e))return v(e)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var y=window,O=y.piwik,w=y.broadcast,j=y.piwikHelper;O.helper=j,O.broadcast=w,O.updateDateInTitle=function(e,t){if($(".top_controls #periodString").length&&(u=u||document.title,0===u.indexOf(O.siteName))){var n=" - ".concat(p.parse(t,e).getPrettyString()," ");document.title="".concat(O.siteName).concat(n).concat(u.substr(O.siteName.length))}},O.hasUserCapability=function(e){return window.angular.isArray(O.userCapabilities)&&-1!==O.userCapabilities.indexOf(e)},O.on=function(e,t){function n(e){t.apply(void 0,m(e.detail))}t.wrapper=n,window.addEventListener(e,n)},O.off=function(e,t){t.wrapper&&window.removeEventListener(e,t.wrapper)},O.postEventNoEmit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=new CustomEvent(e,{detail:n});window.dispatchEvent(o)},O.postEvent=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];O.postEventNoEmit.apply(O,[e].concat(n)),window.angular.element((function(){var t=O.helper.getAngularDependency("$rootScope");t.$oldEmit.apply(t,[e].concat(n))}))};var k=O,S=k;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n;return 1===n.length&&n[0]&&Array.isArray(n[0])&&(o=n[0]),window._pk_translate(e,o)}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function P(e){return $.datepicker.formatDate("yy-mm-dd",e)}function D(){var e=new Date(Date.now());return e.setTime(e.getTime()+60*e.getTimezoneOffset()*1e3),e.setHours(e.getHours()+(window.piwik.timezoneOffset||0)/3600),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function E(e){if(e instanceof Date)return e;var t=decodeURIComponent(e).trim();if(""===t)throw new Error("Invalid date, empty string.");if("today"===t||"now"===t)return D();if("yesterday"===t||"yesterdaySameTime"===t){var n=D();return n.setDate(n.getDate()-1),n}if(t.match(/last[ -]?week/i)){var r=D();return r.setDate(r.getDate()-7),r}if(t.match(/last[ -]?month/i)){var o=D();return o.setDate(1),o.setMonth(o.getMonth()-1),o}if(t.match(/last[ -]?year/i)){var i=D();return i.setFullYear(i.getFullYear()-1),i}return $.datepicker.parseDate("yy-mm-dd",t)}function V(e){return 2===e.length&&(D()>=e[0]&&D()<=e[1])}function N(e,t){return I(e)||x(e,t)||A(e,t)||T()}function T(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if(e){if("string"===typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){c=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw o}}return i}}function I(e){if(Array.isArray(e))return e}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var _=function(){function e(t,n,r){M(this,e),R(this,"startDate",void 0),R(this,"endDate",void 0),R(this,"childPeriodType",void 0),this.startDate=t,this.endDate=n,this.childPeriodType=r}return F(e,[{key:"getPrettyString",value:function(){var e=P(this.startDate),t=P(this.endDate);return C("General_DateRangeFromTo",[e,t])}},{key:"getDateRange",value:function(){return[this.startDate,this.endDate]}},{key:"containsToday",value:function(){return V(this.getDateRange())}},{key:"getDayCount",value:function(){return Math.ceil((this.endDate.getTime()-this.startDate.getTime())/864e5)+1}}],[{key:"getLastNRange",value:function(t,n,r){var o=Math.max(parseInt(n.toString(),10)-1,0);if(Number.isNaN(o))throw new Error("Invalid range strAmount");var i=r?E(r):D(),a=new Date(i.getTime());if("day"===t)a.setDate(a.getDate()-o);else if("week"===t)a.setDate(a.getDate()-7*o);else if("month"===t)a.setDate(1),a.setMonth(a.getMonth()-o);else{if("year"!==t)throw new Error("Unknown period type '".concat(t,"'."));a.setFullYear(a.getFullYear()-o)}if("day"!==t){var c=p.periods[t].parse(a),l=p.periods[t].parse(i),s=c.getDateRange(),u=N(s,1);a=u[0];var d=l.getDateRange(),m=N(d,2);i=m[1]}var f=new Date(1991,7,6);if(a.getTime()-f.getTime()<0)switch(t){case"year":a=new Date(1992,0,1);break;case"month":a=new Date(1991,8,1);break;case"week":a=new Date(1991,8,12);break;case"day":default:a=f;break}return new e(a,i,t)}},{key:"getLastNRangeChild",value:function(t,n,r){var o=n?E(n):D(),i=new Date(o.getTime()),a=new Date(o.getTime());if("day"===t)i.setDate(i.getDate()-r),a.setDate(a.getDate()-r);else if("week"===t)i.setDate(i.getDate()-7*r),a.setDate(a.getDate()-7*r);else if("month"===t)i.setDate(1),i.setMonth(i.getMonth()-r),a.setDate(1),a.setMonth(a.getMonth()-r);else{if("year"!==t)throw new Error("Unknown period type '".concat(t,"'."));i.setFullYear(i.getFullYear()-r),a.setFullYear(a.getFullYear()-r)}if("day"!==t){var c=p.periods[t].parse(i),l=p.periods[t].parse(a),s=c.getDateRange(),u=N(s,1);i=u[0];var d=l.getDateRange(),m=N(d,2);a=m[1]}var f=new Date(1991,7,6);if(i.getTime()-f.getTime()<0)switch(t){case"year":i=new Date(1992,0,1);break;case"month":i=new Date(1991,8,1);break;case"week":i=new Date(1991,8,12);break;case"day":default:i=f;break}return new e(i,a,t)}},{key:"parse",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";if(/^previous/.test(t)){var r=e.getLastNRange(n,"2").startDate;return e.getLastNRange(n,t.substring(8),r)}if(/^last/.test(t))return e.getLastNRange(n,t.substring(4));var o=decodeURIComponent(t).split(",");return new e(E(o[0]),E(o[1]),n)}},{key:"getDisplayText",value:function(){return C("General_DateRangeInPeriodList")}}]),e}();function H(){return{getAllLabels:p.getAllLabels.bind(p),isRecognizedPeriod:p.isRecognizedPeriod.bind(p),get:p.get.bind(p),parse:p.parse.bind(p),parseDate:E,format:P,RangePeriod:_,todayIsInRange:V}}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */p.addCustomPeriod("range",_),
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
window.piwik.addCustomPeriod=p.addCustomPeriod.bind(p),window.angular.module("piwikApp.service").factory("piwikPeriods",H);var G=function(){function e(t){U(this,e),J(this,"dateInPeriod",void 0),this.dateInPeriod=t}return q(e,[{key:"getPrettyString",value:function(){return P(this.dateInPeriod)}},{key:"getDateRange",value:function(){return[new Date(this.dateInPeriod.getTime()),new Date(this.dateInPeriod.getTime())]}},{key:"containsToday",value:function(){return V(this.getDateRange())}}],[{key:"parse",value:function(t){return new e(E(t))}},{key:"getDisplayText",value:function(){return C("Intl_PeriodDay")}}]),e}();function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return t&&Y(e.prototype,t),n&&Y(e,n),e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */p.addCustomPeriod("day",G);var X=function(){function e(t){z(this,e),K(this,"dateInPeriod",void 0),this.dateInPeriod=t}return Q(e,[{key:"getPrettyString",value:function(){var e=this.getDateRange(),t=P(e[0]),n=P(e[1]);return C("General_DateRangeFromTo",[t,n])}},{key:"getDateRange",value:function(){var e=(this.dateInPeriod.getDay()+6)%7,t=new Date(this.dateInPeriod.getTime());t.setDate(this.dateInPeriod.getDate()-e);var n=new Date(t.getTime());return n.setDate(t.getDate()+6),[t,n]}},{key:"containsToday",value:function(){return V(this.getDateRange())}}],[{key:"parse",value:function(t){return new e(E(t))}},{key:"getDisplayText",value:function(){return C("Intl_PeriodWeek")}}]),e}();function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t,n){return t&&ee(e.prototype,t),n&&ee(e,n),e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */p.addCustomPeriod("week",X);var re=function(){function e(t){Z(this,e),ne(this,"dateInPeriod",void 0),this.dateInPeriod=t}return te(e,[{key:"getPrettyString",value:function(){var e=C("Intl_Month_Long_StandAlone_".concat(this.dateInPeriod.getMonth()+1));return"".concat(e," ").concat(this.dateInPeriod.getFullYear())}},{key:"getDateRange",value:function(){var e=new Date(this.dateInPeriod.getTime());e.setDate(1);var t=new Date(this.dateInPeriod.getTime());return t.setDate(1),t.setMonth(t.getMonth()+1),t.setDate(0),[e,t]}},{key:"containsToday",value:function(){return V(this.getDateRange())}}],[{key:"parse",value:function(t){return new e(E(t))}},{key:"getDisplayText",value:function(){return C("Intl_PeriodMonth")}}]),e}();function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */p.addCustomPeriod("month",re);var le=function(){function e(t){oe(this,e),ce(this,"dateInPeriod",void 0),this.dateInPeriod=t}return ae(e,[{key:"getPrettyString",value:function(){return this.dateInPeriod.getFullYear().toString()}},{key:"getDateRange",value:function(){var e=new Date(this.dateInPeriod.getTime());e.setMonth(0),e.setDate(1);var t=new Date(this.dateInPeriod.getTime());return t.setMonth(12),t.setDate(0),[e,t]}},{key:"containsToday",value:function(){return V(this.getDateRange())}}],[{key:"parse",value:function(t){return new e(E(t))}},{key:"getDisplayText",value:function(){return C("Intl_PeriodYear")}}]),e}();
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t,n){return t&&pe(e.prototype,t),n&&pe(e,n),e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */p.addCustomPeriod("year",le);var he=window,ge=he.piwik,be=he.broadcast;function ve(e,t){try{return p.parse(e,t),!0}catch(n){return!1}}var ye=function(){function e(){var t=this;de(this,e),fe(this,"urlQuery",Object(i["ref"])("")),fe(this,"hashQuery",Object(i["ref"])("")),fe(this,"urlParsed",Object(i["computed"])((function(){return Object(i["readonly"])(be.getValuesFromUrl("?".concat(t.urlQuery.value),!0))}))),fe(this,"hashParsed",Object(i["computed"])((function(){return Object(i["readonly"])(be.getValuesFromUrl("?".concat(t.hashQuery.value),!0))}))),fe(this,"parsed",Object(i["computed"])((function(){return Object(i["readonly"])(ue(ue({},t.urlParsed.value),t.hashParsed.value))}))),this.setUrlQuery(window.location.search),this.setHashQuery(window.location.hash),S.on("$locationChangeSuccess",(function(e){var n=new URL(e);t.setUrlQuery(n.search.replace(/^\?/,"")),t.setHashQuery(n.hash.replace(/^#/,""))})),this.updatePeriodParamsFromUrl()}return me(e,[{key:"updateHash",value:function(e){var t="string"!==typeof e?this.stringify(e):e,n=S.helper.getAngularDependency("$location"),r=S.helper.getAngularDependency("$timeout");n.search(t),r()}},{key:"updateUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="string"!==typeof e?this.stringify(e):e,r="string"!==typeof t?this.stringify(t):t,o="?".concat(n);r.length&&(o="".concat(o,"#?").concat(r)),window.broadcast.propagateNewPage("",void 0,void 0,void 0,o)}},{key:"updateLocation",value:function(e){S.helper.isAngularRenderingThePage()?this.updateHash(e):this.updateUrl(e)}},{key:"getSearchParam",value:function(e){var t=window.location.href.split("#"),n=new RegExp("".concat(e,"(\\[]|=)"));if(t&&t[1]&&n.test(decodeURIComponent(t[1]))){var r=window.broadcast.getValueFromHash(e,window.location.href);if(r||"date"!==e&&"period"!==e&&"idSite"!==e)return r}return window.broadcast.getValueFromUrl(e,window.location.search)}},{key:"stringify",value:function(e){return $.param(e).replace(/%5B%5D/g,"[]").replace(/%2C/g,",")}},{key:"updatePeriodParamsFromUrl",value:function(){var e=this.getSearchParam("date"),t=this.getSearchParam("period");if(ve(t,e)&&(ge.period!==t||ge.currentDateString!==e)){ge.period=t;var n=p.parse(t,e).getDateRange();ge.startDateString=P(n[0]),ge.endDateString=P(n[1]),ge.updateDateInTitle(e,t),"range"===ge.period&&(e="".concat(ge.startDateString,",").concat(ge.endDateString)),ge.currentDateString=e}}},{key:"setUrlQuery",value:function(e){this.urlQuery.value=e.replace(/^\?/,"")}},{key:"setHashQuery",value:function(e){this.hashQuery.value=e.replace(/^[#/?]+/,"")}}]),e}(),Oe=new ye,we=Oe;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function je(){var e={getSearchParam:we.getSearchParam.bind(we)};return e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function ke(){return S}function Se(e,t){t.$oldEmit=t.$emit,t.$emit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return S.postEventNoEmit.apply(S,[e].concat(n)),this.$oldEmit.apply(this,[e].concat(n))},t.$oldBroadcast=t.$broadcast,t.$broadcast=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return S.postEventNoEmit.apply(S,[e].concat(n)),this.$oldBroadcast.apply(this,[e].concat(n))},t.$on("$locationChangeSuccess",e.updatePeriodParamsFromUrl)}function Ce(e){return Ce="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t,n){return t&&Ee(e.prototype,t),n&&Ee(e,n),e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}function Be(e){var t=Fe();return function(){var n,r=$e(e);if(t){var o=$e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(e,t){if(t&&("object"===Ce(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ie(e)}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){var t="function"===typeof Map?new Map:void 0;return Me=function(e){if(null===e||!Re(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Le(e,arguments,$e(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_e(n,e)},Me(e)}function Le(e,t,n){return Le=Fe()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=Function.bind.apply(e,r),i=new o;return n&&_e(i,n.prototype),i},Le.apply(null,arguments)}function Fe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Re(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _e(e,t){return _e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_e(e,t)}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(e)}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function He(e,t){if("abort"!==t)if("undefined"!==typeof Piwik_Popover){var n=$("#loadingError");Piwik_Popover.isOpen()&&e&&500===e.status?e&&500===e.status&&$(document.body).html(piwikHelper.escape(e.responseText)):n.show()}else console.log("Request failed: ".concat(e.responseText))}ge.updatePeriodParamsFromUrl=Oe.updatePeriodParamsFromUrl.bind(Oe),je.$inject=[],angular.module("piwikApp.service").service("piwikUrl",je),window.angular.module("piwikApp.service").service("piwik",ke),Se.$inject=["piwik","$rootScope"],window.angular.module("piwikApp.service").run(Se),window.globalAjaxQueue=[],window.globalAjaxQueue.active=0,window.globalAjaxQueue.clean=function(){for(var e=this.length;e>=0;e-=1)this[e]&&4!==this[e].readyState||this.splice(e,1)},window.globalAjaxQueue.push=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.active+=n.length,this.clean(),(e=Array.prototype.push).call.apply(e,[this].concat(n))},window.globalAjaxQueue.abort=function(){this.forEach((function(e){return e&&e.abort&&e.abort()})),this.splice(0,this.length),this.active=0};var Ue=function(e){Ae(n,e);var t=Be(n);function n(){return Te(this,n),t.apply(this,arguments)}return n}(Me(Error)),We=function(){function e(){Te(this,e),Ne(this,"format","json"),Ne(this,"timeout",null),Ne(this,"callback",null),Ne(this,"useRegularCallbackInCaseOfError",!1),Ne(this,"errorCallback",void 0),Ne(this,"withToken",!1),Ne(this,"completeCallback",void 0),Ne(this,"getParams",{}),Ne(this,"getUrl","?"),Ne(this,"postParams",{}),Ne(this,"loadingElement",null),Ne(this,"errorElement","#ajaxError"),Ne(this,"headers",void 0),Ne(this,"requestHandle",null),Ne(this,"abortController",null),Ne(this,"defaultParams",["idSite","period","date","segment"]),this.errorCallback=He}return Ve(e,[{key:"addParams",value:function(e,t){var n=this,r="string"===typeof e?window.broadcast.getValuesFromUrl(e):e,o=["compareSegments","comparePeriods","compareDates"];Object.keys(r).forEach((function(e){var i=r[e];(-1===o.indexOf(e)||i)&&("get"===t.toLowerCase()?n.getParams[e]=i:"post"===t.toLowerCase()&&(n.postParams[e]=i))}))}},{key:"withTokenInUrl",value:function(){this.withToken=!0}},{key:"setUrl",value:function(e){this.addParams(broadcast.getValuesFromUrl(e),"GET")}},{key:"setBulkRequests",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return"string"===typeof e?e:$.param(e)}));this.addParams({module:"API",method:"API.getBulkRequest",urls:r,format:"json"},"post")}},{key:"setTimeout",value:function(e){this.timeout=e}},{key:"setCallback",value:function(e){this.callback=e}},{key:"useCallbackInCaseOfError",value:function(){this.useRegularCallbackInCaseOfError=!0}},{key:"redirectOnSuccess",value:function(e){this.setCallback((function(){piwikHelper.redirect(e)}))}},{key:"setErrorCallback",value:function(e){this.errorCallback=e}},{key:"setCompleteCallback",value:function(e){this.completeCallback=e}},{key:"setFormat",value:function(e){this.format=e}},{key:"setLoadingElement",value:function(e){this.loadingElement=e||"#ajaxLoadingDiv"}},{key:"setErrorElement",value:function(e){e&&(this.errorElement=e)}},{key:"useGETDefaultParameter",value:function(e){if(e&&this.defaultParams)for(var t=0;t<this.defaultParams.length;t+=1)if(this.defaultParams[t]===e)return!0;return!1}},{key:"removeDefaultParameter",value:function(e){if(e&&this.defaultParams)for(var t=0;t<this.defaultParams.length;t+=1)this.defaultParams[t]===e&&this.defaultParams.splice(t,1)}},{key:"send",value:function(){var e=this;$(this.errorElement).length&&$(this.errorElement).hide(),this.loadingElement&&$(this.loadingElement).fadeIn(),this.requestHandle=this.buildAjaxCall(),window.globalAjaxQueue.push(this.requestHandle);var t=null;try{t=S.helper.getAngularDependency("$timeout")}catch(r){}this.abortController&&this.abortController.signal.addEventListener("abort",(function(){return e.requestHandle.abort()}));var n=new Promise((function(n,r){e.requestHandle.then((function(){n.apply(void 0,arguments)})).fail((function(t){"abort"!==t.statusText&&(console.log("Warning: the ".concat($.param(e.getParams)," request failed!")),r(t))})).done((function(){t&&t()}))}));return n}},{key:"abort",value:function(){this.requestHandle&&"function"===typeof this.requestHandle.abort&&(this.requestHandle.abort(),this.requestHandle=null)}},{key:"buildAjaxCall",value:function(){var e=this,t=this,n=this.mixinDefaultGetParams(this.getParams),r=this.getUrl;"?"!==r[r.length-1]&&(r+="&"),n.segment&&(r="".concat(r,"segment=").concat(n.segment,"&"),delete n.segment),n.date&&(r="".concat(r,"date=").concat(decodeURIComponent(n.date.toString()),"&"),delete n.date),r+=$.param(n);var o={type:"POST",async:!0,url:r,dataType:this.format||"json",complete:this.completeCallback,headers:this.headers?this.headers:void 0,error:function(){if(window.globalAjaxQueue.active-=1,t.errorCallback){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.errorCallback.apply(this,n)}},success:function(t,n,r){if(e.loadingElement&&$(e.loadingElement).hide(),t&&"error"===t.result&&!e.useRegularCallbackInCaseOfError){var o=null,i="toast";$(e.errorElement).length&&t.message&&($(e.errorElement).show(),o=e.errorElement,i=null);var a=!document.querySelector("#login_form");if(t.message&&a){var c=window["require"]("piwik/UI"),l=new c.Notification;l.show(t.message,{placeat:o,context:"error",type:i,id:"ajaxHelper"}),l.scrollToNotification()}}else e.callback&&e.callback(t,n,r);window.globalAjaxQueue.active-=1,S.ajaxRequestFinished&&S.ajaxRequestFinished()},data:this.mixinDefaultPostParams(this.postParams),timeout:null!==this.timeout?this.timeout:void 0};return $.ajax(o)}},{key:"isRequestToApiMethod",value:function(){return this.getParams&&"API"===this.getParams.module&&this.getParams.method||this.postParams&&"API"===this.postParams.module&&this.postParams.method}},{key:"isWidgetizedRequest",value:function(){return"Widgetize"===broadcast.getValueFromUrl("module")}},{key:"getDefaultPostParams",value:function(){return this.withToken||this.isRequestToApiMethod()||S.shouldPropagateTokenAuth?{token_auth:S.token_auth,force_api_session:broadcast.isWidgetizeRequestWithoutSession()?0:1}:{}}},{key:"mixinDefaultPostParams",value:function(e){var t=this.getDefaultPostParams(),n=De(De({},t),e);return n}},{key:"mixinDefaultGetParams",value:function(e){var t=this,n=we.getSearchParam("segment"),r={idSite:S.idSite?S.idSite.toString():broadcast.getValueFromUrl("idSite"),period:S.period||broadcast.getValueFromUrl("period"),segment:n},o=e;return o.token_auth&&(o.token_auth=null,delete o.token_auth),Object.keys(r).forEach((function(e){t.useGETDefaultParameter(e)&&!o[e]&&!t.postParams[e]&&r[e]&&(o[e]=r[e])})),!this.useGETDefaultParameter("date")||o.date||this.postParams.date||(o.date=S.currentDateString),o}}],[{key:"fetch",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new e;return n.withTokenInUrl&&r.withTokenInUrl(),r.setFormat(n.format||"json"),r.addParams(De({module:"API",format:n.format||"json"},t),"get"),n.postParams&&r.addParams(n.postParams,"post"),n.headers&&(r.headers=n.headers),"undefined"===typeof n.createErrorNotification||n.createErrorNotification||r.useCallbackInCaseOfError(),n.abortController&&(r.abortController=n.abortController),r.send().then((function(e){if("error"===e.result)throw new Ue(e.message);return e}))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.fetch(e,De(De({},n),{},{postParams:t}))}}]),e}();function qe(){return globalAjaxQueue}window.ajaxHelper=We,angular.module("piwikApp.service").service("globalAjaxQueue",qe);
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var Je={mounted:function(e,t){var n={};$(e).addClass("matomo-dropdown-menu");var r=!!$(e).parent().closest(".dropdown-content").length;r&&(n={hover:!0},$(e).addClass("submenu"),$(t.value.activates).addClass("submenu-dropdown-content"),$(e).parents(".dropdown-content").addClass("submenu-container")),$(e).dropdown(n)}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Ge(e){return{restrict:"A",link:function(t,n,r){var o={instance:null,value:{activates:$("#".concat(r.activates))[0]},oldValue:null,modifiers:{},dir:{}};e((function(){Je.mounted(n[0],o)}))}}}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function ze(e,t,n){var r=t.value.isMouseDown&&t.value.hasScrolled;t.value.isMouseDown=!1,t.value.hasScrolled=!1,r||e.contains(n.target)||t.value&&t.value.blur()}function Ye(e,t){t.value.hasScrolled=!0}function Qe(e,t){t.value.isMouseDown=!0,t.value.hasScrolled=!1}function Ke(e,t,n){27===n.which&&setTimeout((function(){t.value.isMouseDown=!1,t.value.hasScrolled=!1,t.value.blur&&t.value.blur()}),0)}Ge.$inject=["$timeout"],angular.module("piwikApp").directive("piwikDropdownMenu",Ge);var Xe=document.documentElement,Ze={mounted:function(e,t){t.value.isMouseDown=!1,t.value.hasScrolled=!1,t.value.onEscapeHandler=Ke.bind(null,e,t),t.value.onMouseDown=Qe.bind(null,e,t),t.value.onClickOutsideElement=ze.bind(null,e,t),t.value.onScroll=Ye.bind(null,e,t),Xe.addEventListener("keyup",t.value.onEscapeHandler),Xe.addEventListener("mousedown",t.value.onMouseDown),Xe.addEventListener("mouseup",t.value.onClickOutsideElement),Xe.addEventListener("scroll",t.value.onScroll)},unmounted:function(e,t){Xe.removeEventListener("keyup",t.value.onEscapeHandler),Xe.removeEventListener("mousedown",t.value.onMouseDown),Xe.removeEventListener("mouseup",t.value.onClickOutsideElement),Xe.removeEventListener("scroll",t.value.onScroll)}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function et(){return{restrict:"A",link:function(e,t,n){var r={instance:null,value:{blur:function(){setTimeout((function(){e.$apply(n.piwikFocusAnywhereButHere)}),0)}},oldValue:null,modifiers:{},dir:{}};Ze.mounted(t[0],r),t.on("$destroy",(function(){return Ze.unmounted(t[0],r)}))}}}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function tt(e,t){t.arg&&setTimeout((function(){e.focus(),t.value.afterFocus&&t.value.afterFocus()}),5)}et.$inject=[],angular.module("piwikApp.directive").directive("piwikFocusAnywhereButHere",et);var nt={mounted:function(e,t){tt(e,t)},updated:function(e,t){tt(e,t)}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function rt(){return{restrict:"A",link:function(e,t,n){e.$watch(n.piwikFocusIf,(function(n){var r={instance:null,arg:n?"1":void 0,value:{afterFocus:function(){return e.$apply()}},oldValue:null,modifiers:{},dir:{}};nt.updated(t[0],r)}))}}}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function ot(e,t){return e instanceof HTMLElement?e:t.instance.$refs[e]}angular.module("piwikApp.directive").directive("piwikFocusIf",rt);var it={getRef:ot};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function at(e){e.classList.toggle("expanded");var t=e.querySelector(".dropdown.positionInViewport");t&&S.helper.setMarginLeftToBeInViewport(t)}function ct(e,t,n){var r=t.value.isMouseDown&&t.value.hasScrolled;t.value.isMouseDown=!1,t.value.hasScrolled=!1,r||e.contains(n.target)||e.classList.remove("expanded")}function lt(e){e.value.hasScrolled=!0}function st(e){e.value.isMouseDown=!0,e.value.hasScrolled=!1}function ut(e,t,n){27===n.which&&(t.value.isMouseDown=!1,t.value.hasScrolled=!1,e.classList.remove("expanded"))}var dt=document.documentElement,pt={mounted:function(e,t){t.value.isMouseDown=!1,t.value.hasScrolled=!1,t.value.onExpand=at.bind(null,e),t.value.onEscapeHandler=ut.bind(null,e,t),t.value.onMouseDown=st.bind(null,t),t.value.onClickOutsideElement=ct.bind(null,e,t),t.value.onScroll=lt.bind(null,t),setTimeout((function(){var e=it.getRef(t.value.expander,t);e.addEventListener("click",t.value.onExpand)})),dt.addEventListener("keyup",t.value.onEscapeHandler),dt.addEventListener("mousedown",t.value.onMouseDown),dt.addEventListener("mouseup",t.value.onClickOutsideElement),dt.addEventListener("scroll",t.value.onScroll)},unmounted:function(e,t){var n=it.getRef(t.value.expander,t);n.removeEventListener("click",t.value.onExpand),dt.removeEventListener("keyup",t.value.onEscapeHandler),dt.removeEventListener("mousedown",t.value.onMouseDown),dt.removeEventListener("mouseup",t.value.onClickOutsideElement),dt.removeEventListener("scroll",t.value.onScroll)}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function mt(){return{restrict:"A",link:function(e,t){var n={instance:null,value:{expander:t.find(".title").first()[0]},oldValue:null,modifiers:{},dir:{}};pt.mounted(t[0],n),t.on("$destroy",(function(){return pt.unmounted(t[0],n)}))}}}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function ft(e){e.classList.add("expanded");var t=e.querySelector(".dropdown.positionInViewport");t&&S.helper.setMarginLeftToBeInViewport(t)}function ht(e){e.classList.remove("expanded")}function gt(e,t){e.contains(t.target)||e.classList.remove("expanded")}function bt(e,t){27===t.which&&e.classList.remove("expanded")}mt.$inject=[],angular.module("piwikApp").directive("piwikExpandOnClick",mt);var vt=document.documentElement,yt={mounted:function(e,t){t.value.onMouseEnter=ft.bind(null,e),t.value.onMouseLeave=ht.bind(null,e),t.value.onClickOutsideElement=gt.bind(null,e),t.value.onEscapeHandler=bt.bind(null,e),setTimeout((function(){var e=it.getRef(t.value.expander,t);e.addEventListener("mouseenter",t.value.onMouseEnter)})),e.addEventListener("mouseleave",t.value.onMouseLeave),vt.addEventListener("keyup",t.value.onEscapeHandler),vt.addEventListener("mouseup",t.value.onClickOutsideElement)},unmounted:function(e,t){var n=it.getRef(t.value.expander,t);n.removeEventListener("mouseenter",t.value.onMouseEnter),e.removeEventListener("mouseleave",t.value.onMouseLeave),document.removeEventListener("keyup",t.value.onEscapeHandler),document.removeEventListener("mouseup",t.value.onClickOutsideElement)}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function Ot(){return{restrict:"A",link:function(e,t){var n={instance:null,value:{expander:t.find(".title").first()[0]},oldValue:null,modifiers:{},dir:{}};yt.mounted(t[0],n),t.on("$destroy",(function(){return yt.unmounted(t[0],n)}))}}}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function wt(e,t){e.value.focusedElement!==t.target&&(e.value.focusedElement=t.target,angular.element(t.target).select())}function jt(e){var t=document.createRange();t.selectNode(e.target);var n=window.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),n&&n.addRange(t)}function kt(e){e.value.focusedElement=null}Ot.$inject=[],angular.module("piwikApp").directive("piwikExpandOnHover",Ot);var St={mounted:function(e,t){var n=e.tagName.toLowerCase();t.value.elementSupportsSelect="textarea"===n,t.value.elementSupportsSelect?(t.value.onFocusHandler=wt.bind(null,t),t.value.onBlurHandler=kt.bind(null,t),e.addEventListener("focus",t.value.onFocusHandler),e.addEventListener("blur",t.value.onBlurHandler)):(t.value.onClickHandler=jt,e.addEventListener("click",t.value.onClickHandler))},unmounted:function(e,t){t.value.elementSupportsSelect?(e.removeEventListener("focus",t.value.onFocusHandler),e.removeEventListener("blur",t.value.onBlurHandler)):e.removeEventListener("click",t.value.onClickHandler)}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Ct(){return{restrict:"A",link:function(e,t){var n={instance:null,value:{},oldValue:null,modifiers:{},dir:{}};St.mounted(t[0],n),t.on("$destroy",(function(){return St.unmounted(t[0],n)}))}}}Ct.$inject=[],angular.module("piwikApp").directive("piwikSelectOnFocus",Ct);
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
var Pt=!1,Dt={mounted:function(e,t){t.value.activator&&setTimeout((function(){if(!Pt){Pt=!0;var n=it.getRef(t.value.activator,t);n&&window.$(n).show();var r=n.getAttribute("data-target");window.$("#".concat(r)).sidenav({closeOnClick:!0})}e.classList.contains("collapsible")&&window.$(e).collapsible()}))}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function Et(e){return{restrict:"A",priority:10,link:function(t,n,r){var o={instance:null,value:{activator:$(r.piwikSideNav)[0]},oldValue:null,modifiers:{},dir:{}};e((function(){Dt.mounted(n[0],o)}))}}}Et.$inject=["$timeout"],angular.module("piwikApp.directive").directive("piwikSideNav",Et);var Vt={ref:"root"};function Nt(e,t,n,r,o,a){return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Vt,[Object(i["renderSlot"])(e.$slots,"default")],512)),[[i["vShow"],e.modelValue]])}var Tt=Object(i["defineComponent"])({props:{modelValue:{type:Boolean,required:!0},element:{type:HTMLElement,required:!1}},emits:["yes","no","closeEnd","close","validation","update:modelValue"],activated:function(){this.$emit("update:modelValue",!1)},watch:{modelValue:function(e,t){var n=this;if(e){var r=this.element||this.$refs.root.firstElementChild;S.helper.modalConfirm(r,{yes:function(){n.$emit("yes")},no:function(){n.$emit("no")},validation:function(){n.$emit("validation")}},{onCloseEnd:function(){n.element||n.$refs.root.appendChild(r),n.$emit("update:modelValue",!1),n.$emit("closeEnd")}})}else!1===e&&!0===t&&this.$emit("close")}}});Tt.render=Nt;var At=Tt;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Bt(){var e=i["createApp"].apply(void 0,arguments);return e.config.globalProperties.$sanitize=window.vueSanitize,e.config.globalProperties.translate=C,e}function xt(e,t){return Rt(e)||Ft(e,t)||Mt(e,t)||It()}function It(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Mt(e,t){if(e){if("string"===typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(e,t):void 0}}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ft(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){c=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw o}}return i}}function Rt(e){if(Array.isArray(e))return e}function _t(e){return _t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var $t=0;function Ht(e){return e.substring(0,1).toLowerCase()+e.substring(1).replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}function Ut(e){return e.substring(0,1).toLowerCase()+e.substring(1).replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))}function Wt(e){return"object"===_t(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype?Object.fromEntries(Object.entries(e).filter((function(e){return!/^\$/.test(e[0])}))):e}function qt(e){var t=e.component,n=e.require,r=e.scope,o=void 0===r?{}:r,a=e.events,c=void 0===a?{}:a,l=e.$inject,s=e.directiveName,u=e.transclude,d=e.mountPointFactory,p=e.postCreate,m=e.noScope,f=e.restrict,h=void 0===f?"A":f,g=e.priority,b=e.replace,v=$t;u&&($t+=1);var y={},O={};function w(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var l={restrict:h,require:n,priority:g,scope:m?void 0:O,compile:function(){return{post:function(e,n,a,l){var s=u?n.find("[ng-transclude][counter=".concat(v,"]")):null,m="<root-component";Object.entries(c).forEach((function(e){var t=xt(e,1),n=t[0];m+=" @".concat(Ht(n),"=\"onEventHandler('").concat(n,"', $event)\"")})),Object.entries(o).forEach((function(e){var t=xt(e,2),n=t[1];if("&"===n.angularJsBind||"&?"===n.angularJsBind){var r=Ht(n.vue);c[r]||(m+=" @".concat(r,"=\"onEventHandler('").concat(r,"', $event)\""))}else m+=" :".concat(Ht(n.vue),'="').concat(n.vue,'"')})),m+=">",u&&(m+='<div ref="transcludeTarget"/>'),m+="</root-component>";var f=Bt({template:m,data:function(){var t=this,i={};return Object.entries(o).forEach((function(o){var c=xt(o,2),s=c[0],u=c[1],d=Wt(e[s]);"undefined"===typeof d&&"undefined"!==typeof u.default&&(d=u.default instanceof Function?u.default.apply(u,[e,n,a].concat(r)):u.default),u.transform&&(d=u.transform.apply(u,[d,t,e,n,a,l].concat(r))),i[u.vue]=d})),i},setup:function(){if(u){var e=Object(i["ref"])(null);return{transcludeTarget:e}}},methods:{onEventHandler:function(t,o){var i=Ut(y[t]||t);e[i]&&e[i](o),c[t]&&c[t].apply(c,[o,this,e,n,a,l].concat(r))}}});f.component("root-component",t);var h=d?d.apply(void 0,[e,n,a].concat(r)):n[0],g=f.mount(h);Object.entries(o).forEach((function(t){var o=xt(t,2),i=o[0],c=o[1];c.angularJsBind&&"&"!==c.angularJsBind&&"&?"!==c.angularJsBind&&e.$watch(i,(function(t){var o=Wt(t);"undefined"!==typeof c.default&&"undefined"===typeof t&&(o=c.default instanceof Function?c.default.apply(c,[e,n,a].concat(r)):c.default),c.transform&&(o=c.transform.apply(c,[o,g,e,n,a,l].concat(r))),g[c.vue]=o}))})),u&&$(g.transcludeTarget).append(s),p&&p.apply(void 0,[g,e,n,a,l].concat(r)),b&&(Array.from(n[0].attributes).forEach((function(e){o[e.nodeName]||h.firstElementChild.setAttribute(e.nodeName,e.nodeValue)})),n.replaceWith(window.$(h).children())),n.on("$destroy",(function(){f.unmount()}))}}}};return u&&(l.transclude=!0,l.template='<div ng-transclude counter="'.concat(v,'"/>')),l}return Object.entries(o).forEach((function(e){var t=xt(e,2),n=t[0],r=t[1];r.vue||(r.vue=n),r.angularJsBind&&(O[n]=r.angularJsBind),y[r.vue]=n})),w.$inject=l||[],angular.module("piwikApp").directive(s,w),w}function Jt(e){if("undefined"!==typeof e)return"true"===e||!!e&&e>0&&"0"!==e}function Gt(e){if("undefined"!==typeof e)return null===e?null:parseInt(e,10)}function zt(e){return"undefined"===typeof e?e:JSON.parse(JSON.stringify(e))}function Yt(e){var t=zt(e);return S.helper.getAngularDependency("$rootScope").$applyAsync(),t}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */qt({component:At,scope:{show:{vue:"modelValue",default:!1},element:{default:function(e,t){return t[0]}}},events:{yes:function(e,t,n,r,o){o.yes&&(n.$eval(o.yes),setTimeout((function(){n.$apply()}),0))},no:function(e,t,n,r,o){o.no&&(n.$eval(o.no),setTimeout((function(){n.$apply()}),0))},validation:function(e,t,n,r,o){o.no&&(n.$eval(o.no),setTimeout((function(){n.$apply()}),0))},close:function(e,t,n,r,o){o.close&&(n.$eval(o.close),setTimeout((function(){n.$apply()}),0))},"update:modelValue":function(e,t,n,r,o,i,a){setTimeout((function(){n.$apply(a(o.piwikDialog).assign(n,e))}),0)}},$inject:["$parse"],directiveName:"piwikDialog",transclude:!0,mountPointFactory:function(e,t){var n=$('<div class="vue-placeholder"/>');return n.appendTo(t),n[0]},postCreate:function(e,t,n,r){t.$watch(r.piwikDialog,(function(t,n){n!==t&&(e.modelValue=t||!1)}))},noScope:!0});var Qt={key:0,class:"title",tabindex:"6"},Kt=["href","title"],Xt={class:"iconsBar"},Zt=["href","title"],en=Object(i["createElementVNode"])("span",{class:"icon-help"},null,-1),tn=[en],nn=["title"],rn=Object(i["createElementVNode"])("span",{class:"icon-info"},null,-1),on=[rn],an={class:"ratingIcons"},cn={class:"inlineHelp"},ln=["innerHTML"],sn=["href"];function un(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("RateFeature");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"enrichedHeadline",onMouseenter:t[1]||(t[1]=function(t){return e.showIcons=!0}),onMouseleave:t[2]||(t[2]=function(t){return e.showIcons=!1}),ref:"root"},[e.editUrl?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Qt,[Object(i["renderSlot"])(e.$slots,"default")])),e.editUrl?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:1,class:"title",href:e.editUrl,title:e.translate("CoreHome_ClickToEditX",e.$sanitize(e.actualFeatureName))},[Object(i["renderSlot"])(e.$slots,"default")],8,Kt)):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("span",Xt,[e.helpUrl&&!e.actualInlineHelp?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,rel:"noreferrer noopener",target:"_blank",class:"helpIcon",href:e.helpUrl,title:e.translate("CoreHome_ExternalHelp")},tn,8,Zt)):Object(i["createCommentVNode"])("",!0),e.actualInlineHelp?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:1,onClick:t[0]||(t[0]=function(t){return e.showInlineHelp=!e.showInlineHelp}),class:Object(i["normalizeClass"])(["helpIcon",{active:e.showInlineHelp}]),title:e.translate(e.reportGenerated?"General_HelpReport":"General_Help")},on,10,nn)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",an,[Object(i["createVNode"])(c,{title:e.actualFeatureName},null,8,["title"])])],512),[[i["vShow"],e.showIcons||e.showInlineHelp]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",cn,[Object(i["createElementVNode"])("div",{innerHTML:e.$sanitize(e.actualInlineHelp)},null,8,ln),e.helpUrl?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,rel:"noreferrer noopener",target:"_blank",class:"readMore",href:e.helpUrl},Object(i["toDisplayString"])(e.translate("General_MoreDetails")),9,sn)):Object(i["createCommentVNode"])("",!0)],512),[[i["vShow"],e.showInlineHelp]])],544)}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function dn(e,t){return Object(i["defineAsyncComponent"])((function(){return new Promise((function(n){window.$(document).ready((function(){window[e]?n(window[e][t]):n(null)}))}))}))}var pn=dn("Feedback","RateFeature"),mn=Object(i["defineComponent"])({props:{helpUrl:{type:String,default:""},editUrl:{type:String,default:""},reportGenerated:String,featureName:String,inlineHelp:String},components:{RateFeature:pn},data:function(){return{showIcons:!1,showInlineHelp:!1,actualFeatureName:this.featureName,actualInlineHelp:this.inlineHelp}},watch:{inlineHelp:function(e){this.actualInlineHelp=e},featureName:function(e){this.actualFeatureName=e}},mounted:function(){var e=this,t=this.$refs.root;setTimeout((function(){if(!e.actualInlineHelp){var n,r=t.querySelector(".title .inlineHelp");if(!r&&null!==(n=t.parentElement)&&void 0!==n&&n.nextElementSibling&&(r=t.parentElement.nextElementSibling.querySelector(".reportDocumentation")),r){var o=r.getAttribute("data-content").trim();o.length&&(e.actualInlineHelp="<p>".concat(o,"</p>"),setTimeout((function(){return r.remove()}),0))}}e.actualFeatureName||(e.actualFeatureName=t.querySelector(".title").textContent),e.reportGenerated&&p.parse(S.period,S.currentDateString).containsToday()&&window.$(t.querySelector(".report-generated")).tooltip({track:!0,content:e.reportGenerated,items:"div",show:!1,hide:!1})}))}});mn.render=un;var fn=mn,hn=(qt({component:fn,scope:{helpUrl:{angularJsBind:"@"},editUrl:{angularJsBind:"@"},reportGenerated:{angularJsBind:"@?"},featureName:{angularJsBind:"@"},inlineHelp:{angularJsBind:"@?"}},directiveName:"piwikEnrichedHeadline",transclude:!0}),{class:"card",ref:"root"}),gn={class:"card-content"},bn={key:0,class:"card-title"},vn={key:1,class:"card-title"},yn={ref:"content"};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function On(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("EnrichedHeadline");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",hn,[Object(i["createElementVNode"])("div",gn,[!e.contentTitle||e.actualFeature||e.helpUrl||e.actualHelpText?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("h2",bn,Object(i["toDisplayString"])(e.contentTitle),1)),e.contentTitle&&(e.actualFeature||e.helpUrl||e.actualHelpText)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("h2",vn,[Object(i["createVNode"])(c,{"feature-name":e.actualFeature,"help-url":e.helpUrl,"inline-help":e.actualHelpText},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.contentTitle),1)]})),_:1},8,["feature-name","help-url","inline-help"])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",yn,[Object(i["renderSlot"])(e.$slots,"default")],512)])],512)}var wn=null,jn=Object(i["defineComponent"])({props:{contentTitle:String,feature:String,helpUrl:String,helpText:String,anchor:String},components:{EnrichedHeadline:fn},data:function(){return{actualFeature:this.feature,actualHelpText:this.helpText}},watch:{feature:function(e){this.actualFeature=e},helpText:function(e){this.actualHelpText=e}},mounted:function(){var e,t=this,n=this.$refs,r=n.root,o=n.content;if(this.anchor){var i=document.createElement("a");i.id=this.anchor,r.parentElement.prepend(i)}if(setTimeout((function(){var e=o.querySelector(".contentHelp");e&&(t.actualHelpText=e.innerHTML,e.remove())}),0),!this.actualFeature||!0!==this.actualFeature&&"true"!==this.actualFeature||(this.actualFeature=this.contentTitle),null===wn&&(wn=document.querySelector("#content.admin")),wn&&(e=wn.offsetTop),e||0===e){var a=r.closest("[piwik-widget-loader]"),c=a?a.offsetTop:r.offsetTop;c-e<17&&(r.style.marginTop=0)}}});jn.render=On;var kn=jn;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */qt({component:kn,scope:{contentTitle:{angularJsBind:"@"},feature:{angularJsBind:"@"},helpUrl:{angularJsBind:"@"},helpText:{angularJsBind:"@"},anchor:{angularJsBind:"@?"}},directiveName:"piwikContentBlock",transclude:!0});function Sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e,t,n){return t&&Cn(e.prototype,t),n&&Cn(e,n),e}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var En=function(){function e(){var t=this;Sn(this,e),Dn(this,"segmentState",Object(i["reactive"])({availableSegments:[]})),S.on("piwikSegmentationInited",(function(){return t.setSegmentState()}))}return Pn(e,[{key:"state",get:function(){return Object(i["readonly"])(this.segmentState)}},{key:"setSegmentState",value:function(){try{var e=$(".segmentEditorPanel").data("uiControlObject");this.segmentState.availableSegments=e.impl.availableSegments||[]}catch(t){}}}]),e}(),Vn=new En;function Nn(e){return xn(e)||Bn(e)||An(e)||Tn()}function Tn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function An(e,t){if(e){if("string"===typeof e)return In(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?In(e,t):void 0}}function Bn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function xn(e){if(Array.isArray(e))return In(e)}function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){$n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,t,n){return t&&Rn(e.prototype,t),n&&Rn(e,n),e}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var Hn=8,Un=3;function Wn(e){return e?Array.isArray(e)?e:[e]:[]}var qn=function(){function e(){var t=this;Fn(this,e),$n(this,"privateState",Object(i["reactive"])({comparisonsDisabledFor:[]})),$n(this,"state",Object(i["readonly"])(this.privateState)),$n(this,"colors",{}),$n(this,"segmentComparisons",Object(i["computed"])((function(){return t.parseSegmentComparisons()}))),$n(this,"periodComparisons",Object(i["computed"])((function(){return t.parsePeriodComparisons()}))),$n(this,"isEnabled",Object(i["computed"])((function(){return t.checkEnabledForCurrentPage()}))),this.loadComparisonsDisabledFor(),$((function(){t.colors=t.getAllSeriesColors()})),Object(i["watch"])((function(){return t.getComparisons()}),(function(){return S.postEvent("piwikComparisonsChanged")}),{deep:!0})}return _n(e,[{key:"getComparisons",value:function(){return this.getSegmentComparisons().concat(this.getPeriodComparisons())}},{key:"isComparing",value:function(){return this.isComparisonEnabled()&&(this.segmentComparisons.value.length>1||this.periodComparisons.value.length>1)}},{key:"isComparingPeriods",value:function(){return this.getPeriodComparisons().length>1}},{key:"getSegmentComparisons",value:function(){return this.isComparisonEnabled()?this.segmentComparisons.value:[]}},{key:"getPeriodComparisons",value:function(){return this.isComparisonEnabled()?this.periodComparisons.value:[]}},{key:"getSeriesColor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getComparisonSeriesIndex(t.index,e.index)%Hn;if(0===n)return this.colors["series".concat(r)];var o=n%Un;return this.colors["series".concat(r,"-shade").concat(o)]}},{key:"getSeriesColorName",value:function(e,t){var n="series".concat(e%Hn);return t>0&&(n+="-shade".concat(t%Un)),n}},{key:"isComparisonEnabled",value:function(){return this.isEnabled.value}},{key:"getIndividualComparisonRowIndices",value:function(e){var t=this.getSegmentComparisons().length,n=e%t,r=Math.floor(e/t);return{segmentIndex:n,periodIndex:r}}},{key:"getComparisonSeriesIndex",value:function(e,t){var n=this.getSegmentComparisons().length;return e*n+t}},{key:"getAllComparisonSeries",value:function(){var e=this,t=[],n=0;return this.getPeriodComparisons().forEach((function(r){e.getSegmentComparisons().forEach((function(o){t.push({index:n,params:Ln(Ln({},o.params),r.params),color:e.colors["series".concat(n)]}),n+=1}))})),t}},{key:"removeSegmentComparison",value:function(e){if(!this.isComparisonEnabled())throw new Error("Comparison disabled.");var t=Nn(this.segmentComparisons.value);t.splice(e,1);var n={};0===e&&(n.segment=t[0].params.segment),this.updateQueryParamsFromComparisons(t,this.periodComparisons.value,n)}},{key:"addSegmentComparison",value:function(e){if(!this.isComparisonEnabled())throw new Error("Comparison disabled.");var t=this.segmentComparisons.value.concat([{params:e,index:-1,title:""}]);this.updateQueryParamsFromComparisons(t,this.periodComparisons.value)}},{key:"updateQueryParamsFromComparisons",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={},o={},i=!1,a=!1;e.forEach((function(e){i?r[e.params.segment]=!0:i=!0})),t.forEach((function(e){a?o["".concat(e.params.period,"|").concat(e.params.date)]=!0:a=!0}));var c=[],l=[];Object.keys(o).forEach((function(e){var t=e.split("|");c.push(t[0]),l.push(t[1])}));var s={compareSegments:Object.keys(r),comparePeriods:c,compareDates:l},u=S.helper.isAngularRenderingThePage()?we.hashParsed.value:we.urlParsed.value;we.updateLocation(Ln(Ln(Ln({},u),s),n))}},{key:"getAllSeriesColors",value:function(){var e=S.ColorManager;if(!e)return[];for(var t=[],n=0;n<Hn;n+=1){t.push("series".concat(n));for(var r=0;r<Un;r+=1)t.push("series".concat(n,"-shade").concat(r))}return e.getColors("comparison-series-color",t)}},{key:"loadComparisonsDisabledFor",value:function(){var e=this,t=we.parsed.value.module;"CoreUpdater"!==t&&"Installation"!==t?We.fetch({module:"API",method:"API.getPagesComparisonsDisabledFor"}).then((function(t){e.privateState.comparisonsDisabledFor=t})):this.privateState.comparisonsDisabledFor=[]}},{key:"parseSegmentComparisons",value:function(){var e=Vn.state.availableSegments,t=Nn(Wn(we.parsed.value.compareSegments));t.unshift(we.parsed.value.segment||"");var n=[];return t.forEach((function(t,r){var o;e.forEach((function(e){e.definition!==t&&e.definition!==decodeURIComponent(t)&&decodeURIComponent(e.definition)!==t||(o=e)}));var i=o?o.name:C("General_Unknown");""===t.trim()&&(i=C("SegmentEditor_DefaultAllVisits")),n.push({params:{segment:t},title:S.helper.htmlDecode(i),index:r})})),n}},{key:"parsePeriodComparisons",value:function(){var e=Nn(Wn(we.parsed.value.comparePeriods)),t=Nn(Wn(we.parsed.value.compareDates));e.unshift(we.parsed.value.period),t.unshift(we.parsed.value.date);for(var n=[],r=0;r<Math.min(t.length,e.length);r+=1){var o=void 0;try{o=p.parse(e[r],t[r]).getPrettyString()}catch(i){o=C("General_Error")}n.push({params:{date:t[r],period:e[r]},title:o,index:r})}return n}},{key:"checkEnabledForCurrentPage",value:function(){var e=we.parsed.value.category||we.parsed.value.module,t=we.parsed.value.subcategory||we.parsed.value.action,n="".concat(e,".").concat(t),r=-1===this.privateState.comparisonsDisabledFor.indexOf(n)&&-1===this.privateState.comparisonsDisabledFor.indexOf("".concat(e,".*"));return document.documentElement.classList.toggle("comparisonsDisabled",!r),r}}]),e}(),Jn=new qn,Gn={key:0,ref:"root",class:"matomo-comparisons"},zn={class:"comparison-type"},Yn=["title"],Qn=["href"],Kn=["title"],Xn={class:"comparison-period-label"},Zn=["onClick"],er=["title"],tr={class:"loadingPiwik",style:{display:"none"}},nr=["alt"];function rr(e,t,n,r,o,a){var c=Object(i["resolveDirective"])("tooltips");return e.isComparing?Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Gn,[Object(i["createElementVNode"])("h3",null,Object(i["toDisplayString"])(e.translate("General_Comparisons")),1),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.segmentComparisons,(function(t,n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"comparison card",key:t.index},[Object(i["createElementVNode"])("div",zn,Object(i["toDisplayString"])(e.translate("General_Segment")),1),Object(i["createElementVNode"])("div",{class:"title",title:t.title+"<br/>"+decodeURIComponent(t.params.segment)},[Object(i["createElementVNode"])("a",{target:"_blank",href:e.getUrlToSegment(t.params.segment)},Object(i["toDisplayString"])(t.title),9,Qn)],8,Yn),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.periodComparisons,(function(n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"comparison-period",key:n.index,title:e.getComparisonTooltip(t,n)},[Object(i["createElementVNode"])("span",{class:"comparison-dot",style:Object(i["normalizeStyle"])({"background-color":e.getSeriesColor(t,n)})},null,4),Object(i["createElementVNode"])("span",Xn,Object(i["toDisplayString"])(n.title)+" ("+Object(i["toDisplayString"])(e.getComparisonPeriodType(n))+") ",1)],8,Kn)})),128)),e.segmentComparisons.length>1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,class:"remove-button",onClick:function(t){return e.removeSegmentComparison(n)}},[Object(i["createElementVNode"])("span",{class:"icon icon-close",title:e.translate("General_ClickToRemoveComp")},null,8,er)],8,Zn)):Object(i["createCommentVNode"])("",!0)])})),128)),Object(i["createElementVNode"])("div",tr,[Object(i["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif",alt:e.translate("General_LoadingData")},null,8,nr),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.translate("General_LoadingData")),1)])],512)),[[c,{duration:200,delay:200,content:e.transformTooltipContent}]]):Object(i["createCommentVNode"])("",!0)}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function or(e,t){window.$(e).tooltip({track:!0,content:t.value.content,show:{delay:t.value.delay||700,duration:t.value.duration||200},hide:!1})}var ir={mounted:function(e,t){setTimeout((function(){return or(e,t)}))},updated:function(e,t){setTimeout((function(){return or(e,t)}))},beforeUnmount:function(e){try{window.$(e).tooltip("destroy")}catch(t){}}};function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){lr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sr=Object(i["defineComponent"])({props:{},directives:{Tooltips:ir},data:function(){return{comparisonTooltips:null}},setup:function(){var e=Object(i["computed"])((function(){return Jn.isComparing()})),t=Object(i["computed"])((function(){return Jn.getSegmentComparisons()})),n=Object(i["computed"])((function(){return Jn.getPeriodComparisons()})),r=Jn.getSeriesColor.bind(Jn);function o(){var e=window.$(this).attr("title");return window.vueSanitize(e.replace(/\n/g,"<br />"))}return{isComparing:e,segmentComparisons:t,periodComparisons:n,getSeriesColor:r,transformTooltipContent:o}},methods:{comparisonHasSegment:function(e){return"undefined"!==typeof e.params.segment},removeSegmentComparison:function(e){window.$(this.$refs.root).tooltip("destroy"),Jn.removeSegmentComparison(e)},getComparisonPeriodType:function(e){var t=e.params.period;if("range"===t)return C("CoreHome_PeriodRange");var n=C("Intl_Period".concat(t.substring(0,1).toUpperCase()).concat(t.substring(1)));return n.substring(0,1).toUpperCase()+n.substring(1)},getComparisonTooltip:function(e,t){if(this.comparisonTooltips&&Object.keys(this.comparisonTooltips).length)return(this.comparisonTooltips[t.index]||{})[e.index]},getUrlToSegment:function(e){var t=cr({},we.hashParsed.value);return delete t.comparePeriods,delete t.compareDates,delete t.compareSegments,t.segment=e,"".concat(window.location.search,"#?").concat(we.stringify(t))},onComparisonsChanged:function(){var e=this;if(this.comparisonTooltips=null,Jn.isComparing()){var t=Jn.getPeriodComparisons(),n=Jn.getSegmentComparisons();We.fetch({method:"API.getProcessedReport",apiModule:"VisitsSummary",apiAction:"get",compare:"1",compareSegments:we.getSearchParam("compareSegments"),comparePeriods:we.getSearchParam("comparePeriods"),compareDates:we.getSearchParam("compareDates"),format_metrics:"1"}).then((function(r){e.comparisonTooltips={},t.forEach((function(t){e.comparisonTooltips[t.index]={},n.forEach((function(n){var o=e.generateComparisonTooltip(r,t,n);e.comparisonTooltips[t.index][n.index]=o}))}))}))}},generateComparisonTooltip:function(e,t,n){if(!e.reportData.comparisons)return"";var r=Jn.getComparisonSeriesIndex(t.index,0),o=e.reportData.comparisons[r],i=Jn.getComparisonSeriesIndex(t.index,n.index),a=e.reportData.comparisons[i],c=e.reportData.comparisons[n.index],l='<div class="comparison-card-tooltip">',s=(a.nb_visits/o.nb_visits*100).toFixed(2);return s="".concat(s,"%"),l+=C("General_ComparisonCardTooltip1",["'".concat(a.compareSegmentPretty,"'"),a.comparePeriodPretty,s,a.nb_visits.toString(),o.nb_visits.toString()]),t.index>0&&(l+="<br/><br/>",l+=C("General_ComparisonCardTooltip2",[a.nb_visits_change.toString(),c.compareSegmentPretty,c.comparePeriodPretty])),l+="</div>",l}},mounted:function(){var e=this;S.on("piwikComparisonsChanged",(function(){e.onComparisonsChanged()})),this.onComparisonsChanged()}});sr.render=rr;var ur=sr;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function dr(){return Jn}dr.$inject=[],angular.module("piwikApp.service").factory("piwikComparisonsService",dr);qt({component:ur,directiveName:"piwikComparisons",restrict:"E"});var pr={ref:"root",class:"menuDropdown"},mr=["title"],fr=["innerHTML"],hr=Object(i["createElementVNode"])("span",{class:"icon-arrow-bottom"},null,-1),gr={class:"items"},br={key:0,class:"search"},vr=["placeholder"],yr=["title"],Or=["title"];function wr(e,t,n,r,o,a){var c=Object(i["resolveDirective"])("focus-if"),l=Object(i["resolveDirective"])("focus-anywhere-but-here");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",pr,[Object(i["createElementVNode"])("span",{class:"title",onClick:t[0]||(t[0]=function(t){return e.showItems=!e.showItems}),title:e.tooltip},[Object(i["createElementVNode"])("span",{innerHTML:e.$sanitize(this.actualMenuTitle)},null,8,fr),hr],8,mr),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",gr,[e.showSearch&&e.showItems?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",br,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searchTerm=t}),onKeydown:t[2]||(t[2]=function(t){return e.onSearchTermKeydown(t)}),placeholder:e.translate("General_Search")},null,40,vr),[[i["vModelText"],e.searchTerm],[c,{},e.showItems]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("img",{class:"search_ico",src:"plugins/Morpheus/images/search_ico.png",title:e.translate("General_Search")},null,8,yr),[[i["vShow"],!e.searchTerm]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("img",{onClick:t[3]||(t[3]=function(t){e.searchTerm="",e.searchItems("")}),class:"reset",src:"plugins/CoreHome/images/reset_search.png",title:e.translate("General_Clear")},null,8,Or),[[i["vShow"],e.searchTerm]])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",{onClick:t[4]||(t[4]=function(t){return e.selectItem(t)})},[Object(i["renderSlot"])(e.$slots,"default")])],512),[[i["vShow"],e.showItems]])],512)),[[l,{blur:e.lostFocus}]])}var jr=window,kr=jr.$,Sr=Object(i["defineComponent"])({props:{menuTitle:String,tooltip:String,showSearch:Boolean,menuTitleChangeOnClick:String},directives:{FocusAnywhereButHere:Ze,FocusIf:nt},emits:["afterSelect"],watch:{menuTitle:function(){this.actualMenuTitle=this.menuTitle}},data:function(){return{showItems:!1,searchTerm:"",actualMenuTitle:this.menuTitle}},methods:{lostFocus:function(){this.showItems=!1},selectItem:function(e){var t=e.target.classList;!t.contains("item")||t.contains("disabled")||t.contains("separator")||(!1!==this.menuTitleChangeOnClick&&(this.actualMenuTitle=e.target.textContent.replace(/[\u0000-\u2666]/g,(function(e){return"&#".concat(e.charCodeAt(0),";")}))),this.showItems=!1,kr(this.$slots.default()).find(".item").removeClass("active"),t.add("active"),this.$emit("afterSelect"))},onSearchTermKeydown:function(){var e=this;setTimeout((function(){e.searchItems(e.searchTerm)}))},searchItems:function(e){var t=e.toLowerCase();kr(this.$refs.root).find(".item").each((function(e,n){var r=kr(n);-1===r.text().toLowerCase().indexOf(t)?r.hide():r.show()}))}}});Sr.render=wr;var Cr=Sr,Pr=(qt({component:Cr,scope:{menuTitle:{angularJsBind:"@"},tooltip:{angularJsBind:"@"},showSearch:{angularJsBind:"="},menuTitleChangeOnClick:{angularJsBind:"="}},directiveName:"piwikMenudropdown",transclude:!0,events:{"after-select":function(e,t,n){setTimeout((function(){n.$apply()}),0)}}}),{ref:"root"});
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Dr(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Pr,null,512)}function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){Nr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tr=1,Ar=window,Br=Ar.$,xr=Object(i["defineComponent"])({props:{selectedDateStart:Date,selectedDateEnd:Date,highlightedDateStart:Date,highlightedDateEnd:Date,viewDate:[String,Date],stepMonths:Number,disableMonthDropdown:Boolean,options:Object},emits:["cellHover","cellHoverLeave","dateSelect"],setup:function(e,t){var n=Object(i["ref"])(null);function r(t,n){var r=t.children("a");if(e.selectedDateStart&&e.selectedDateEnd&&n>=e.selectedDateStart&&n<=e.selectedDateEnd?t.addClass("ui-datepicker-current-period"):t.removeClass("ui-datepicker-current-period"),e.highlightedDateStart&&e.highlightedDateEnd&&n>=e.highlightedDateStart&&n<=e.highlightedDateEnd){var o=r.length?r:t;o.addClass("ui-state-hover")}else t.removeClass("ui-state-hover"),r.removeClass("ui-state-hover")}function o(e,t,n){if(e.hasClass("ui-datepicker-other-month"))return a(e,t,n);var r=parseInt(e.children("a,span").text(),10);return new Date(n,t,r)}function a(e,t,n){var r,i=e.parent(),a=i.children("td");if(i.is(":first-child")){var c=i.children("td:not(.ui-datepicker-other-month)").first();return r=o(c,t,n),r.setDate(a.index(e)-a.index(c)+1),r}var l=i.children("td:not(.ui-datepicker-other-month)").last();return r=o(l,t,n),r.setDate(r.getDate()+a.index(e)-a.index(l)),r}function c(){var e=Br(n.value),t=e.find("td[data-month]"),r=parseInt(t.attr("data-month"),10),o=parseInt(t.attr("data-year"),10);return[r,o]}function l(){var e=Br(n.value),t=e.find(".ui-datepicker-calendar"),i=c(),a=t.find("td"),l=a.first(),s=o(l,i[0],i[1]);a.each((function(){r(Br(this),s),s.setDate(s.getDate()+1)}))}function s(){var t=e.viewDate;if(!t)return!1;if(!(t instanceof Date))try{t=E(t)}catch(i){return!1}var r=Br(n.value),o=c();return(o[0]!==t.getMonth()||o[1]!==t.getFullYear())&&(r.datepicker("setDate",t),!0)}function u(){var e=Br(n.value);e.find("td[data-event]").off("click"),e.find(".ui-state-active").removeClass("ui-state-active"),e.find(".ui-datepicker-current-day").removeClass("ui-datepicker-current-day"),e.find(".ui-datepicker-prev,.ui-datepicker-next").attr("href","")}function d(){var t=Br(n.value),r=e.stepMonths||Tr;if(t.datepicker("option","stepMonths")===r)return!1;var o=Br(".ui-datepicker-month",t).val(),i=Br(".ui-datepicker-year",t).val();return t.datepicker("option","stepMonths",r).datepicker("setDate",new Date(i,o)),u(),!0}function p(){var t=Br(n.value);t.find(".ui-datepicker-month").attr("disabled",e.disableMonthDropdown)}function m(){if(Br(this).hasClass("ui-state-hover")){var e=Br(this).parent(),t=e.parent();e.is(":first-child")?t.find("a").first().click():t.find("a").last().click()}}function f(){p(),l()}return Object(i["watch"])((function(){return Vr({},e)}),(function(e,t){var n=!1;["selectedDateStart","selectedDateEnd","highlightedDateStart","highlightedDateEnd"].forEach((function(r){n||(!e[r]&&t[r]&&(n=!0),e[r]&&!t[r]&&(n=!0),e[r]&&t[r]&&e[r].getTime()!==t[r].getTime()&&(n=!0))})),e.viewDate!==t.viewDate&&s()&&(n=!0),e.stepMonths!==t.stepMonths&&d(),e.enableDisableMonthDropdown!==t.enableDisableMonthDropdown&&p(),n&&l()})),Object(i["onMounted"])((function(){var r=Br(n.value),i=e.options||{},a=Vr(Vr(Vr({},S.getBaseDatePickerOptions()),i),{},{onChangeMonthYear:function(){setTimeout((function(){u()}))}});r.datepicker(a),r.on("mouseover","tbody td a",(function(e){e.originalEvent&&l()})),r.on("mouseenter","tbody td",(function(){var e=c(),n=Br(this),r=o(n,e[0],e[1]);t.emit("cellHover",{date:r,$cell:n})})),r.on("mouseout","tbody td a",(function(){l()})),r.on("mouseleave","table",(function(){return t.emit("cellHoverLeave")})).on("mouseenter","thead",(function(){return t.emit("cellHoverLeave")})),r.on("click","tbody td.ui-datepicker-other-month",(function(){return m()})),r.on("click",(function(e){e.preventDefault();var t=Br(e.target).closest("a");(t.is(".ui-datepicker-next")||t.is(".ui-datepicker-prev"))&&f()})),r.on("click","td[data-month]",(function(e){var n=Br(e.target).closest("td"),r=parseInt(n.attr("data-month"),10),o=parseInt(n.attr("data-year"),10),i=parseInt(n.children("a,span").text(),10);t.emit("dateSelect",{date:new Date(o,r,i)})}));var h=d();s(),p(),h||u(),l()})),{root:n}}});xr.render=Dr;var Ir=xr,Mr=(qt({component:Ir,scope:{selectedDateStart:{angularJsBind:"<"},selectedDateEnd:{angularJsBind:"<"},highlightedDateStart:{angularJsBind:"<"},highlightedDateEnd:{angularJsBind:"<"},viewDate:{angularJsBind:"<"},stepMonths:{angularJsBind:"<"},disableMonthDropdown:{angularJsBind:"<"},options:{angularJsBind:"<"},cellHover:{angularJsBind:"&"},cellHoverLeave:{angularJsBind:"&"},dateSelect:{angularJsBind:"&"}},directiveName:"piwikDatePicker",events:{"cell-hover":function(e,t,n,r,o){o()},"cell-hover-leave":function(e,t,n,r,o){o()},"date-select":function(e,t,n,r,o){o()}},$inject:["$timeout"]}),{id:"calendarRangeFrom"}),Lr={id:"calendarRangeTo"};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Fr(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("DatePicker");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createElementVNode"])("div",Mr,[Object(i["createElementVNode"])("h6",null,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("General_DateRangeFrom"))+" ",1),Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",id:"inputCalendarFrom",name:"inputCalendarFrom",class:"browser-default","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.startDateText=t}),onKeydown:t[1]||(t[1]=function(t){return e.onRangeInputChanged("from",t)}),onKeyup:t[2]||(t[2]=function(t){return e.handleEnterPress(t)})},null,544),[[i["vModelText"],e.startDateText]])]),Object(i["createVNode"])(c,{id:"calendarFrom","view-date":e.startDate,"selected-date-start":e.fromPickerSelectedDates[0],"selected-date-end":e.fromPickerSelectedDates[1],"highlighted-date-start":e.fromPickerHighlightedDates[0],"highlighted-date-end":e.fromPickerHighlightedDates[1],onDateSelect:t[3]||(t[3]=function(t){return e.setStartRangeDate(t.date)}),onCellHover:t[4]||(t[4]=function(t){return e.fromPickerHighlightedDates=e.getNewHighlightedDates(t.date,t.$cell)}),onCellHoverLeave:t[5]||(t[5]=function(t){return e.fromPickerHighlightedDates=[null,null]})},null,8,["view-date","selected-date-start","selected-date-end","highlighted-date-start","highlighted-date-end"])]),Object(i["createElementVNode"])("div",Lr,[Object(i["createElementVNode"])("h6",null,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("General_DateRangeTo"))+" ",1),Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",id:"inputCalendarTo",name:"inputCalendarTo",class:"browser-default","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.endDateText=t}),onKeydown:t[7]||(t[7]=function(t){return e.onRangeInputChanged("to",t)}),onKeyup:t[8]||(t[8]=function(t){return e.handleEnterPress(t)})},null,544),[[i["vModelText"],e.endDateText]])]),Object(i["createVNode"])(c,{id:"calendarTo","view-date":e.endDate,"selected-date-start":e.toPickerSelectedDates[0],"selected-date-end":e.toPickerSelectedDates[1],"highlighted-date-start":e.toPickerHighlightedDates[0],"highlighted-date-end":e.toPickerHighlightedDates[1],onDateSelect:t[9]||(t[9]=function(t){return e.setEndRangeDate(t.date)}),onCellHover:t[10]||(t[10]=function(t){return e.toPickerHighlightedDates=e.getNewHighlightedDates(t.date,t.$cell)}),onCellHoverLeave:t[11]||(t[11]=function(t){return e.toPickerHighlightedDates=[null,null]})},null,8,["view-date","selected-date-start","selected-date-end","highlighted-date-start","highlighted-date-end"])])])}var Rr="YYYY-MM-DD",_r=Object(i["defineComponent"])({props:{startDate:String,endDate:String},components:{DatePicker:Ir},data:function(){var e=null;try{e=E(this.startDate)}catch(n){}var t=null;try{t=E(this.endDate)}catch(n){}return{fromPickerSelectedDates:[e,e],toPickerSelectedDates:[t,t],fromPickerHighlightedDates:[null,null],toPickerHighlightedDates:[null,null],startDateText:this.startDate,endDateText:this.endDate,startDateInvalid:!1,endDateInvalid:!1}},emits:["rangeChange","submit"],watch:{startDate:function(){this.startDateText=this.startDate,this.setStartRangeDateFromStr(this.startDate)},endDate:function(){this.endDateText=this.endDate,this.setEndRangeDateFromStr(this.endDate)}},mounted:function(){this.rangeChanged()},methods:{setStartRangeDate:function(e){this.fromPickerSelectedDates=[e,e],this.rangeChanged()},setEndRangeDate:function(e){this.toPickerSelectedDates=[e,e],this.rangeChanged()},onRangeInputChanged:function(e,t){var n=this;setTimeout((function(){"from"===e?n.setStartRangeDateFromStr(t.target.value):n.setEndRangeDateFromStr(t.target.value)}))},getNewHighlightedDates:function(e,t){return t.hasClass("ui-datepicker-unselectable")?null:[e,e]},handleEnterPress:function(e){13===e.keyCode&&this.$emit("submit",{start:this.startDate,end:this.endDate})},setStartRangeDateFromStr:function(e){var t;this.startDateInvalid=!0;try{e.length===Rr.length&&(t=E(e))}catch(n){}t&&(this.fromPickerSelectedDates=[t,t],this.startDateInvalid=!1,this.rangeChanged())},setEndRangeDateFromStr:function(e){var t;this.endDateInvalid=!0;try{e.length===Rr.length&&(t=E(e))}catch(n){}t&&(this.toPickerSelectedDates=[t,t],this.endDateInvalid=!1,this.rangeChanged())},rangeChanged:function(){this.$emit("rangeChange",{start:P(this.fromPickerSelectedDates[0]),end:P(this.toPickerSelectedDates[0])})}}});_r.render=Fr;var $r=_r;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */qt({component:$r,scope:{startDate:{angularJsBind:"<"},endDate:{angularJsBind:"<"},rangeChange:{angularJsBind:"&"},submit:{angularJsBind:"&"}},directiveName:"piwikDateRangePicker",restrict:"E"});function Hr(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("DatePicker");return Object(i["openBlock"])(),Object(i["createBlock"])(c,{"selected-date-start":e.selectedDates[0],"selected-date-end":e.selectedDates[1],"highlighted-date-start":e.highlightedDates[0],"highlighted-date-end":e.highlightedDates[1],"view-date":e.viewDate,"step-months":"year"===e.period?12:1,"disable-month-dropdown":"year"===e.period,onCellHover:t[0]||(t[0]=function(t){return e.onHoverNormalCell(t.date,t.$cell)}),onCellHoverLeave:t[1]||(t[1]=function(t){return e.onHoverLeaveNormalCells()}),onDateSelect:t[2]||(t[2]=function(t){return e.onDateSelected(t.date)})},null,8,["selected-date-start","selected-date-end","highlighted-date-start","highlighted-date-end","view-date","step-months","disable-month-dropdown"])}var Ur=new Date(S.minDateYear,S.minDateMonth-1,S.minDateDay),Wr=new Date(S.maxDateYear,S.maxDateMonth-1,S.maxDateDay),qr=Object(i["defineComponent"])({props:{period:String,date:[String,Date]},components:{DatePicker:Ir},emits:["select"],setup:function(e,t){var n=Object(i["ref"])(e.date),r=Object(i["ref"])([null,null]),o=Object(i["ref"])([null,null]);function a(t){var n=p.get(e.period).parse(t).getDateRange();return n[0]=Ur<n[0]?n[0]:Ur,n[1]=Wr>n[1]?n[1]:Wr,n}function c(t,n){var r=t<Ur||t>Wr,i=n.hasClass("ui-datepicker-other-month")&&("month"===e.period||"day"===e.period);o.value=r||i?[null,null]:a(t)}function l(){o.value=[null,null]}function s(e){t.emit("select",{date:e})}function u(){if(!e.period||!e.date)return r.value=[null,null],void(n.value=null);r.value=a(e.date),n.value=E(e.date)}return Object(i["watch"])(e,u),u(),{selectedDates:r,highlightedDates:o,viewDate:n,onHoverNormalCell:c,onHoverLeaveNormalCells:l,onDateSelected:s}}});qr.render=Hr;var Jr=qr,Gr=(qt({component:Jr,scope:{period:{angularJsBind:"<"},date:{angularJsBind:"<"},select:{angularJsBind:"&"}},directiveName:"piwikPeriodDatePicker",restrict:"E"}),["value","name"]),zr=["title"],Yr=["textContent"],Qr={key:1,class:"placeholder"},Kr={class:"dropdown"},Xr={class:"custom_select_search"},Zr=["placeholder"],eo={key:0},to={class:"custom_select_container"},no=["onClick"],ro=["innerHTML","href","title"],oo={class:"ui-autocomplete ui-front ui-menu ui-widget ui-widget-content ui-corner-all\n                 siteSelect"},io={class:"ui-menu-item"},ao={class:"ui-corner-all",tabindex:"-1"},co={key:1};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function lo(e,t,n,r,o,a){var c,l,s,u,d=Object(i["resolveComponent"])("AllSitesLink"),p=Object(i["resolveDirective"])("focus-if"),m=Object(i["resolveDirective"])("focus-anywhere-but-here");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["siteSelector piwikSelector borderedControl",{expanded:e.showSitesList,disabled:!e.hasMultipleSites}])},[e.name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("input",{key:0,type:"hidden",value:null===(c=e.modelValue)||void 0===c?void 0:c.id,name:e.name},null,8,Gr)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("a",{ref:"selectorLink",onClick:t[0]||(t[0]=function(){return e.onClickSelector&&e.onClickSelector.apply(e,arguments)}),onKeydown:t[1]||(t[1]=function(t){return e.onPressEnter(t)}),href:"javascript:void(0)",class:Object(i["normalizeClass"])([{loading:e.isLoading},"title"]),tabindex:"4",title:e.selectorLinkTitle},[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["icon icon-arrow-bottom",{iconHidden:e.isLoading,collapsed:!e.showSitesList}])},null,2),Object(i["createElementVNode"])("span",null,[null!==(l=e.modelValue)&&void 0!==l&&l.name||!e.placeholder?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,textContent:Object(i["toDisplayString"])((null===(s=e.modelValue)||void 0===s?void 0:s.name)||e.firstSiteName)},null,8,Yr)):Object(i["createCommentVNode"])("",!0),null!==(u=e.modelValue)&&void 0!==u&&u.name||!e.placeholder?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Qr,Object(i["toDisplayString"])(e.placeholder),1))])],42,zr),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Kr,[Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Xr,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",onClick:t[2]||(t[2]=function(t){e.searchTerm="",e.loadInitialSites()}),"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.searchTerm=t}),tabindex:"4",class:"websiteSearch inp browser-default",placeholder:e.translate("General_Search")},null,8,Zr),[[i["vModelText"],e.searchTerm],[p,{},e.shouldFocusOnSearch]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("img",{title:"Clear",onClick:t[4]||(t[4]=function(t){e.searchTerm="",e.loadInitialSites()}),class:"reset",src:"plugins/CoreHome/images/reset_search.png"},null,512),[[i["vShow"],e.searchTerm]])],512),[[i["vShow"],e.autocompleteMinSites<=e.sites.length||e.searchTerm]]),"top"===e.allSitesLocation&&e.showAllSitesItem?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",eo,[Object(i["createVNode"])(d,{href:e.urlAllSites,"all-sites-text":e.allSitesText,onClick:t[5]||(t[5]=function(t){return e.onAllSitesClick(t)})},null,8,["href","all-sites-text"])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",to,[Object(i["createElementVNode"])("ul",{class:"custom_select_ul_list",onClick:t[7]||(t[7]=function(t){return e.showSitesList=!1})},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.sites,(function(n,r){return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{onClick:function(t){return e.switchSite(n,t)},key:r},[Object(i["createElementVNode"])("a",{onClick:t[6]||(t[6]=function(e){return e.preventDefault()}),innerHTML:e.$sanitize(e.getMatchedSiteName(n.name)),tabindex:"4",href:e.getUrlForSiteId(n.idsite),title:n.name},null,8,ro)],8,no)),[[i["vShow"],!(!e.showSelectedSite&&e.activeSiteId===n.idsite)]])})),128))]),Object(i["withDirectives"])(Object(i["createElementVNode"])("ul",oo,[Object(i["createElementVNode"])("li",io,[Object(i["createElementVNode"])("a",ao,Object(i["toDisplayString"])(e.translate("SitesManager_NotFound")+" "+e.searchTerm),1)])],512),[[i["vShow"],!e.sites.length&&e.searchTerm]])]),"bottom"===e.allSitesLocation&&e.showAllSitesItem?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",co,[Object(i["createVNode"])(d,{href:e.urlAllSites,"all-sites-text":e.allSitesText,onClick:t[8]||(t[8]=function(t){return e.onAllSitesClick(t)})},null,8,["href","all-sites-text"])])):Object(i["createCommentVNode"])("",!0)],512),[[i["vShow"],e.showSitesList]])],2)),[[m,{blur:e.onBlur}]])}var so=["innerHTML","href"];function uo(e,t,n,r,o,a){var c=this;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{onClick:t[1]||(t[1]=function(e){return c.onClick(e)}),class:"custom_select_all"},[Object(i["createElementVNode"])("a",{onClick:t[0]||(t[0]=function(e){return e.preventDefault()}),innerHTML:e.$sanitize(e.allSitesText),tabindex:"4",href:e.href},null,8,so)])}var po=Object(i["defineComponent"])({props:{href:String,allSitesText:String},emits:["click"],methods:{onClick:function(e){this.$emit("click",e)}}});po.render=uo;var mo=po;function fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fo(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vo(e,t,n){return t&&bo(e.prototype,t),n&&bo(e,n),e}function yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var Oo=function(){function e(){var t=this;go(this,e),yo(this,"state",Object(i["reactive"])({initialSites:[],isInitialized:!1})),yo(this,"currentRequestAbort",void 0),yo(this,"limitRequest",void 0),yo(this,"initialSites",Object(i["computed"])((function(){return Object(i["readonly"])(t.state.initialSites)})))}return vo(e,[{key:"loadInitialSites",value:function(){var e=this;return this.state.isInitialized?Promise.resolve(Object(i["readonly"])(this.state.initialSites)):this.searchSite("%").then((function(t){return e.state.isInitialized=!0,e.state.initialSites=t,Object(i["readonly"])(t)}))}},{key:"loadSite",value:function(e){"all"===e?we.updateUrl(ho(ho({},we.urlParsed.value),{},{module:"MultiSites",action:"index",date:we.parsed.value.date,period:we.parsed.value.period})):we.updateUrl(ho(ho({},we.parsed.value),{},{segment:"",idSite:e}))}},{key:"searchSite",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?(this.currentRequestAbort&&this.currentRequestAbort.abort(),this.limitRequest||(this.limitRequest=We.fetch({method:"SitesManager.getNumWebsitesToDisplayPerPage"})),this.limitRequest.then((function(r){var o=r.value,i="SitesManager.getPatternMatchSites";return n&&(i="SitesManager.getSitesWithAdminAccess"),t.currentRequestAbort=new AbortController,We.fetch({method:i,limit:o,pattern:e},{abortController:t.currentRequestAbort})})).then((function(e){return e?t.processWebsitesList(e):null})).finally((function(){t.currentRequestAbort=null}))):this.loadInitialSites()}},{key:"processWebsitesList",value:function(e){var t=e;return t&&t.length?(t=t.map((function(e){return ho(ho({},e),{},{name:e.group?"[".concat(e.group,"] ").concat(e.name):e.name})})),t.sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0})),t):[]}}]),e}(),wo=new Oo,jo=300;function ko(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jo;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t&&clearTimeout(t),t=setTimeout((function(){e.apply(void 0,o)}),n)}}function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?So(Object(n),!0).forEach((function(t){Po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Do=Object(i["defineComponent"])({props:{modelValue:{Object:Object,default:function(){return S.idSite?{id:S.idSite,name:S.helper.htmlDecode(S.siteName)}:void 0}},showSelectedSite:{type:Boolean,default:!1},showAllSitesItem:{type:Boolean,default:!0},switchSiteOnSelect:{type:Boolean,default:!0},onlySitesWithAdminAccess:{type:Boolean,default:!1},name:{type:String,default:""},allSitesText:{type:String,default:C("General_MultiSitesSummary")},allSitesLocation:{type:String,default:"bottom"},placeholder:String},emits:["update:modelValue","blur"],components:{AllSitesLink:mo},directives:{FocusAnywhereButHere:Ze,FocusIf:nt},watch:{searchTerm:function(){this.onSearchTermChanged()}},data:function(){return{searchTerm:"",activeSiteId:S.idSite,showSitesList:!1,isLoading:!1,sites:[],autocompleteMinSites:parseInt(S.config.autocomplete_min_sites,10)}},mounted:function(){var e=this;window.initTopControls(),this.loadInitialSites().then((function(){e.modelValue&&e.modelValue.id||e.hasMultipleSites||!e.sites[0]||e.$emit("update:modelValue",{id:e.sites[0].idsite,name:e.sites[0].name})}));var t=C("CoreHome_ShortcutWebsiteSelector");S.helper.registerShortcut("w",t,(function(t){t.altKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,e.$refs.selectorLink.click(),e.$refs.selectorLink.focus())}))},computed:{shouldFocusOnSearch:function(){return this.showSitesList&&this.autocompleteMinSites<=this.sites.length||this.searchTerm},selectorLinkTitle:function(){var e;return this.hasMultipleSites?C("CoreHome_ChangeCurrentWebsite",(null===(e=this.modelValue)||void 0===e?void 0:e.name)||this.firstSiteName):""},hasMultipleSites:function(){return wo.initialSites.value&&wo.initialSites.value.length>1},firstSiteName:function(){var e=wo.initialSites.value;return e&&e.length>0?e[0].name:""},urlAllSites:function(){var e=we.stringify(Co(Co({},we.urlParsed.value),{},{module:"MultiSites",action:"index",date:we.parsed.value.date,period:we.parsed.value.period}));return"?".concat(e)}},created:function(){this.searchSite=ko(this.searchSite.bind(this))},methods:{onSearchTermChanged:function(){this.searchTerm?(this.isLoading=!0,this.searchSite(this.searchTerm)):(this.isLoading=!1,this.loadInitialSites())},onAllSitesClick:function(e){this.switchSite({idsite:"all",name:this.allSitesText},e),this.showSitesList=!1},switchSite:function(e,t){var n=-1!==navigator.userAgent.indexOf("Mac OS X")?t.metaKey:t.ctrlKey;t&&n&&t.target&&t.target.href?window.open(t.target.href,"_blank"):(this.$emit("update:modelValue",{id:e.idsite,name:e.name}),this.switchSiteOnSelect&&this.activeSiteId!==e.idsite&&wo.loadSite(e.idsite))},onBlur:function(){this.showSitesList=!1,this.$emit("blur")},onClickSelector:function(){this.hasMultipleSites&&(this.showSitesList=!this.showSitesList,this.isLoading||this.searchTerm||this.loadInitialSites())},onPressEnter:function(e){"Enter"===e.key&&(e.preventDefault(),this.showSitesList=!this.showSitesList,this.showSitesList&&!this.isLoading&&this.loadInitialSites())},getMatchedSiteName:function(e){var t=e.toUpperCase().indexOf(this.searchTerm.toUpperCase());if(-1===t||this.isLoading)return S.helper.htmlEntities(e);var n=S.helper.htmlEntities(e.substring(0,t)),r=S.helper.htmlEntities(e.substring(t+this.searchTerm.length));return"".concat(n,'<span class="autocompleteMatched">').concat(this.searchTerm,"</span>").concat(r)},loadInitialSites:function(){var e=this;return wo.loadInitialSites().then((function(t){e.sites=t||[]}))},searchSite:function(e){var t=this;this.isLoading=!0,wo.searchSite(e,this.onlySitesWithAdminAccess).then((function(n){e===t.searchTerm&&n&&(t.sites=n)})).finally((function(){t.isLoading=!1}))},getUrlForSiteId:function(e){var t=we.stringify(Co(Co({},we.urlParsed.value),{},{segment:"",idSite:e})),n=we.stringify(Co(Co({},we.hashParsed.value),{},{segment:"",idSite:e}));return"?".concat(t,"#?").concat(n)}}});Do.render=lo;var Eo=Do;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */qt({component:Eo,require:"?ngModel",scope:{showSelectedSite:{angularJsBind:"="},showAllSitesItem:{angularJsBind:"="},switchSiteOnSelect:{angularJsBind:"="},onlySitesWithAdminAccess:{angularJsBind:"="},name:{angularJsBind:"@"},allSitesText:{angularJsBind:"@"},allSitesLocation:{angularJsBind:"@"},placeholder:{angularJsBind:"@"},modelValue:{}},$inject:["$timeout"],directiveName:"piwikSiteselector",events:{"update:modelValue":function(e,t,n,r,o,i,a){(e&&!t.modelValue||!e&&t.modelValue||e.id!==t.modelValue.id)&&a((function(){n.value=e,r.attr("siteid",e.id),r.trigger("change",e),i&&(i.$setViewValue(e),i.$render())}))},blur:function(e,t,n){setTimeout((function(){return n.$apply()}))}},postCreate:function(e,t,n,r,o){var a=o;t.$watch("value",(function(t){t!==e.modelValue&&(e.modelValue=t)})),r.siteid&&r.sitename?e.modelValue={id:r.siteid,name:S.helper.htmlDecode(r.sitename)}:S.idSite&&(e.modelValue={id:S.idSite,name:S.helper.htmlDecode(S.siteName)}),a&&(a.$setViewValue(e.modelValue),a.$render=function(){Object(i["nextTick"])((function(){angular.isString(a.$viewValue)?e.modelValue=JSON.parse(a.$viewValue):e.modelValue=a.$viewValue}))})}});
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function Vo(){return{get initialSites(){return wo.initialSites.value},loadSite:wo.loadSite.bind(wo),loadInitialSites:function(){return Yt(wo.loadInitialSites())},searchSite:function(){return Yt(wo.searchSite.apply(wo,arguments))}}}angular.module("piwikApp.service").factory("siteSelectorModel",Vo);var No={ref:"root",class:"quickAccessInside"},To=["title"],Ao={class:"dropdown"},Bo={class:"no-result"},xo=["onClick"],Io=["onMouseenter","onClick"],Mo={class:"quickAccessMatomoSearch"},Lo=["onMouseenter","onClick"],Fo=["textContent"],Ro={class:"quick-access-category helpCategory"},_o=["href"];function $o(e,t,n,r,o,a){var c=Object(i["resolveDirective"])("focus-if"),l=Object(i["resolveDirective"])("focus-anywhere-but-here");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",No,[Object(i["withDirectives"])(Object(i["createElementVNode"])("span",{class:"icon-search",onMouseenter:t[0]||(t[0]=function(t){return e.searchActive=!0})},null,544),[[i["vShow"],!(e.searchTerm||e.searchActive)]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"s",onKeydown:t[1]||(t[1]=function(t){return e.onKeypress(t)}),onFocus:t[2]||(t[2]=function(t){return e.searchActive=!0}),"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.searchTerm=t}),type:"text",tabindex:"2",title:e.quickAccessTitle},null,40,To),[[i["vModelText"],e.searchTerm],[c,{},e.searchActive]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Ao,[Object(i["withDirectives"])(Object(i["createElementVNode"])("ul",null,[Object(i["createElementVNode"])("li",Bo,Object(i["toDisplayString"])(e.translate("General_SearchNoResults")),1)],512),[[i["vShow"],!(e.numMenuItems>0||e.sites.length)]]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.menuItems,(function(t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",{key:t.title},[Object(i["createElementVNode"])("li",{class:"quick-access-category",onClick:function(n){e.searchTerm=t.title,e.searchMenu(e.searchTerm)}},Object(i["toDisplayString"])(t.title),9,xo),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t.items,(function(t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{class:Object(i["normalizeClass"])(["result",{selected:t.menuIndex===e.searchIndex}]),onMouseenter:function(n){return e.searchIndex=t.menuIndex},onClick:function(n){return e.selectMenuItem(t.index)},key:t.index},[Object(i["createElementVNode"])("a",null,Object(i["toDisplayString"])(t.name.trim()),1)],42,Io)})),128))])})),128)),Object(i["createElementVNode"])("ul",Mo,[Object(i["withDirectives"])(Object(i["createElementVNode"])("li",{class:"quick-access-category websiteCategory"},Object(i["toDisplayString"])(e.translate("SitesManager_Sites")),513),[[i["vShow"],e.hasSitesSelector&&e.sites.length||e.isLoading]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("li",{class:"no-result"},Object(i["toDisplayString"])(e.translate("MultiSites_LoadingWebsites")),513),[[i["vShow"],e.hasSitesSelector&&e.isLoading]]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.sites,(function(t,n){return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{class:Object(i["normalizeClass"])(["result",{selected:e.numMenuItems+n===e.searchIndex}]),onMouseenter:function(t){return e.searchIndex=e.numMenuItems+n},onClick:function(n){return e.selectSite(t.idsite)},key:t.idsite},[Object(i["createElementVNode"])("a",{textContent:Object(i["toDisplayString"])(t.name)},null,8,Fo)],42,Lo)),[[i["vShow"],e.hasSitesSelector&&!e.isLoading]])})),128))]),Object(i["createElementVNode"])("ul",null,[Object(i["createElementVNode"])("li",Ro,Object(i["toDisplayString"])(e.translate("General_HelpResources")),1),Object(i["createElementVNode"])("li",{class:Object(i["normalizeClass"])([{selected:"help"===e.searchIndex},"quick-access-help"]),onMouseenter:t[4]||(t[4]=function(t){return e.searchIndex="help"})},[Object(i["createElementVNode"])("a",{href:"https://matomo.org?s=".concat(encodeURIComponent(e.searchTerm)),target:"_blank"},Object(i["toDisplayString"])(e.translate("CoreHome_SearchOnMatomo",e.searchTerm)),9,_o)],34)])],512),[[i["vShow"],e.searchTerm&&e.searchActive]])],512)),[[l,{blur:e.onBlur}]])}function Ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ho(Object(n),!0).forEach((function(t){Wo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qo(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=window.$(window).height()&&t.right<=window.$(window).width()}function Jo(e){e&&e.scrollIntoView&&e.scrollIntoView()}var Go=Object(i["defineComponent"])({props:{},directives:{FocusAnywhereButHere:Ze,FocusIf:nt},watch:{searchActive:function(e){var t=this.$refs.root.parentElement.classList;t.toggle("active",e),t.toggle("expanded",e)}},mounted:function(){var e=this;this.$refs.root.parentElement.classList.add("quick-access","piwikSelector"),"undefined"!==typeof window.initTopControls&&window.initTopControls&&window.initTopControls(),S.helper.registerShortcut("f",C("CoreHome_ShortcutSearch"),(function(t){t.altKey||(t.preventDefault(),Jo(e.$refs.root),e.activateSearch())}))},data:function(){var e=!!document.querySelector(".segmentEditorPanel");return{menuItems:[],numMenuItems:0,searchActive:!1,searchTerm:"",searchIndex:0,menuIndexCounter:-1,topMenuItems:null,leftMenuItems:null,segmentItems:null,hasSegmentSelector:e,sites:[],isLoading:!1}},created:function(){this.searchMenu=ko(this.searchMenu.bind(this))},computed:{hasSitesSelector:function(){return!!document.querySelector(".top_controls [piwik-siteselector]")},quickAccessTitle:function(){var e="",t=[C("CoreHome_MenuEntries")];this.hasSegmentSelector&&t.push(C("CoreHome_Segments")),this.hasSitesSelector&&t.push(C("SitesManager_Sites"));while(t.length)e+=t.shift(),t.length>=2?e+=", ":1===t.length&&(e+=" ".concat(C("General_And")," "));return C("CoreHome_QuickAccessTitle",e)}},emits:["itemSelected","blur"],methods:{onKeypress:function(e){var t=this,n=this.searchTerm&&this.searchActive,r=9===e.which,o=27===e.which;38===e.which?(this.highlightPreviousItem(),e.preventDefault()):40===e.which?(this.highlightNextItem(),e.preventDefault()):13===e.which?this.clickQuickAccessMenuItem():r&&n||o&&n?this.deactivateSearch():setTimeout((function(){t.searchActive=!0,t.searchMenu(t.searchTerm)}))},highlightPreviousItem:function(){this.searchIndex-1<0?this.searchIndex=0:this.searchIndex-=1,this.makeSureSelectedItemIsInViewport()},highlightNextItem:function(){var e=this.$refs.root.querySelectorAll("li.result").length;e<=this.searchIndex+1?this.searchIndex=e-1:this.searchIndex+=1,this.makeSureSelectedItemIsInViewport()},clickQuickAccessMenuItem:function(){var e=this,t=this.getCurrentlySelectedElement();t&&setTimeout((function(){t.click(),e.$emit("itemSelected",t)}),20)},deactivateSearch:function(){this.searchTerm="",this.searchActive=!1,this.$refs.root.querySelector("input").blur()},makeSureSelectedItemIsInViewport:function(){var e=this.getCurrentlySelectedElement();e&&!qo(e)&&Jo(e)},getCurrentlySelectedElement:function(){var e=this.$refs.root.querySelectorAll("li.result");return e&&e.length&&e.item(this.searchIndex)?e.item(this.searchIndex):null},searchMenu:function(e){var t=this,n=e.toLowerCase(),r=-1,o={},i=[],a=function(e){var t=Uo({},e);r+=1,t.menuIndex=r;var n=t.category;n in o||(i.push({title:n,items:[]}),o[n]=i.length-1);var a=o[n];i[a].items.push(t)};this.resetSearchIndex(),this.hasSitesSelector&&(this.isLoading=!0,wo.searchSite(n).then((function(e){t.sites=e})).finally((function(){t.isLoading=!1})));var c=function(e){return-1!==e.name.toLowerCase().indexOf(n)||-1!==e.category.toLowerCase().indexOf(n)};null===this.topMenuItems&&(this.topMenuItems=this.getTopMenuItems()),null===this.leftMenuItems&&(this.leftMenuItems=this.getLeftMenuItems()),null===this.segmentItems&&(this.segmentItems=this.getSegmentItems());var l=this.topMenuItems.filter(c),s=this.leftMenuItems.filter(c),u=this.segmentItems.filter(c);l.forEach(a),s.forEach(a),u.forEach(a),this.numMenuItems=l.length+s.length+u.length,this.menuItems=i},resetSearchIndex:function(){this.searchIndex=0,this.makeSureSelectedItemIsInViewport()},selectSite:function(e){wo.loadSite(e)},selectMenuItem:function(e){var t=document.querySelector("[quick_access='".concat(e,"']"));if(t){this.deactivateSearch();var n=t.getAttribute("href");if(n&&n.length>10&&t&&t.click)try{t.click()}catch(r){window.$(t).click()}else window.$(t).click()}},onBlur:function(){this.searchActive=!1,this.$emit("blur")},activateSearch:function(){this.searchActive=!0},getTopMenuItems:function(){var e=this,t=C("CoreHome_Menu"),n=[];return document.querySelectorAll("nav .sidenav li > a").forEach((function(r){var o=r.textContent.trim();o||(o=r.getAttribute("title").trim()),o&&(n.push({name:o,index:e.menuIndexCounter+=1,category:t}),r.setAttribute("quick_access","".concat(e.menuIndexCounter)))})),n},getLeftMenuItems:function(){var e=this,t=[];return document.querySelectorAll("#secondNavBar .menuTab").forEach((function(n){var r=window.$(n).find("> .item");r=r[0]?r[0].innerText.trim():"",r&&-1!==r.lastIndexOf("\n")&&(r=r.substr(0,r.lastIndexOf("\n")).trim()),window.$(n).find("li .item").each((function(n,o){var i=o.textContent.trim();i&&(t.push({name:i,category:r,index:e.menuIndexCounter+=1}),o.setAttribute("quick_access","".concat(e.menuIndexCounter)))}))})),t},getSegmentItems:function(){var e=this;if(!this.hasSegmentSelector)return[];var t=C("CoreHome_Segments"),n=[];return document.querySelectorAll(".segmentList [data-idsegment]").forEach((function(r){var o=r.querySelector(".segname").textContent.trim();o&&(n.push({name:o,category:t,index:e.menuIndexCounter+=1}),r.setAttribute("quick_access","".concat(e.menuIndexCounter)))})),n}}});Go.render=$o;var zo=Go;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */qt({component:zo,directiveName:"piwikQuickAccess",events:{itemSelected:function(e,t,n,r,o,i,a){a()},blur:function(e,t,n){setTimeout((function(){return n.$apply()}))}}});function Yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qo={class:"fieldArray form-group"},Ko={key:0,class:"fieldUiControl"},Xo=["onClick","title"];function Zo(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("Field");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Qo,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.modelValue,(function(t,n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["fieldArrayTable multiple valign-wrapper",Yo({},"fieldArrayTable".concat(n),!0)]),key:n},[e.field.uiControl?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ko,[Object(i["createVNode"])(c,{"full-width":!0,"model-value":t,options:e.field.availableValues,"onUpdate:modelValue":function(t){return e.onEntryChange(t,n)},placeholder:" ",uicontrol:e.field.uiControl,title:e.field.title,name:"".concat(e.name,"-").concat(n)},null,8,["model-value","options","onUpdate:modelValue","uicontrol","title","name"])])):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("span",{onClick:function(t){return e.removeEntry(n)},class:"icon-minus valign",title:e.translate("General_Remove")},null,8,Xo),[[i["vShow"],n+1!==e.modelValue.length]])],2)})),128))])}function ei(e){return oi(e)||ri(e)||ni(e)||ti()}function ti(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ni(e,t){if(e){if("string"===typeof e)return ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ii(e,t):void 0}}function ri(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function oi(e){if(Array.isArray(e))return ii(e)}function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ai=dn("CorePluginsAdmin","Field"),ci=Object(i["defineComponent"])({props:{modelValue:Array,name:String,field:Object},components:{Field:ai},emits:["update:modelValue"],watch:{modelValue:function(e){this.checkEmptyModelValue(e)}},mounted:function(){this.checkEmptyModelValue(this.modelValue)},methods:{checkEmptyModelValue:function(e){e&&e.length&&""===e.slice(-1)[0]||this.$emit("update:modelValue",[].concat(ei(e||[]),[""]))},onEntryChange:function(e,t){var n=ei(this.modelValue);n[t]=e,this.$emit("update:modelValue",n)},removeEntry:function(e){if(e>-1){var t=this.modelValue.filter((function(t,n){return n!==e}));this.$emit("update:modelValue",t)}}}});ci.render=Zo;var li=ci;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */qt({component:li,require:"?ngModel",scope:{name:{angularJsBind:"="},field:{angularJsBind:"="}},directiveName:"matomoFieldArray",events:{"update:modelValue":function(e,t,n,r,o,i){e!==t.modelValue&&(r.trigger("change",e),i&&i.$setViewValue(e))}},postCreate:function(e,t,n,r,o){var i=o;i&&(i.$setViewValue(e.modelValue),i.$render=function(){angular.isString(i.$viewValue)?e.modelValue=JSON.parse(i.$viewValue):e.modelValue=i.$viewValue})}});function si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ui={class:"multiPairField form-group"},di={key:1,class:"fieldUiControl fieldUiControl2"},pi={key:2,class:"fieldUiControl fieldUiControl3"},mi={key:3,class:"fieldUiControl fieldUiControl4"},fi=["onClick","title"];function hi(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("Field");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ui,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.modelValue,(function(t,n){var r;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["multiPairFieldTable multiple valign-wrapper",(r={},si(r,"multiPairFieldTable".concat(n),!0),si(r,"has".concat(e.fieldCount,"Fields"),!0),r)]),key:n},[e.field1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:Object(i["normalizeClass"])(["fieldUiControl fieldUiControl1",{hasMultiFields:e.field1.type&&e.field2.type}])},[Object(i["createVNode"])(c,{"full-width":!0,modelValue:t[e.field1.key],"onUpdate:modelValue":[function(n){return t[e.field1.key]=n},function(t){return e.onEntryChange(n,e.field1.key,t)}],options:e.field1.availableValues,placeholder:" ",uicontrol:e.field1.uiControl,name:"".concat(e.name,"-p1-").concat(n),title:e.field1.title},null,8,["modelValue","onUpdate:modelValue","options","uicontrol","name","title"])],2)):Object(i["createCommentVNode"])("",!0),e.field2?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",di,[Object(i["createVNode"])(c,{"full-width":!0,options:e.field2.availableValues,"onUpdate:modelValue":[function(t){return e.onEntryChange(n,e.field2.key,t)},function(n){return t[e.field2.key]=n}],modelValue:t[e.field2.key],placeholder:" ",uicontrol:e.field2.uiControl,name:"".concat(e.name,"-p2-").concat(n),title:e.field2.title},null,8,["options","onUpdate:modelValue","modelValue","uicontrol","name","title"])])):Object(i["createCommentVNode"])("",!0),e.field3?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",pi,[Object(i["createVNode"])(c,{"full-width":!0,options:e.field3.availableValues,"onUpdate:modelValue":[function(t){return e.onEntryChange(n,e.field3.key,t)},function(n){return t[e.field3.key]=n}],modelValue:t[e.field3.key],placeholder:" ",uicontrol:e.field3.uiControl,title:e.field3.title},null,8,["options","onUpdate:modelValue","modelValue","uicontrol","title"])])):Object(i["createCommentVNode"])("",!0),e.field4?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",mi,[Object(i["createVNode"])(c,{"full-width":!0,options:e.field4.availableValues,"onUpdate:modelValue":[function(t){return e.onEntryChange(n,e.field4.key,t)},function(n){return t[e.field4.key]=n}],modelValue:t[e.field4.key],placeholder:" ",uicontrol:e.field4.uiControl,title:e.field4.title},null,8,["options","onUpdate:modelValue","modelValue","uicontrol","title"])])):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("span",{onClick:function(t){return e.removeEntry(n)},class:"icon-minus valign",title:e.translate("General_Remove")},null,8,fi),[[i["vShow"],n+1!==e.modelValue.length]])],2)})),128))])}function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(n),!0).forEach((function(t){vi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yi(e){return ki(e)||ji(e)||wi(e)||Oi()}function Oi(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wi(e,t){if(e){if("string"===typeof e)return Si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Si(e,t):void 0}}function ji(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ki(e){if(Array.isArray(e))return Si(e)}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ci=dn("CorePluginsAdmin","Field"),Pi=Object(i["defineComponent"])({props:{modelValue:Array,name:String,field1:Object,field2:Object,field3:Object,field4:Object},components:{Field:Ci},computed:{fieldCount:function(){return this.field1&&this.field2&&this.field3&&this.field4?4:this.field1&&this.field2&&this.field3?3:this.field1&&this.field2?2:this.field1?1:0}},emits:["update:modelValue"],watch:{modelValue:function(e){this.checkEmptyModelValue(e)}},mounted:function(){this.checkEmptyModelValue(this.modelValue)},methods:{checkEmptyModelValue:function(e){e&&e.length&&!this.isEmptyValue(e.slice(-1)[0])||this.$emit("update:modelValue",[].concat(yi(e||[]),[this.makeEmptyValue()]))},onEntryChange:function(e,t,n){var r=yi(this.modelValue);r[e]=bi(bi({},r[e]),{},vi({},t,n)),this.$emit("update:modelValue",r)},removeEntry:function(e){if(e>-1){var t=this.modelValue.filter((function(t,n){return n!==e}));this.$emit("update:modelValue",t)}},isEmptyValue:function(e){var t=this.fieldCount;if(4===t){if(!e[this.field1.key]&&!e[this.field2.key]&&!e[this.field3.key]&&!e[this.field4.key])return!1}else if(3===t){if(!e[this.field1.key]&&!e[this.field2.key]&&!e[this.field3.key])return!1}else if(2===t){if(!e[this.field1.key]&&!e[this.field2.key])return!1}else if(1===t&&!e[this.field1.key])return!1;return!0},makeEmptyValue:function(){var e={};return this.field1&&this.field1.key&&(e[this.field1.key]=""),this.field2&&this.field2.key&&(e[this.field2.key]=""),this.field3&&this.field3.key&&(e[this.field3.key]=""),this.field4&&this.field4.key&&(e[this.field4.key]=""),e}}});Pi.render=hi;var Di=Pi,Ei=(qt({component:Di,require:"?ngModel",scope:{name:{angularJsBind:"="},field1:{angularJsBind:"="},field2:{angularJsBind:"="},field3:{angularJsBind:"="},field4:{angularJsBind:"="}},directiveName:"matomoMultiPairField",events:{"update:modelValue":function(e,t,n,r,o,i){e!==t.modelValue&&(r.trigger("change",e),i&&i.$setViewValue(e))}},postCreate:function(e,t,n,r,o){var i=o;i&&(i.$setViewValue(e.modelValue),i.$render=function(){angular.isString(i.$viewValue)?e.modelValue=JSON.parse(i.$viewValue):e.modelValue=i.$viewValue})}}),{ref:"root",class:"periodSelector piwikSelector"}),Vi=["title"],Ni=Object(i["createElementVNode"])("span",{class:"icon icon-calendar"},null,-1),Ti={id:"periodMore",class:"dropdown"},Ai={class:"flex"},Bi={key:0,class:"period-date"},xi={class:"period-type"},Ii={id:"otherPeriods"},Mi=["onDblclick","title"],Li=["id","checked","onChange","onDblclick"],Fi={key:0,class:"compare-checkbox"},Ri={id:"comparePeriodToDropdown"},_i={key:1,class:"compare-date-range"},$i={id:"comparePeriodStartDate"},Hi=Object(i["createElementVNode"])("span",{class:"compare-dates-separator"},null,-1),Ui={id:"comparePeriodEndDate"},Wi={class:"apply-button-container"},qi=["disabled","value"],Ji={key:2,id:"ajaxLoadingCalendar"},Gi={class:"loadingSegment"};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function zi(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("DateRangePicker"),l=Object(i["resolveComponent"])("PeriodDatePicker"),s=Object(i["resolveComponent"])("Field"),u=Object(i["resolveComponent"])("ActivityIndicator"),d=Object(i["resolveDirective"])("expand-on-click");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ei,[Object(i["createElementVNode"])("a",{ref:"title",id:"date",class:"title",tabindex:"-1",title:e.translate("General_ChooseDate",e.currentlyViewingText)},[Ni,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.currentlyViewingText),1)],8,Vi),Object(i["createElementVNode"])("div",Ti,[Object(i["createElementVNode"])("div",Ai,[Object(i["createElementVNode"])("div",null,[Object(i["withDirectives"])(Object(i["createVNode"])(c,{class:"period-range","start-date":e.startRangeDate,"end-date":e.endRangeDate,onRangeChange:t[0]||(t[0]=function(t){return e.onRangeChange(t.start,t.end)}),onSubmit:t[1]||(t[1]=function(t){return e.onApplyClicked()})},null,8,["start-date","end-date"]),[[i["vShow"],"range"===e.selectedPeriod]]),"range"!==e.selectedPeriod?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Bi,[Object(i["createVNode"])(l,{id:"datepicker",period:e.selectedPeriod,date:e.periodValue===e.selectedPeriod?e.dateValue:null,onSelect:t[2]||(t[2]=function(t){return e.setPiwikPeriodAndDate(e.selectedPeriod,t.date)})},null,8,["period","date"])])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",xi,[Object(i["createElementVNode"])("h6",null,Object(i["toDisplayString"])(e.translate("General_Period")),1),Object(i["createElementVNode"])("div",Ii,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.periodsFiltered,(function(n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("p",{key:n},[Object(i["createElementVNode"])("label",{class:Object(i["normalizeClass"])({"selected-period-label":n===e.selectedPeriod}),onDblclick:function(t){return e.changeViewedPeriod(n)},title:n===e.periodValue?"":e.translate("General_DoubleClickToChangePeriod")},[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"radio",name:"period",id:"period_id_".concat(n),"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedPeriod=t}),checked:e.selectedPeriod===n,onChange:function(t){return e.selectedPeriod=n},onDblclick:function(t){return e.changeViewedPeriod(n)}},null,40,Li),[[i["vModelRadio"],e.selectedPeriod]]),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.getPeriodDisplayText(n)),1)],42,Mi)])})),128))])])]),e.isComparisonEnabled?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Fi,[Object(i["createElementVNode"])("label",null,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{id:"comparePeriodTo",type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.isComparing=t})},null,512),[[i["vModelCheckbox"],e.isComparing]]),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.translate("General_CompareTo")),1)]),Object(i["createElementVNode"])("div",Ri,[Object(i["createVNode"])(s,{modelValue:e.comparePeriodType,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.comparePeriodType=t}),style:Object(i["normalizeStyle"])({visibility:e.isComparing?"visible":"hidden"}),name:"comparePeriodToDropdown",uicontrol:"select",options:e.comparePeriodDropdownOptions,"full-width":!0,disabled:!e.isComparing},null,8,["modelValue","style","options","disabled"])])])):Object(i["createCommentVNode"])("",!0),e.isComparing&&"custom"===e.comparePeriodType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",_i,[Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",$i,[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(s,{modelValue:e.compareStartDate,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.compareStartDate=t}),name:"comparePeriodStartDate",uicontrol:"text","full-width":!0,title:e.translate("CoreHome_StartDate"),placeholder:"YYYY-MM-DD"},null,8,["modelValue","title"])])]),Hi,Object(i["createElementVNode"])("div",Ui,[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(s,{modelValue:e.compareEndDate,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.compareEndDate=t}),name:"comparePeriodEndDate",uicontrol:"text","full-width":!0,title:e.translate("CoreHome_EndDate"),placeholder:"YYYY-MM-DD"},null,8,["modelValue","title"])])])])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Wi,[Object(i["createElementVNode"])("input",{type:"submit",id:"calendarApply",class:"btn",onClick:t[8]||(t[8]=function(t){return e.onApplyClicked()}),disabled:!e.isApplyEnabled(),value:e.translate("General_Apply")},null,8,qi)]),e.isLoadingNewPage?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ji,[Object(i["createVNode"])(u,{loading:!0}),Object(i["createElementVNode"])("div",Gi,Object(i["toDisplayString"])(e.translate("SegmentEditor_LoadingSegmentedDataMayTakeSomeTime")),1)])):Object(i["createCommentVNode"])("",!0)])],512)),[[d,{expander:"title"}]])}var Yi={class:"loadingPiwik"},Qi=Object(i["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif",alt:""},null,-1);function Ki(e,t,n,r,o,a){return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Yi,[Qi,Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.loadingMessage),1)],512)),[[i["vShow"],e.loading]])}var Xi=Object(i["defineComponent"])({props:{loading:{type:Boolean,required:!0,default:!1},loadingMessage:{type:String,required:!1,default:C("General_LoadingData")}}});Xi.render=Ki;var Zi=Xi;function ea(e,t){return ia(e)||oa(e,t)||na(e,t)||ta()}function ta(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function na(e,t){if(e){if("string"===typeof e)return ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ra(e,t):void 0}}function ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oa(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){c=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw o}}return i}}function ia(e){if(Array.isArray(e))return e}function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){la(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sa=dn("CorePluginsAdmin","Field"),ua=S.helper.htmlDecode("&nbsp;"),da=[{key:"custom",value:C("General_Custom")},{key:"previousPeriod",value:C("General_PreviousPeriod").replace(/\s+/,ua)},{key:"previousYear",value:C("General_PreviousYear").replace(/\s+/,ua)}],pa=new Date(S.minDateYear,S.minDateMonth-1,S.minDateDay),ma=new Date(S.maxDateYear,S.maxDateMonth-1,S.maxDateDay);function fa(e){return"[object Date]"===Object.prototype.toString.call(e)&&!Number.isNaN(e.getTime())}var ha=Object(i["defineComponent"])({props:{periods:Array},components:{DateRangePicker:$r,PeriodDatePicker:Jr,Field:sa,ActivityIndicator:Zi},directives:{ExpandOnClick:pt},data:function(){return{comparePeriodDropdownOptions:da,periodValue:null,dateValue:null,selectedPeriod:null,startRangeDate:null,endRangeDate:null,isRangeValid:null,isLoadingNewPage:!1,isComparing:null,comparePeriodType:"previousPeriod",compareStartDate:"",compareEndDate:""}},mounted:function(){var e=this;S.on("hidePeriodSelector",(function(){window.$(e.$refs.root).hide()})),S.on("piwikPageChange",(function(){window.$(e.$refs.root).show()})),this.updateSelectedValuesFromHash(),Object(i["watch"])((function(){return we.parsed.value}),this.updateSelectedValuesFromHash),this.isComparing=Jn.isComparing(),Object(i["watch"])((function(){return Jn.isComparing()}),(function(t){e.isComparing=t})),window.initTopControls(),this.handleZIndexPositionRelativeCompareDropdownIssue()},computed:{currentlyViewingText:function(){var e;if("range"===this.periodValue){if(!this.startRangeDate||!this.endRangeDate)return C("General_Error");e="".concat(this.startRangeDate,",").concat(this.endRangeDate)}else{if(!this.dateValue)return C("General_Error");e=P(this.dateValue)}try{return p.parse(this.periodValue,e).getPrettyString()}catch(t){return C("General_Error")}},isComparisonEnabled:function(){return Jn.isComparisonEnabled()},periodsFiltered:function(){return(this.periods||[]).filter((function(e){return p.isRecognizedPeriod(e)}))},selectedComparisonParams:function(){if(!this.isComparing)return{};if("custom"===this.comparePeriodType)return{comparePeriods:["range"],compareDates:["".concat(this.compareStartDate,",").concat(this.compareEndDate)]};if("previousPeriod"===this.comparePeriodType)return{comparePeriods:[this.selectedPeriod],compareDates:[this.previousPeriodDateToSelectedPeriod]};if("previousYear"===this.comparePeriodType){var e="range"===this.selectedPeriod?"".concat(this.startRangeDate,",").concat(this.endRangeDate):this.dateValue,t=p.parse(this.selectedPeriod,e).getDateRange();return t[0].setFullYear(t[0].getFullYear()-1),t[1].setFullYear(t[1].getFullYear()-1),"range"===this.selectedPeriod?{comparePeriods:["range"],compareDates:["".concat(P(t[0]),",").concat(P(t[1]))]}:{comparePeriods:[this.selectedPeriod],compareDates:[P(t[0])]}}return console.warn("Unknown compare period type: ".concat(this.comparePeriodType)),{}},previousPeriodDateToSelectedPeriod:function(){if("range"===this.selectedPeriod){var e=E(this.startRangeDate),t=E(this.endRangeDate),n=_.getLastNRange("day",2,e).startDate,r=Math.floor((t-e)/864e5),o=_.getLastNRange("day",1+r,n);return"".concat(P(o.startDate),",").concat(P(o.endDate))}var i=_.getLastNRange(this.selectedPeriod,2,this.dateValue).startDate;return P(i)},selectedDateString:function(){if("range"===this.selectedPeriod){var e=this.startRangeDate,t=this.endRangeDate,n=E(e),r=E(t);return!fa(n)||!fa(r)||n>r?(window.$("#alert").find("h2").text(C("General_InvalidDateRange")),S.helper.modalConfirm("#alert",{}),null):"".concat(e,",").concat(t)}return P(this.dateValue)}},methods:{handleZIndexPositionRelativeCompareDropdownIssue:function(){var e=window.$(this.$refs.root);e.on("focus","#comparePeriodToDropdown .select-dropdown",(function(){e.addClass("compare-dropdown-open")})).on("blur","#comparePeriodToDropdown .select-dropdown",(function(){e.removeClass("compare-dropdown-open")}))},changeViewedPeriod:function(){this.period!==this.periodValue&&"range"!==this.period&&this.setPiwikPeriodAndDate(this.period,this.dateValue)},setPiwikPeriodAndDate:function(e,t){this.periodValue=e,this.selectedPeriod=e,this.dateValue=t;var n=P(t);this.setRangeStartEndFromPeriod(e,n),this.propagateNewUrlParams(n,this.selectedPeriod),window.initTopControls()},propagateNewUrlParams:function(e,t){var n,r=this.selectedComparisonParams;S.helper.isAngularRenderingThePage()?(this.closePeriodSelector(),n=we.hashParsed.value):(this.isLoadingNewPage=!0,n=we.parsed.value);var o=ca({},n);delete o.comparePeriods,delete o.compareSegments,delete o.compareDates,we.updateLocation(ca(ca({},o),{},{date:e,period:t},r))},onApplyClicked:function(){if("range"===this.selectedPeriod){var e=this.selectedDateString;if(!e)return;return this.periodValue="range",void this.propagateNewUrlParams(e,"range")}this.setPiwikPeriodAndDate(this.selectedPeriod,this.dateValue)},updateSelectedValuesFromHash:function(){var e=we.parsed.value,t=e.date,n=e.period;this.periodValue=n,this.selectedPeriod=n,this.dateValue=null,this.startRangeDate=null,this.endRangeDate=null;try{p.parse(n,t)}catch(l){return}if("range"===n){var r=p.get(n).parse(t),o=r.getDateRange(),i=ea(o,2),a=i[0],c=i[1];this.dateValue=a,this.startRangeDate=P(a),this.endRangeDate=P(c)}else this.dateValue=E(t),this.setRangeStartEndFromPeriod(n,t)},setRangeStartEndFromPeriod:function(e,t){var n=p.parse(e,t).getDateRange();this.startRangeDate=P(n[0]<pa?pa:n[0]),this.endRangeDate=P(n[1]>ma?ma:n[1])},getPeriodDisplayText:function(e){return p.get(e).getDisplayText()},onRangeChange:function(e,t){e&&t?(this.isRangeValid=!0,this.startRangeDate=e,this.endRangeDate=t):this.isRangeValid=!1},isApplyEnabled:function(){return!("range"===this.selectedPeriod&&!this.isRangeValid)&&!(this.isComparing&&"custom"===this.comparePeriodType&&!this.isCompareRangeValid())},closePeriodSelector:function(){this.$refs.root.classList.remove("expanded")},isCompareRangeValid:function(){try{E(this.compareStartDate)}catch(e){return!1}try{E(this.compareEndDate)}catch(e){return!1}return!0}}});ha.render=zi;var ga=ha,ba=(qt({component:ga,scope:{periods:{angularJsBind:"<"}},directiveName:"piwikPeriodSelector"}),{class:"reportingMenu"}),va=["aria-label"],ya=["onClick"],Oa={class:"hidden"},wa={role:"menu"},ja=["href","onClick","title"],ka=["href","onClick"],Sa=["onClick"],Ca=Object(i["createElementVNode"])("span",{class:"icon-help"},null,-1),Pa=[Ca],Da={id:"mobile-left-menu",class:"sidenav hide-on-large-only"},Ea={class:"collapsible collapsible-accordion"},Va={class:"collapsible-header"},Na={class:"collapsible-body"},Ta={key:0},Aa=["onClick","href"],Ba={key:1},xa=["onClick","href"];
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Ia(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("MenuDropdown"),l=Object(i["resolveDirective"])("side-nav");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ba,[Object(i["createElementVNode"])("ul",{class:"navbar hide-on-med-and-down",role:"menu","aria-label":e.translate("CoreHome_MainNavigation")},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.menu,(function(t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{class:Object(i["normalizeClass"])(["menuTab",{active:t.id===e.activeCategory}]),role:"menuitem",key:t.id},[Object(i["createElementVNode"])("a",{class:"item",tabindex:"5",href:"",onClick:Object(i["withModifiers"])((function(n){return e.loadCategory(t)}),["prevent"])},[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])("menu-icon ".concat(t.icon?t.icon:"icon-arrow-right"))},null,2),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(t.name)+" ",1),Object(i["createElementVNode"])("span",Oa,Object(i["toDisplayString"])(e.translate("CoreHome_Menu")),1)],8,ya),Object(i["createElementVNode"])("ul",wa,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t.subcategories,(function(n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{role:"menuitem",class:Object(i["normalizeClass"])({active:n.id===e.activeSubcategory}),key:n.id},[n.isGroup?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:0,"show-search":!0,"menu-title":e.htmlEntities(n.name)},{default:Object(i["withCtx"])((function(){return[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.subcategories,(function(n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:Object(i["normalizeClass"])(["item",{active:n.id===e.activeSubsubcategory}]),tabindex:"5",href:"#?".concat(e.makeUrl(t,n)),onClick:function(r){return e.loadSubcategory(t,n,r)},title:n.tooltip,key:n.id},Object(i["toDisplayString"])(n.name),11,ja)})),128))]})),_:2},1032,["menu-title"])):Object(i["createCommentVNode"])("",!0),n.isGroup?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:1,href:"#?".concat(e.makeUrl(t,n)),class:"item",onClick:function(r){return e.loadSubcategory(t,n,r)}},Object(i["toDisplayString"])(n.name),9,ka)),n.help?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:2,class:Object(i["normalizeClass"])(["item-help-icon",{active:e.helpShownCategory&&e.helpShownCategory.subcategory===n.id&&e.helpShownCategory.category===t.id&&n.help}]),tabindex:"5",href:"javascript:",onClick:function(r){return e.showHelp(t,n,r)}},Pa,10,Sa)):Object(i["createCommentVNode"])("",!0)],2)})),128))])],2)})),128))],8,va),Object(i["createElementVNode"])("ul",Da,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.menu,(function(t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{class:"no-padding",key:t.id},[Object(i["withDirectives"])(Object(i["createElementVNode"])("ul",Ea,[Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("a",Va,[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(t.icon?t.icon:"icon-arrow-bottom")},null,2),Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.name),1)]),Object(i["createElementVNode"])("div",Na,[Object(i["createElementVNode"])("ul",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t.subcategories,(function(n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:n.id},[n.isGroup?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ta,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.subcategories,(function(n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{onClick:function(r){return e.loadSubcategory(t,n)},href:"#?".concat(e.makeUrl(t,n)),key:n.id},Object(i["toDisplayString"])(n.name),9,Aa)})),128))])):Object(i["createCommentVNode"])("",!0),n.isGroup?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ba,[Object(i["createElementVNode"])("a",{onClick:function(r){return e.loadSubcategory(t,n)},href:"#?".concat(e.makeUrl(t,n))},Object(i["toDisplayString"])(n.name),9,xa)]))])})),128))])])])],512),[[l,{activator:e.sideNavActivator}]])])})),128))])])}var Ma={key:0},La=["data-notification-instance-id"],Fa={key:1},Ra={class:"notification-body"},_a=["innerHTML"],$a={key:1};function Ha(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createBlock"])(i["Transition"],{name:"toast"===e.type?"slow-fade-out":void 0,onAfterLeave:t[1]||(t[1]=function(t){return e.toastClosed()})},{default:Object(i["withCtx"])((function(){return[e.deleted?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ma,[Object(i["createVNode"])(i["Transition"],{name:"toast"===e.type?"toast-slide-up":void 0,appear:""},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(i["Transition"],{name:e.animate?"fade-in":void 0,appear:""},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["notification system",e.cssClasses]),style:Object(i["normalizeStyle"])(e.style),ref:"root","data-notification-instance-id":e.notificationInstanceId},[e.canClose?(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:0,type:"button",class:"close","data-dismiss":"alert",onClick:t[0]||(t[0]=function(t){return e.closeNotification(t)})},"  ")):Object(i["createCommentVNode"])("",!0),e.title?(Object(i["openBlock"])(),Object(i["createElementBlock"])("strong",Fa,Object(i["toDisplayString"])(e.title),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Ra,[e.message?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,innerHTML:e.$sanitize(e.message)},null,8,_a)):Object(i["createCommentVNode"])("",!0),e.message?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",$a,[Object(i["renderSlot"])(e.$slots,"default")]))])],14,La)]})),_:3},8,["name"])])]})),_:3},8,["name"])]))]})),_:3},8,["name"])}var Ua=window,Wa=Ua.$,qa=Object(i["defineComponent"])({props:{notificationId:String,notificationInstanceId:String,title:String,context:String,type:String,noclear:Boolean,toastLength:{type:Number,default:12e3},style:[String,Object],animate:Boolean,message:String,cssClass:String},computed:{cssClasses:function(){var e={};return this.context&&(e["notification-".concat(this.context)]=!0),this.cssClass&&(e[this.cssClass]=!0),e},canClose:function(){return"persistent"===this.type||!this.noclear}},emits:["closed"],data:function(){return{deleted:!1}},mounted:function(){var e=this,t=function(){setTimeout((function(){e.deleted=!0}),e.toastLength)};"toast"===this.type&&t(),this.style&&Wa(this.$refs.root).css(this.style)},methods:{toastClosed:function(){var e=this;Object(i["nextTick"])((function(){e.$emit("closed")}))},closeNotification:function(e){var t=this;this.canClose&&e&&e.target&&(this.deleted=!0,Object(i["nextTick"])((function(){t.$emit("closed")}))),this.markNotificationAsRead()},markNotificationAsRead:function(){this.notificationId&&We.fetch({module:"CoreHome",action:"markNotificationAsRead"},{postParams:{notificationId:this.notificationId}})}}});qa.render=Ha;var Ja=qa;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */qt({component:Ja,scope:{notificationId:{angularJsBind:"@?"},title:{angularJsBind:"@?notificationTitle"},context:{angularJsBind:"@?"},type:{angularJsBind:"@?"},noclear:{angularJsBind:"@?",transform:Jt},toastLength:{angularJsBind:"@?"}},directiveName:"piwikNotification",transclude:!0});function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){Xa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ka(e,t,n){return t&&Qa(e.prototype,t),n&&Qa(e,n),e}function Xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var Za=function(){function e(){Ya(this,e),Xa(this,"privateState",Object(i["reactive"])({notifications:[]})),Xa(this,"nextNotificationId",0)}return Ka(e,[{key:"state",get:function(){return Object(i["readonly"])(this.privateState)}},{key:"appendNotification",value:function(e){this.checkMessage(e.message),e.id&&this.remove(e.id),this.privateState.notifications.push(e)}},{key:"prependNotification",value:function(e){this.checkMessage(e.message),e.id&&this.remove(e.id),this.privateState.notifications.unshift(e)}},{key:"remove",value:function(e){this.privateState.notifications=this.privateState.notifications.filter((function(t){return t.id!==e}))}},{key:"parseNotificationDivs",value:function(){var e=this,t=$('[data-role="notification"]'),n=[];t.each((function(e,r){var o=$(r),i=o.data(),a=o.html();a&&n.push(za(za({},i),{},{message:a,animate:!1})),t.remove()})),n.forEach((function(t){return e.show(t)}))}},{key:"clearTransientNotifications",value:function(){this.privateState.notifications=this.privateState.notifications.filter((function(e){return"transient"!==e.type}))}},{key:"show",value:function(e){this.checkMessage(e.message);var t=e.prepend?this.prependNotification:this.appendNotification,n="#notificationContainer";if(e.placeat)n=e.placeat;else{var r=".modal.open .modal-content",o=document.querySelector(r);o&&(o.querySelector("#modalNotificationContainer")||window.$(o).prepend('<div id="modalNotificationContainer"/>'),n="".concat(r," #modalNotificationContainer"),t=this.prependNotification)}var i=e.group||(n?n.toString():"");this.initializeNotificationContainer(n,i);var a=(this.nextNotificationId+=1).toString();return t.call(this,za(za({},e),{},{noclear:!!e.noclear,group:i,notificationId:e.id,notificationInstanceId:a,type:e.type||"transient"})),a}},{key:"scrollToNotification",value:function(e){setTimeout((function(){var t=document.querySelector("[data-notification-instance-id='".concat(e,"']"));t&&S.helper.lazyScrollTo(t,250)}))}},{key:"toast",value:function(e){this.checkMessage(e.message);var t=$(e.placeat);if(!t.length)throw new Error("A valid selector is required for the placeat option when using Notification.toast().");var n=document.createElement("div");n.style.position="absolute",n.style.top="".concat(t.offset().top,"px"),n.style.left="".concat(t.offset().left,"px"),n.style.zIndex="1000",document.body.appendChild(n);var r=Bt({render:function(){return Object(i["createVNode"])(Ja,za(za({},e),{},{notificationId:e.id,type:"toast",onClosed:function(){r.unmount()}}))}});r.mount(n)}},{key:"initializeNotificationContainer",value:function(e,t){var n=window.$(e);if(!n.children(".notification-group").length){var r=window.CoreHome.NotificationGroup,o=Bt({template:'<NotificationGroup :group="group"></NotificationGroup>',data:function(){return{group:t}}});o.component("NotificationGroup",r),o.mount(n[0])}}},{key:"checkMessage",value:function(e){if(!e)throw new Error("No message given, cannot display notification")}}]),e}(),ec=new Za,tc=ec;$((function(){return ec.parseNotificationDivs()})),
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
angular.module("piwikApp").factory("notifications",(function(){return tc}));var nc={class:"notification-group"},rc=["innerHTML"];function oc(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("Notification");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",nc,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.notifications,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:t.id||"no-id-".concat(n),"notification-id":t.id,title:t.title,context:t.context,type:t.type,noclear:t.noclear,"toast-length":t.toastLength,style:Object(i["normalizeStyle"])(t.style),animate:t.animate,message:t.message,"notification-instance-id":t.notificationInstanceId,"css-class":t.class,onClosed:function(n){return e.removeNotification(t.id)}},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",{innerHTML:e.$sanitize(t.message)},null,8,rc)]})),_:2},1032,["notification-id","title","context","type","noclear","toast-length","style","animate","message","notification-instance-id","css-class","onClosed"])})),128))])}var ic=Object(i["defineComponent"])({props:{group:String},components:{Notification:Ja},computed:{notifications:function(){var e=this;return tc.state.notifications.filter((function(t){return e.group?e.group===t.group:!t.group}))}},methods:{removeNotification:function(e){tc.remove(e)}}});ic.render=oc;var ac=ic;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function cc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sc(e,t,n){return t&&lc(e.prototype,t),n&&lc(e,n),e}function uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var dc=function(){function e(){var t=this;cc(this,e),uc(this,"privateState",Object(i["reactive"])({pages:[]})),uc(this,"state",Object(i["readonly"])(this.privateState)),uc(this,"fetchAllPagesPromise",void 0),uc(this,"pages",Object(i["computed"])((function(){return t.state.pages})))}return sc(e,[{key:"findPageInCategory",value:function(e){return this.pages.value.find((function(t){return t&&t.category&&t.category.id===e&&t.subcategory&&t.subcategory.id}))}},{key:"findPage",value:function(e,t){return this.pages.value.find((function(n){return n&&n.category&&n.subcategory&&n.category.id===e&&"".concat(n.subcategory.id)===t}))}},{key:"reloadAllPages",value:function(){var e=this;return new Promise((function(e){return setTimeout(e)})).then((function(){return e.fetchAllPagesPromise=null,e.getAllPages()}))}},{key:"getAllPages",value:function(){var e=this;return this.fetchAllPagesPromise||(this.fetchAllPagesPromise=We.fetch({method:"API.getReportPagesMetadata",filter_limit:"-1"}).then((function(t){e.privateState.pages=t}))),this.fetchAllPagesPromise.then((function(){return e.pages.value}))}}]),e}(),pc=new dc;function mc(e){return bc(e)||gc(e)||hc(e)||fc()}function fc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hc(e,t){if(e){if("string"===typeof e)return vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vc(e,t):void 0}}function gc(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function bc(e){if(Array.isArray(e))return vc(e)}function vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function yc(e){var t=mc(e||[]);return t.sort((function(e,t){return e.order<t.order?-1:t.order>e.order?1:0})),t}function Oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oc(Object(n),!0).forEach((function(t){Cc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sc(e,t,n){return t&&kc(e.prototype,t),n&&kc(e,n),e}function Cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Pc(e){var t=parseFloat(e);return!Number.isNaN(t)&&Number.isFinite(t)}var Dc=function(){function e(){var t=this;jc(this,e),Cc(this,"privateState",Object(i["reactive"])({activeCategoryId:null,activeSubcategoryId:null,activeSubsubcategoryId:null})),Cc(this,"state",Object(i["computed"])((function(){return Object(i["readonly"])(t.privateState)}))),Cc(this,"activeCategory",Object(i["computed"])((function(){return t.state.value.activeCategoryId||we.parsed.value.category}))),Cc(this,"activeSubcategory",Object(i["computed"])((function(){return t.state.value.activeSubcategoryId||we.parsed.value.subcategory}))),Cc(this,"activeSubsubcategory",Object(i["computed"])((function(){return t.state.value.activeSubsubcategoryId}))),Cc(this,"menu",Object(i["computed"])((function(){return t.buildMenuFromPages()})))}return Sc(e,[{key:"fetchMenuItems",value:function(){var e=this;return pc.getAllPages().then((function(){return e.menu.value}))}},{key:"reloadMenuItems",value:function(){var e=this;return pc.reloadAllPages().then((function(){return e.menu.value}))}},{key:"findSubcategory",value:function(e,t){var n=null,r=null,o=null;return this.menu.value.forEach((function(i){i.id===e&&(i.subcategories||[]).forEach((function(e){e.id===t&&(n=i,r=e),e.isGroup&&(e.subcategories||[]).forEach((function(a){a.id===t&&(n=i,r=e,o=a)}))}))})),{category:n,subcategory:r,subsubcategory:o}}},{key:"buildMenuFromPages",value:function(){var e=[],t=this.activeCategory.value,n=this.activeSubcategory.value,r=pc.pages.value,o={};return r.forEach((function(i){var a=wc({},i.category),c=a.id,l=c===t;if(!o[c]){var s;o[c]=!0,a.subcategories=[];var u=r.filter((function(e){return e.category.id===c}));u.forEach((function(e){var t=wc({},e.subcategory),r=t.id===n&&l;if(e.widgets&&e.widgets[0]&&Pc(e.subcategory.id)){s||(s=wc({},t),s.name=C("CoreHome_ChooseX",[a.name]),s.isGroup=!0,s.subcategories=[],s.order=10),r&&(s.name=t.name);var o=i.subcategory.id;return t.tooltip="".concat(t.name," (id = ").concat(o,")"),void s.subcategories.push(t)}a.subcategories.push(t)})),s&&s.subcategories&&s.subcategories.length<=5?s.subcategories.forEach((function(e){return a.subcategories.push(e)})):s&&a.subcategories.push(s),a.subcategories=yc(a.subcategories),e.push(a)}})),yc(e)}},{key:"toggleCategory",value:function(e){return this.privateState.activeSubcategoryId=null,this.privateState.activeSubsubcategoryId=null,this.privateState.activeCategoryId===e.id?(this.privateState.activeCategoryId=null,!1):(this.privateState.activeCategoryId=e.id,!0)}},{key:"enterSubcategory",value:function(e,t,n){e&&t&&(this.privateState.activeCategoryId=e.id,this.privateState.activeSubcategoryId=t.id,n&&(this.privateState.activeSubsubcategoryId=n.id))}}]),e}(),Ec=new Dc;function Vc(e){return Vc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(e)}function Nc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ac(e,t,n){return t&&Tc(e.prototype,t),n&&Tc(e,n),e}function Bc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var xc=function(){function e(){var t=this;Nc(this,e),Bc(this,"privateState",Object(i["reactive"])({isFetchedFirstTime:!1,categorizedWidgets:{}})),Bc(this,"state",Object(i["computed"])((function(){return t.privateState.isFetchedFirstTime||t.fetchAvailableWidgets(),Object(i["readonly"])(t.privateState)}))),Bc(this,"widgets",Object(i["computed"])((function(){return t.state.value.categorizedWidgets})))}return Ac(e,[{key:"fetchAvailableWidgets",value:function(){var e=this;return we.parsed.value.idSite?(this.privateState.isFetchedFirstTime=!0,new Promise((function(t,n){try{window.widgetsHelper.getAvailableWidgets((function(n){e.privateState.categorizedWidgets=n,t(e.widgets.value)}))}catch(r){n(r)}}))):Promise.resolve(this.widgets.value)}},{key:"reloadAvailableWidgets",value:function(){return"object"===Vc(window.widgetsHelper)&&window.widgetsHelper.availableWidgets&&delete window.widgetsHelper.availableWidgets,this.fetchAvailableWidgets()}}]),e}(),Ic=new xc;function Mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mc(Object(n),!0).forEach((function(t){Fc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rc="reportingmenu-help",_c=Object(i["defineComponent"])({components:{MenuDropdown:Cr},directives:{SideNav:Dt},props:{},data:function(){return{showSubcategoryHelpOnLoad:null,initialLoad:!0,helpShownCategory:null}},computed:{sideNavActivator:function(){return document.querySelector("nav .activateLeftMenu")},menu:function(){return Ec.menu.value},activeCategory:function(){return Ec.activeCategory.value},activeSubcategory:function(){return Ec.activeSubcategory.value},activeSubsubcategory:function(){return Ec.activeSubsubcategory.value}},created:function(){var e=this;Ec.fetchMenuItems().then((function(t){if(!we.parsed.value.subcategory){var n=t[0],r=n.subcategories[0];Ec.enterSubcategory(n,r),e.propagateUrlChange(n,r)}})),Object(i["watch"])((function(){return we.parsed.value}),(function(e){var t=Ec.findSubcategory(e.category,e.subcategory);Ec.enterSubcategory(t.category,t.subcategory,t.subsubcategory)})),S.on("piwikPageChange",(function(){e.initialLoad||window.globalAjaxQueue.abort(),e.helpShownCategory=null,e.showSubcategoryHelpOnLoad&&(e.showHelp(e.showSubcategoryHelpOnLoad.category,e.showSubcategoryHelpOnLoad.subcategory),e.showSubcategoryHelpOnLoad=null),window.$("#loadingError").hide(),e.initialLoad=!1})),S.on("updateReportingMenu",(function(){Ec.reloadMenuItems().then((function(){var e=we.parsed.value,t=e.category,n=e.subcategory;if(t&&n){var r=Ec.findSubcategory(t,n);r&&Ec.enterSubcategory(r.category,r.subcategory,r.subsubcategory)}})),Ic.reloadAvailableWidgets()}))},methods:{propagateUrlChange:function(e,t){var n=we.parsed.value;n.category===e.id&&n.subcategory===t.id?this.loadSubcategory(e,t):we.updateHash(Lc(Lc({},we.hashParsed.value),{},{category:e.id,subcategory:t.id}))},loadCategory:function(e){tc.remove(Rc);var t=Ec.toggleCategory(e);if(t&&e.subcategories&&1===e.subcategories.length){this.helpShownCategory=null;var n=e.subcategories[0];this.propagateUrlChange(e,n)}},loadSubcategory:function(e,t,n){n.shiftKey||n.ctrlKey||n.metaKey||(tc.remove(Rc),t&&t.id===this.activeSubcategory&&(this.helpShownCategory=null,S.postEvent("loadPage",e.id,t.id)))},makeUrl:function(e,t){var n=we.parsed.value,r=n.idSite,o=n.period,i=n.date,a=n.segment,c=n.comparePeriods,l=n.compareDates,s=n.compareSegments;return we.stringify({idSite:r,period:o,date:i,segment:a,comparePeriods:c,compareDates:l,compareSegments:s,category:e.id,subcategory:t.id})},htmlEntities:function(e){return S.helper.htmlEntities(e)},showHelp:function(e,t,n){var r=we.parsed.value,o=r.category,i=r.subcategory;if((o!==e.id||i!==t.id)&&n)return this.showSubcategoryHelpOnLoad={category:e,subcategory:t},void we.updateHash(Lc(Lc({},we.hashParsed.value),{},{category:e.id,subcategory:t.id}));if(this.helpShownCategory&&e.id===this.helpShownCategory.category&&t.id===this.helpShownCategory.subcategory)return tc.remove(Rc),void(this.helpShownCategory=null);var a=C("CoreHome_ReportingCategoryHelpPrefix",e.name,t.name),c="<strong>".concat(a,"</strong><br/>");tc.show({context:"info",id:Rc,type:"help",noclear:!0,class:"help-notification",message:c+t.help,placeat:"#notificationContainer",prepend:!0}),this.helpShownCategory={category:e.id,subcategory:t.id}}}});_c.render=Ia;var $c=_c;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */qt({component:$c,directiveName:"piwikReportingMenu"});
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function Hc(e){return e.forEach((function(e){e.id===Ec.activeCategory.value&&(e.active=!0,(e.subcategories||[]).forEach((function(e){e.id===Ec.activeSubcategory.value&&(e.active=!0,(e.subcategories||[]).forEach((function(e){e.id===Ec.activeSubsubcategory.value&&(e.active=!0)})))})))})),e}function Uc(){return{get menu(){return Ec.menu.value},findSubcategory:Ec.findSubcategory.bind(Ec),reloadMenuItems:function(){return Ec.reloadMenuItems().then((function(e){return Hc(Yt(e))}))},fetchMenuItems:function(){return Ec.fetchMenuItems().then((function(e){return Hc(Yt(e))}))}}}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function Wc(){return{get pages(){return pc.pages.value},findPageInCategory:function(){return zt(pc.findPageInCategory.apply(pc,arguments))},findPage:function(){return zt(pc.findPage.apply(pc,arguments))},reloadAllPages:function(){return pc.reloadAllPages().then((function(e){return Yt(e)}))},getAllPages:function(){return pc.getAllPages().then((function(e){return Yt(e)}))}}}function qc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gc(e,t,n){return t&&Jc(e.prototype,t),n&&Jc(e,n),e}function zc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */angular.module("piwikApp.service").factory("reportingMenuModel",Uc),angular.module("piwikApp.service").factory("reportingPagesModel",Wc);var Yc=function(){function e(){var t=this;qc(this,e),zc(this,"privateState",Object(i["reactive"])({reports:[]})),zc(this,"state",Object(i["readonly"])(this.privateState)),zc(this,"reports",Object(i["computed"])((function(){return t.state.reports}))),zc(this,"reportsPromise",void 0)}return Gc(e,[{key:"findReport",value:function(e,t){return this.reports.value.find((function(n){return n.module===e&&n.action===t}))}},{key:"fetchReportMetadata",value:function(){var e=this;return this.reportsPromise||(this.reportsPromise=We.fetch({method:"API.getReportMetadata",filter_limit:"-1",idSite:S.idSite||we.parsed.value.idSite}).then((function(t){return e.privateState.reports=t,t}))),this.reportsPromise.then((function(){return e.reports.value}))}}]),e}(),Qc=new Yc;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
angular.module("piwikApp.service").factory("reportMetadataModel",(function(){return{get reports(){return Qc.reports.value},findReport:Qc.findReport.bind(Qc),fetchReportMetadata:function(){return Qc.fetchReportMetadata().then((function(e){return Yt(e)}))}}}));var Kc={key:0},Xc={class:"notification system notification-error"},Zc={key:0,rel:"noreferrer noopener",target:"_blank",href:"https://matomo.org/faq/troubleshooting/faq_19489/"},el={class:"theWidgetContent",ref:"widgetContent"};function tl(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("ActivityIndicator");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createVNode"])(c,{"loading-message":e.loadingMessage,loading:e.loading},null,8,["loading-message","loading"]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",null,[e.widgetName?(Object(i["openBlock"])(),Object(i["createElementBlock"])("h2",Kc,Object(i["toDisplayString"])(e.widgetName),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Xc,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.translate("General_ErrorRequest","",""))+" ",1),e.hasErrorFaqLink?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",Zc,Object(i["toDisplayString"])(e.translate("General_ErrorRequestFaqLink")),1)):Object(i["createCommentVNode"])("",!0)])],512),[[i["vShow"],e.loadingFailed]]),Object(i["createElementVNode"])("div",el,null,512)])}function nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(n),!0).forEach((function(t){ol(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ol(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var il=Object(i["defineComponent"])({props:{widgetParams:Object,widgetName:String},components:{ActivityIndicator:Zi},data:function(){return{loading:!1,loadingFailed:"",changeCounter:0,currentScope:null}},watch:{widgetParams:function(e){e&&this.loadWidgetUrl(e,this.changeCounter+=1)}},computed:{loadingMessage:function(){return this.widgetName?C("General_LoadingPopover",this.widgetName):C("General_LoadingData")},hasErrorFaqLink:function(){var e=S.config.enable_general_settings_admin,t=S.config.enable_plugins_admin;return S.hasSuperUserAccess&&(e||t)}},mounted:function(){this.widgetParams&&this.loadWidgetUrl(this.widgetParams,this.changeCounter+=1)},unmounted:function(){this.cleanupLastWidgetContent()},methods:{abortHttpRequestIfNeeded:function(){this.lastWidgetAbortController&&(this.lastWidgetAbortController.abort(),this.lastWidgetAbortController=null)},cleanupLastWidgetContent:function(){var e=this.$refs.widgetContent;e&&(e.innerHTML=""),this.currentScope&&this.currentScope.$destroy()},getWidgetUrl:function(e){var t=we.parsed.value,n=rl({},e||{}),r=Object.keys(rl(rl({},we.hashParsed.value),{},{idSite:"",period:"",date:"",segment:"",widget:""}));return r.forEach((function(e){"category"!==e&&"subcategory"!==e&&(e in n||(n[e]=t[e]))})),Jn.isComparisonEnabled()&&(n=rl(rl({},n),{},{comparePeriods:t.comparePeriods,compareDates:t.compareDates,compareSegments:t.compareSegments})),e&&"showtitle"in e||(n.showtitle="1"),S.shouldPropagateTokenAuth&&t.token_auth&&(S.broadcast.isWidgetizeRequestWithoutSession()||(n.force_api_session="1"),n.token_auth=t.token_auth),n.random=Math.floor(1e4*Math.random()),n},loadWidgetUrl:function(e,t){var n=this;this.loading=!0,this.abortHttpRequestIfNeeded(),this.cleanupLastWidgetContent(),this.lastWidgetAbortController=new AbortController,We.fetch(this.getWidgetUrl(e),{format:"html",headers:{"X-Requested-With":"XMLHttpRequest"},abortController:this.lastWidgetAbortController}).then((function(r){if(t===n.changeCounter&&r&&"string"===typeof r){n.lastWidgetAbortController=null,n.loading=!1,n.loadingFailed=!1;var o=n.$refs.widgetContent;window.$(o).html(r);var i=window.$(o).children();if(n.widgetName){var a=i.find("> .card-content .card-title");a.length||(a=i.find("> h2")),a.length&&a.html(S.helper.htmlEntities(n.widgetName))}var c=S.helper.getAngularDependency("$rootScope"),l=c.$new();n.currentScope=l,S.helper.compileAngularComponents(i,{scope:l}),tc.parseNotificationDivs(),setTimeout((function(){S.postEvent("widget:loaded",{parameters:e,element:i})}))}})).catch((function(e){t===n.changeCounter&&(n.lastWidgetAbortController=null,n.cleanupLastWidgetContent(),n.loading=!1,"abort"!==e.xhrStatus&&(n.loadingFailed=!0))}))}}});il.render=tl;var al=il;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */qt({component:al,scope:{piwikWidgetLoader:{vue:"widgetParams",angularJsBind:"="},widgetName:{angularJsBind:"@"}},directiveName:"piwikWidgetLoader"});function cl(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("Widget");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.actualContainer,(function(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:t},[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{widget:e,"prevent-recursion":!0},null,8,["widget"])])])})),128))])}function ll(e){return dl(e)||ul(e)||bl(e)||sl()}function sl(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ul(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function dl(e){if(Array.isArray(e))return vl(e)}function pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(n),!0).forEach((function(t){fl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hl(e,t){return Ol(e)||yl(e,t)||bl(e,t)||gl()}function gl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bl(e,t){if(e){if("string"===typeof e)return vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vl(e,t):void 0}}function vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yl(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){c=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw o}}return i}}function Ol(e){if(Array.isArray(e))return e}var wl=dn("CoreHome","Widget"),jl=Object(i["defineComponent"])({props:{container:Array},components:{Widget:wl},computed:{actualContainer:function(){var e,t=this.container;if(null===t||void 0===t||null===(e=t[0])||void 0===e||!e.parameters)return t;var n=hl(t,1),r=n[0],o="1"===r.parameters.widget||1===r.parameters.widget,i=o&&"graphEvolution"===r.viewDataTable,a=i?ml(ml({},r),{},{parameters:ml(ml({},r.parameters),{},{showtitle:"0"})}):r;return[a].concat(ll(t.slice(1)))}}});jl.render=cl;var kl=jl,Sl=(qt({component:kl,scope:{container:{angularJsBind:"=piwikWidgetContainer"}},directiveName:"piwikWidgetContainer"}),{class:"reportsByDimensionView"}),Cl={class:"entityList"},Pl={class:"listCircle"},Dl=["onClick"],El={class:"dimension"},Vl={class:"reportContainer"},Nl=Object(i["createElementVNode"])("div",{class:"clear"},null,-1);
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Tl(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("WidgetLoader");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Sl,[Object(i["createElementVNode"])("div",Cl,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.widgetsByCategory,(function(t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"dimensionCategory",key:t.name},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.name)+" ",1),Object(i["createElementVNode"])("ul",Pl,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t.widgets,(function(t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{class:Object(i["normalizeClass"])(["reportDimension",{activeDimension:e.selectedWidget.uniqueId===t.uniqueId}]),key:t.uniqueId,onClick:function(n){return e.selectWidget(t)}},[Object(i["createElementVNode"])("span",El,Object(i["toDisplayString"])(t.name),1)],10,Dl)})),128))])])})),128))]),Object(i["createElementVNode"])("div",Vl,[e.selectedWidget.parameters?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:0,"widget-params":e.selectedWidget.parameters,class:"dimensionReport"},null,8,["widget-params"])):Object(i["createCommentVNode"])("",!0)]),Nl])}function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach((function(t){xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Il(e,t){return _l(e)||Rl(e,t)||Ll(e,t)||Ml()}function Ml(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ll(e,t){if(e){if("string"===typeof e)return Fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fl(e,t):void 0}}function Fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rl(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){c=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw o}}return i}}function _l(e){if(Array.isArray(e))return e}var $l=Object(i["defineComponent"])({props:{widgets:Array},components:{WidgetLoader:al},data:function(){return{selectedWidget:null}},created:function(){var e=Il(this.widgetsSorted,1);this.selectedWidget=e[0]},computed:{widgetsSorted:function(){return yc(this.widgets)},widgetsByCategory:function(){var e={};return this.widgetsSorted.forEach((function(t){var n=t.subcategory.name;e[n]||(e[n]={name:n,order:t.order,widgets:[]}),e[n].widgets.push(t)})),yc(Object.values(e))}},methods:{selectWidget:function(e){this.selectedWidget=Bl({},e)}}});$l.render=Tl;var Hl=$l,Ul=(qt({component:Hl,scope:{widgets:{angularJsBind:"=piwikWidgetByDimensionContainer",transform:function(e){return e.widgets}}},directiveName:"piwikWidgetByDimensionContainer"}),["id"]),Wl={key:1},ql={key:2};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Jl(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("WidgetLoader"),l=Object(i["resolveComponent"])("WidgetContainer"),s=Object(i["resolveComponent"])("WidgetByDimensionContainer"),u=Object(i["resolveDirective"])("tooltips");return e.actualWidget?Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:Object(i["normalizeClass"])({isFirstWidgetInPage:e.actualWidget.isFirstInPage}),id:e.actualWidget.uniqueId},[!e.actualWidget.isContainer&&e.actualWidget.parameters?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:0,"widget-params":e.actualWidget.parameters,"widget-name":e.actualWidget.name},null,8,["widget-params","widget-name"])):Object(i["createCommentVNode"])("",!0),e.actualWidget.isContainer&&"ByDimension"!==e.actualWidget.layout&&!this.preventRecursion?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Wl,[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(l,{container:e.actualWidget.widgets},null,8,["container"])])])):Object(i["createCommentVNode"])("",!0),e.actualWidget.isContainer&&"ByDimension"===e.actualWidget.layout?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ql,[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(s,{widgets:e.actualWidget.widgets},null,8,["widgets"])])])):Object(i["createCommentVNode"])("",!0)],10,Ul)),[[i["vShow"],e.showWidget],[u,{content:e.tooltipContent}]]):Object(i["createCommentVNode"])("",!0)}function Gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gl(Object(n),!0).forEach((function(t){Yl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ql(e,t){var n;return Object.values(e||{}).some((function(e){return n=e.find((function(e){return e&&e.isContainer&&e.parameters.containerId===t})),n})),n}var Kl=Object(i["defineComponent"])({props:{widget:Object,widgetized:Boolean,containerid:String,preventRecursion:Boolean},components:{WidgetLoader:al,WidgetContainer:kl,WidgetByDimensionContainer:Hl},directives:{Tooltips:ir},data:function(){return{showWidget:!1}},setup:function(){function e(){var e=window.$(this);if(""===e.attr("piwik-field"))return"";var t=window.$(this).attr("title");return window.vueSanitize(t.replace(/\n/g,"<br />"))}return{tooltipContent:e}},created:function(){var e=this,t=this.actualWidget;t&&t.middlewareParameters?We.fetch(t.middlewareParameters).then((function(t){e.showWidget=!!t})):this.showWidget=!0},computed:{allWidgets:function(){return Ic.widgets.value},actualWidget:function(){var e=this,t=this.widget;if(t){var n=zl({},t);if(t&&t.isReport&&!t.documentation){var r=Qc.findReport(t.module,t.action);r&&r.documentation&&(n.documentation=r.documentation)}return t}if(this.containerid){var o=Ql(this.allWidgets,this.containerid);if(o){var i=zl({},o);return this.widgetized&&(i.isFirstInPage=!0,i.parameters=zl(zl({},i.parameters),{},{widget:"1"}),i.widgets&&(i.widgets=i.widgets.map((function(t){return zl(zl({},t),{},{parameters:zl(zl({},t.parameters),{},{widget:"1",containerId:e.containerid})})})))),i}}return null}}});Kl.render=Jl;var Xl=Kl,Zl=(qt({component:Xl,scope:{widget:{angularJsBind:"=?piwikWidget"},widgetized:{angularJsBind:"=?"},containerid:{angularJsBind:"@"}},directiveName:"piwikWidget"}),{class:"reporting-page"}),es={key:1,class:"col s12 l6 leftWidgetColumn"},ts={key:2,class:"col s12 l6 rightWidgetColumn"};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function ns(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("ActivityIndicator"),l=Object(i["resolveComponent"])("Widget");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Zl,[Object(i["createVNode"])(c,{loading:e.loading},null,8,["loading"]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e.translate("CoreHome_NoSuchPage")),513),[[i["vShow"],e.hasNoPage]]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.widgets,(function(e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"row",key:e.uniqueId},[e.group?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:0,class:"col s12 fullWidgetColumn",widget:e},null,8,["widget"])),e.group?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",es,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.left,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(l,{widget:e,key:e.uniqueId},null,8,["widget"])})),128))])):Object(i["createCommentVNode"])("",!0),e.group?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ts,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.right,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(l,{widget:e,key:e.uniqueId},null,8,["widget"])})),128))])):Object(i["createCommentVNode"])("",!0)])})),128))])}function rs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function os(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function is(e,t,n){return t&&os(e.prototype,t),n&&os(e,n),e}function as(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?as(Object(n),!0).forEach((function(t){ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):as(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ls(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ss(e){return ms(e)||ps(e)||ds(e)||us()}function us(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ds(e,t){if(e){if("string"===typeof e)return fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fs(e,t):void 0}}function ps(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ms(e){if(Array.isArray(e))return fs(e)}function fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function hs(e){return!!(e.isContainer&&e.layout&&"ByDimension"===e.layout||"bydimension"===e.viewDataTable)||(!!e.isWide||e.viewDataTable&&("tableAllColumns"===e.viewDataTable||"sparklines"===e.viewDataTable||"graphEvolution"===e.viewDataTable))}function gs(e){if(e&&e[0]){var t=ss(e);return e[0].group?t[0]=cs(cs({},t[0]),{},{left:gs(e[0].left),right:gs(e[0].right)}):t[0]=cs(cs({},t[0]),{},{isFirstInPage:!0}),t}return e}var bs=function(){function e(){var t=this;rs(this,e),ls(this,"privateState",Object(i["reactive"])({page:null})),ls(this,"state",Object(i["computed"])((function(){return Object(i["readonly"])(t.privateState)}))),ls(this,"page",Object(i["computed"])((function(){return t.state.value.page}))),ls(this,"widgets",Object(i["computed"])((function(){var e=t.page.value;if(!e)return[];var n=[],r={},o=function(e){return e.isReport&&r["".concat(e.module,".").concat(e.action)]},i=function(e){if(!e.isReport)return[];var t=Qc.findReport(e.module,e.action);return t&&t.relatedReports?t.relatedReports:[]};if((e.widgets||[]).forEach((function(e){o(e)||(i(e).forEach((function(e){r["".concat(e.module,".").concat(e.action)]=!0})),n.push(e))})),n=yc(n),1===n.length)return gs(n);for(var a=[],c=0;c<n.length;c+=1){var l=n[c];if(hs(l)||n[c+1]&&hs(n[c+1]))a.push(cs(cs({},l),{},{widgets:yc(l.widgets)}));else{var s=0,u=[l],d=[];while(n[c+1]&&!hs(n[c+1]))c+=1,s+=1,s%2===0?u.push(n[c]):d.push(n[c]);a.push({group:!0,left:u,right:d})}}return a=gs(a),a})))}return is(e,[{key:"fetchPage",value:function(e,t){var n=this;return this.resetPage(),Promise.all([pc.getAllPages(),Qc.fetchReportMetadata()]).then((function(){return n.privateState.page=pc.findPage(e,t),n.page.value}))}},{key:"resetPage",value:function(){this.privateState.page=null}}]),e}(),vs=new bs;function ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(n),!0).forEach((function(t){ws(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var js=window,ks=js.$;function Ss(){var e="category=General_Visitors&subcategory=Live_VisitorLog",t=window.broadcast.buildReportingUrl(e);tc.show({id:"onlyRawData",animate:!1,context:"info",message:C("CoreHome_PeriodHasOnlyRawData",'<a href="'.concat(t,'">'),"</a>"),type:"transient"})}function Cs(){tc.remove("onlyRawData")}var Ps=Object(i["defineComponent"])({props:{},components:{ActivityIndicator:Zi,Widget:Xl},data:function(){return{loading:!1,hasRawData:!1,hasNoVisits:!1,dateLastChecked:null,hasNoPage:!1}},created:function(){var e=this;vs.resetPage(),this.loading=!0,this.renderInitialPage(),Object(i["watch"])((function(){return we.parsed.value}),(function(t,n){t.category===n.category&&t.subcategory===n.subcategory&&t.period===n.period&&t.date===n.date&&t.segment===n.segment&&JSON.stringify(t.compareDates)===JSON.stringify(n.compareDates)&&JSON.stringify(t.comparePeriods)===JSON.stringify(n.comparePeriods)&&JSON.stringify(t.compareSegments)===JSON.stringify(n.compareSegments)||(t.date===n.date&&t.period===n.period||(Cs(),e.dateLastChecked=null,e.hasRawData=!1,e.hasNoVisits=!1),e.renderPage(t.category,t.subcategory))})),S.on("loadPage",(function(t,n){e.renderPage(t,n)}))},computed:{widgets:function(){return vs.widgets.value}},methods:{renderPage:function(e,t){var n=this;if(!e||!t)return vs.resetPage(),void(this.loading=!1);var r=we.parsed.value,o=r.period,i=r.date;try{p.parse(o,i)}catch(l){return tc.show({id:"invalidDate",animate:!1,context:"error",message:C("CoreHome_DateInvalid"),type:"transient"}),vs.resetPage(),void(this.loading=!1)}if(tc.remove("invalidDate"),S.postEvent("piwikPageChange",{}),tc.clearTransientNotifications(),p.parse(o,i).containsToday()&&this.showOnlyRawDataMessageIfRequired(),"Dashboard_Dashboard"===e&&ks.isNumeric(t)&&ks("[piwik-dashboard]").length){this.loading=!0;var a=ks("[piwik-dashboard]"),c=angular.element(a).scope();c.fetchDashboard(parseInt(t,10)).then((function(){n.loading=!1}),(function(){n.loading=!1}))}else vs.fetchPage(e,t).then((function(){var t=!vs.page.value;if(t){var r=pc.findPageInCategory(e);if(r&&r.subcategory)return void we.updateHash(Os(Os({},we.hashParsed.value),{},{subcategory:r.subcategory.id}))}n.hasNoPage=t,n.loading=!1}))},renderInitialPage:function(){var e=we.parsed.value;this.renderPage(e.category,e.subcategory)},showOnlyRawDataMessageIfRequired:function(){var e=this;this.hasRawData&&this.hasNoVisits&&Ss();var t=we.parsed.value,n=t.segment;if(n)Cs();else{var r=["Live_VisitorLog","General_RealTime","UserCountryMap_RealTimeMap","MediaAnalytics_TypeAudienceLog","MediaAnalytics_TypeRealTime","FormAnalytics_TypeRealTime","Goals_AddNewGoal"],o=["HeatmapSessionRecording_Heatmaps","HeatmapSessionRecording_SessionRecordings","Marketplace_Marketplace"];if(-1===r.indexOf(t.subcategory)&&-1===o.indexOf(t.category)&&-1===t.subcategory.toLowerCase().indexOf("manage")){var i=6e4;this.dateLastChecked&&(new Date).getTime()-this.dateLastChecked<i||We.fetch({method:"VisitsSummary.getVisits"}).then((function(t){if(e.dateLastChecked=(new Date).getTime(),t.value>0)return e.hasNoVisits=!1,void Cs();e.hasNoVisits=!0,e.hasRawData?Ss():We.fetch({method:"Live.getLastVisitsDetails",filter_limit:1,doNotFetchActions:1}).then((function(t){if(0===t.length)return e.hasRawData=!1,void Cs();e.hasRawData=!0,Ss()}))}))}else Cs()}}}});Ps.render=ns;var Ds=Ps,Es=(qt({component:Ds,directiveName:"piwikReportingPage"}),{class:"report-export-popover row",id:"reportExport"}),Vs={class:"col l6"},Ns={name:"format"},Ts={name:"option_flat"},As={name:"option_expanded"},Bs={name:"option_format_metrics"},xs={class:"col l6"},Is={name:"filter_type"},Ms={class:"filter_limit"},Ls={name:"filter_limit_all"},Fs={key:0,name:"filter_limit"},Rs={key:1,name:"filter_limit"},_s={class:"col l12"},$s=["value"],Hs=Object(i["createTextVNode"])("\n      "),Us=[Hs],Ws=["innerHTML"],qs={class:"col l12"},Js=["href","title"];
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Gs(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("Field"),l=Object(i["resolveDirective"])("select-on-focus");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Es,[Object(i["createElementVNode"])("div",Vs,[Object(i["createElementVNode"])("div",Ns,[Object(i["createVNode"])(c,{uicontrol:"radio",name:"format",title:e.translate("CoreHome_ExportFormat"),modelValue:e.reportFormat,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.reportFormat=t}),"full-width":!0,options:e.availableReportFormats[e.reportType]},null,8,["title","modelValue","options"])]),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",Ts,[Object(i["withDirectives"])(Object(i["createVNode"])(c,{uicontrol:"checkbox",name:"option_flat",title:e.translate("CoreHome_FlattenReport"),modelValue:e.optionFlat,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.optionFlat=t})},null,8,["title","modelValue"]),[[i["vShow"],e.hasSubtables]])])]),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",As,[Object(i["withDirectives"])(Object(i["createVNode"])(c,{uicontrol:"checkbox",name:"option_expanded",title:e.translate("CoreHome_ExpandSubtables"),modelValue:e.optionExpanded,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.optionExpanded=t})},null,8,["title","modelValue"]),[[i["vShow"],e.hasSubtables&&!e.optionFlat]])])]),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",Bs,[Object(i["createVNode"])(c,{uicontrol:"checkbox",name:"option_format_metrics",title:e.translate("CoreHome_FormatMetrics"),modelValue:e.optionFormatMetrics,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.optionFormatMetrics=t})},null,8,["title","modelValue"])])])]),Object(i["createElementVNode"])("div",xs,[Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",Is,[Object(i["createVNode"])(c,{uicontrol:"radio",name:"filter_type",title:e.translate("CoreHome_ReportType"),modelValue:e.reportType,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.reportType=t}),"full-width":!0,options:e.availableReportTypes},null,8,["title","modelValue","options"])])]),Object(i["createElementVNode"])("div",Ms,[Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Ls,[Object(i["createVNode"])(c,{uicontrol:"radio",name:"filter_limit_all",title:e.translate("CoreHome_RowLimit"),modelValue:e.reportLimitAll,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.reportLimitAll=t}),"full-width":!0,options:e.limitAllOptions},null,8,["title","modelValue","options"])],512),[[i["vShow"],!e.maxFilterLimit||e.maxFilterLimit<=0]]),"no"===e.reportLimitAll&&e.maxFilterLimit<=0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Fs,[Object(i["createVNode"])(c,{uicontrol:"number",name:"filter_limit",min:1,modelValue:e.reportLimit,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.reportLimit=t}),"full-width":!0},null,8,["modelValue"])])):Object(i["createCommentVNode"])("",!0),"no"===e.reportLimitAll&&e.maxFilterLimit>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Rs,[Object(i["createVNode"])(c,{uicontrol:"number",name:"filter_limit",min:1,max:e.maxFilterLimit,modelValue:e.reportLimit,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.reportLimit=t}),value:e.reportLimit,"full-width":!0,title:e.filterLimitTooltip},null,8,["max","modelValue","value","title"])])):Object(i["createCommentVNode"])("",!0)])]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",_s,[Object(i["withDirectives"])(Object(i["createElementVNode"])("textarea",{readonly:"",class:"exportFullUrl",value:e.exportLinkWithoutToken},Us,8,$s),[[l,{}]]),Object(i["createElementVNode"])("div",{class:"tooltip",innerHTML:e.$sanitize(e.translate("CoreHome_ExportTooltipWithLink","<a target=_blank href='?module=UsersManager&action=userSecurity'>","</a>","ENTER_YOUR_TOKEN_AUTH_HERE"))},null,8,Ws)],512),[[i["vShow"],e.showUrl]]),Object(i["createElementVNode"])("div",qs,[Object(i["createElementVNode"])("a",{class:"btn",href:e.exportLink,target:"_new",title:e.translate("CoreHome_ExportTooltip")},Object(i["toDisplayString"])(e.translate("General_Export")),9,Js),Object(i["createElementVNode"])("a",{href:"javascript:",onClick:t[8]||(t[8]=function(t){return e.showUrl=!e.showUrl}),class:"toggle-export-url"},[Object(i["withDirectives"])(Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.translate("CoreHome_ShowExportUrl")),513),[[i["vShow"],!e.showUrl]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.translate("CoreHome_HideExportUrl")),513),[[i["vShow"],e.showUrl]])])])])}function zs(e,t){return Zs(e)||Xs(e,t)||Qs(e,t)||Ys()}function Ys(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qs(e,t){if(e){if("string"===typeof e)return Ks(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ks(e,t):void 0}}function Ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xs(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){c=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw o}}return i}}function Zs(e){if(Array.isArray(e))return e}var eu=dn("CorePluginsAdmin","Field"),tu=Object(i["defineComponent"])({components:{Field:eu},directives:{SelectOnFocus:St},props:{hasSubtables:Boolean,availableReportTypes:Object,availableReportFormats:Object,maxFilterLimit:Number,limitAllOptions:Object,dataTable:Object,requestParams:[Object,String],apiMethod:String,initialReportType:{type:String,default:"default"},initialReportLimit:{type:[String,Number],default:100},initialReportLimitAll:{type:String,default:"yes"},initialOptionFlat:{type:Boolean,default:!1},initialOptionExpanded:{type:Boolean,default:!0},initialOptionFormatMetrics:{type:Boolean,default:!1},initialReportFormat:{type:String,default:"XML"}},data:function(){return{showUrl:!1,reportFormat:this.initialReportFormat,optionFlat:this.initialOptionFlat,optionExpanded:this.initialOptionExpanded,optionFormatMetrics:this.initialOptionFormatMetrics,reportType:this.initialReportType,reportLimitAll:this.initialReportLimitAll,reportLimit:this.initialReportLimit}},watch:{reportType:function(e){this.availableReportFormats[e][this.reportFormat]||(this.reportFormat="XML")},reportLimit:function(e,t){this.maxFilterLimit>0&&parseInt(e,10)>parseInt(this.maxFilterLimit,10)&&(this.reportLimit=t)}},computed:{filterLimitTooltip:function(){var e=C("CoreHome_RowLimit"),t=C("General_ComputedMetricMax",this.maxFilterLimit);return"".concat(e," (").concat(t,")")},exportLink:function(){return this.getExportLink(!0)},exportLinkWithoutToken:function(){return this.getExportLink(!1)}},methods:{getExportLink:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.dataTable,n=this.reportFormat,r=this.apiMethod,o=this.reportType;if(n){var i=this.requestParams,a="yes"===this.reportLimitAll?-1:this.reportLimit;i=i&&"string"===typeof i?JSON.parse(i):{};var c=t.param,l=c.segment,s=c.label,u=c.idGoal,d=c.idDimension,p=c.idSite,m=t.param,f=m.date,h=m.period;"RSS"===n&&(f="last10"),"undefined"!==typeof t.param.dateUsedInGraph&&(f=t.param.dateUsedInGraph);var g=S.config.datatable_export_range_as_day.toLowerCase();-1!==g.indexOf(n.toLowerCase())&&"range"===t.param.period&&(h="day"),"range"===t.param.period&&"graphEvolution"===t.param.viewDataTable&&(h="day");var b={module:"API",format:n,idSite:p,period:h,date:f};if("processed"===o){b.method="API.getProcessedReport";var v=r.split("."),y=zs(v,2);b.apiModule=y[0],b.apiAction=y[1]}else b.method=r;if(t.param.compareDates&&t.param.compareDates.length&&(b.compareDates=t.param.compareDates,b.compare="1"),t.param.comparePeriods&&t.param.comparePeriods.length&&(b.comparePeriods=t.param.comparePeriods,b.compare="1"),t.param.compareSegments&&t.param.compareSegments.length&&(b.compareSegments=t.param.compareSegments,b.compare="1"),"undefined"!==typeof t.param.filter_pattern&&(b.filter_pattern=t.param.filter_pattern),"undefined"!==typeof t.param.filter_pattern_recursive&&(b.filter_pattern_recursive=t.param.filter_pattern_recursive),window.$.isPlainObject(i)&&Object.entries(i).forEach((function(e){var t=zs(e,2),n=t[0],r=t[1],o=r;!0===o?o=1:!1===o&&(o=0),b[n]=o})),this.optionFlat&&(b.flat=1,"undefined"!==typeof t.param.include_aggregate_rows&&"1"===t.param.include_aggregate_rows&&(b.include_aggregate_rows=1)),!this.optionFlat&&this.optionExpanded&&(b.expanded=1),b.format_metrics=this.optionFormatMetrics?1:0,t.param.pivotBy&&(b.pivotBy=t.param.pivotBy,b.pivotByColumnLimit=20,t.props.pivot_by_column&&(b.pivotByColumn=t.props.pivot_by_column)),"CSV"!==n&&"TSV"!==n&&"RSS"!==n||(b.translateColumnNames=1,b.language=S.language),"undefined"!==typeof l&&(b.segment=decodeURIComponent(l)),"undefined"!==typeof u&&"-1"!==u&&(b.idGoal=u),"undefined"!==typeof d&&"-1"!==d&&(b.idDimension=d),s){var O=s.split(",");if(O.length>1)b.label=O;else{var w=zs(O,1);b.label=w[0]}}b.token_auth="ENTER_YOUR_TOKEN_AUTH_HERE",!0===e&&(b.token_auth=S.token_auth,b.force_api_session=1),b.filter_limit=a;var j=window.location.href.split("?")[0];return"".concat(j,"?").concat(we.stringify(b))}}}});tu.render=Gs;var nu=tu;function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach((function(t){iu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var au=window,cu=au.$,lu={mounted:function(e,t){e.addEventListener("click",(function(){var n=we.hashParsed.value.popover,r=cu(e).closest("[data-report]").data("uiControlObject"),o=window.Piwik_Popover.showLoading("Export"),i=t.value.reportFormats,a=r.param.filter_limit;t.value.maxFilterLimit>0&&(a=Math.min(a,t.value.maxFilterLimit));var c=!0===r.param.flat||1===r.param.flat||"1"===r.param.flat,l={initialReportType:"default",initialReportLimit:a>0?a:100,initialReportLimitAll:-1===a?"yes":"no",initialOptionFlat:c,initialOptionExpanded:!0,initialOptionFormatMetrics:!1,hasSubtables:c||r.numberOfSubtables>0,availableReportFormats:{default:i,processed:{XML:i.XML,JSON:i.JSON}},availableReportTypes:{default:C("CoreHome_StandardReport"),processed:C("CoreHome_ReportWithMetadata")},limitAllOptions:{yes:C("General_All"),no:C("CoreHome_CustomLimit")},maxFilterLimit:t.value.maxFilterLimit,dataTable:r,requestParams:t.value.requestParams,apiMethod:t.value.apiMethod},s=Bt({template:'\n          <popover v-bind="bind"/>',data:function(){return{bind:l}}});s.component("popover",nu);var u=document.createElement("div");s.mount(u);var d=t.value.reportTitle;window.Piwik_Popover.setTitle("".concat(C("General_Export")," ").concat(S.helper.htmlEntities(d))),window.Piwik_Popover.setContent(u),window.Piwik_Popover.onClose((function(){s.unmount(),""!==n&&setTimeout((function(){we.updateHash(ou(ou({},we.hashParsed.value),{},{popover:n})),t.value.onClose&&t.value.onClose()}),100)})),setTimeout((function(){o.dialog(),cu(".exportFullUrl, .btn",o).tooltip({track:!0,show:!1,hide:!1})}),100)}))}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function su(e){return{restrict:"A",scope:{reportTitle:"@",requestParams:"@",reportFormats:"@",apiMethod:"@",maxFilterLimit:"@"},link:function(t,n){var r={instance:null,value:{reportTitle:t.reportTitle,requestParams:t.requestParams,reportFormats:"string"===typeof t.reportFormats?JSON.parse(t.reportFormats):t.reportFormats,apiMethod:t.apiMethod,maxFilterLimit:parseInt(t.maxFilterLimit,10),onClose:function(){e((function(){angular.element(document).injector().get("$rootScope").$apply()}),10)}},oldValue:null,modifiers:{},dir:{}};lu.mounted(n[0],r)}}}su.$inject=["$timeout"],angular.module("piwikApp").directive("piwikReportExport",su);var uu=["src"];function du(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{src:e.sparklineUrl},null,8,uu)}function pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pu(Object(n),!0).forEach((function(t){fu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hu=Object(i["defineComponent"])({props:{seriesIndices:Array,params:Object},data:function(){return{isWidget:!1}},mounted:function(){this.isWidget=!!this.$el.closest("[widgetId]")},computed:{sparklineUrl:function(){var e=this.seriesIndices,t=this.params,n=S.getSparklineColors();e&&(n.lineColor=n.lineColor.filter((function(t,n){return-1!==e.indexOf(n)})));var r=JSON.stringify(n),o={forceView:"1",viewDataTable:"sparkline",widget:this.isWidget?"1":"0",showtitle:"1",colors:r,random:Date.now(),date:this.defaultDate},i=new We,a=i.mixinDefaultGetParams(mu(mu({},o),t)),c=we.parsed.value.token_auth;return c&&c.length&&S.shouldPropagateTokenAuth&&(a.token_auth=c),"?".concat(we.stringify(a))},defaultDate:function(){if("range"===S.period)return"".concat(S.startDateString,",").concat(S.endDateString);var e=_.getLastNRange(S.period,30,S.currentDateString).getDateRange(),t=new Date(S.minDateYear,S.minDateMonth-1,S.minDateDay);e[0]<t&&(e[0]=t);var n=P(e[0]),r=P(e[1]);return"".concat(n,",").concat(r)}}});hu.render=du;var gu=hu,bu=(qt({component:gu,scope:{seriesIndices:{angularJsBind:"<"},params:{angularJsBind:"<"}},directiveName:"piwikSparkline",restrict:"E"}),{class:"progressbar"}),vu={class:"progress"},yu=Object(i["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif"},null,-1),Ou=["innerHTML"];
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function wu(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",bu,[Object(i["createElementVNode"])("div",vu,[Object(i["createElementVNode"])("div",{class:"determinate",style:Object(i["normalizeStyle"])([{width:"0"},{width:"".concat(e.actualProgress,"%")}])},null,4)]),Object(i["withDirectives"])(Object(i["createElementVNode"])("span",null,[yu,Object(i["createElementVNode"])("span",{class:"label",innerHTML:e.$sanitize(e.label)},null,8,Ou)],512),[[i["vShow"],!!e.label]])])}var ju=Object(i["defineComponent"])({props:{progress:Number,label:String},computed:{actualProgress:function(){return this.progress>100?100:this.progress<0?0:this.progress}}});ju.render=wu;var ku=ju,Su=(qt({component:ku,scope:{progress:{angularJsBind:"="},label:{angularJsBind:"="}},directiveName:"piwikProgressbar"}),{mounted:function(e){e.classList.add("piwik-content-intro")}});
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function Cu(){return{restrict:"A",link:function(e,t){Su.mounted(t[0])}}}Cu.$inject=[],angular.module("piwikApp").directive("piwikContentIntro",Cu);
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var Pu={mounted:function(e){e.classList.add("card","card-table","entityTable")}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Du(){return{restrict:"A",link:function(e,t){Pu.mounted(t[0])}}}Du.$inject=[],angular.module("piwikApp").directive("piwikContentTable",Du);var Eu={ref:"root"};function Vu(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Eu,[Object(i["renderSlot"])(e.$slots,"default",{formData:e.formData,submitApiMethod:e.submitApiMethod,sendJsonPayload:e.sendJsonPayload,noErrorNotification:e.noErrorNotification,noSuccessNotification:e.noSuccessNotification,submitForm:e.submitForm,isSubmitting:e.isSubmitting,successfulPostResponse:e.successfulPostResponse,errorPostResponse:e.errorPostResponse})],512)}var Nu=window,Tu=Nu.$,Au=Object(i["defineComponent"])({props:{formData:{type:Object,required:!0},submitApiMethod:{type:String,required:!0},sendJsonPayload:Boolean,noErrorNotification:Boolean,noSuccessNotification:Boolean},data:function(){return{isSubmitting:!1,successfulPostResponse:null,errorPostResponse:null}},emits:["update:modelValue"],mounted:function(){var e=this;Tu(this.$refs.root).on("click","input[type=submit]",(function(){e.submitForm()}))},methods:{submitForm:function(){var e=this;this.successfulPostResponse=null,this.errorPostResponse=null;var t=this.formData;this.sendJsonPayload&&(t={data:JSON.stringify(this.formData)}),this.isSubmitting=!0,We.post({module:"API",method:this.submitApiMethod},t,{createErrorNotification:!this.noErrorNotification}).then((function(t){e.successfulPostResponse=t,e.noSuccessNotification||(tc.show({message:C("General_YourChangesHaveBeenSaved"),context:"success",type:"toast",id:"ajaxHelper"}),tc.scrollToNotification("ajaxHelper"))})).catch((function(t){e.errorPostResponse=t.message})).finally((function(){e.isSubmitting=!1}))}}});Au.render=Vu;var Bu=Au;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function xu(e){return{restrict:"A",scope:{submitApiMethod:"=",sendJsonPayload:"=",noErrorNotification:"=",noSuccessNotification:"=",useCustomDataBinding:"="},require:"?ngModel",transclude:!0,compile:function(t,n){return n.noErrorNotification=!!n.noErrorNotification,function(t,n,r,o,a){if(!t.submitApiMethod)throw new Error("submitApiMethod is required");if(t.ajaxForm={},t.ajaxForm.submitApiMethod=t.submitApiMethod,t.ajaxForm.sendJsonPayload=t.sendJsonPayload,t.ajaxForm.noErrorNotification=t.noErrorNotification,t.ajaxForm.noSuccessNotification=t.noSuccessNotification,t.ajaxForm.data={},t.ajaxForm.formData=t.ajaxForm.data,o){var c=e(r.ngModel);t.ajaxForm.data=c(t.$parent)}var l={mounted:function(e,n){t.ajaxForm.submitForm=n.value.submitForm}},s='\n        <AjaxForm\n          :form-data="formData"\n          :submit-api-method="submitApiMethod"\n          :send-json-payload="sendJsonPayload"\n          :no-error-notification="noErrorNotification"\n          :no-success-notification="noSuccessNotification"\n        >\n          <template v-slot:default="ajaxFormVue">\n            <div\n              ref="transcludeTarget"\n              v-special-bind-directive="{ submitForm: ajaxFormVue.submitForm }"\n            />\n          </template>\n        </AjaxForm>',u=Bt({template:s,data:function(){return t.ajaxForm},setup:function(){var e=Object(i["ref"])(null);return{transcludeTarget:e}}});u.component("AjaxForm",Bu),u.directive("SpecialBindDirective",l);var d=u.mount(n[0]);function p(e,n){var r,o=angular.element,i=o(e).attr("name");r="checkbox"===o(e).attr("type")?o(e).is(":checked"):o(e).val(),t.ajaxForm.data[i]=r,n||setTimeout((function(){t.$apply()}),0)}n.on("$destroy",(function(){u.unmount()})),t.useCustomDataBinding||n.on("change","input,select",(function(e){p(e.target)})),a(t,(function(e,t){if(!t.useCustomDataBinding){var n=e.find("input,select").not("[type=submit]");n.each((function(){p(this,!0)}))}$(d.transcludeTarget).append(e)}))}}}}xu.$inject=["$parse"],angular.module("piwikApp").directive("piwikAjaxForm",xu);
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var Iu=qt({component:Zi,scope:{loading:{vue:"loading",angularJsBind:"<"},loadingMessage:{vue:"loadingMessage",angularJsBind:"<",default:function(){return C("General_LoadingData")}}},$inject:[],directiveName:"piwikActivityIndicator"});function Mu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lu(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["alert",Mu({},"alert-".concat(e.severity),!0)])},[Object(i["renderSlot"])(e.$slots,"default")],2)}var Fu=Object(i["defineComponent"])({props:{severity:{type:String,required:!0}}});Fu.render=Lu;var Ru=Fu,_u=qt({component:Ru,scope:{severity:{vue:"severity",angularJsBind:"@piwikAlert"}},directiveName:"piwikAlert",transclude:!0});
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function $u(e,t,n){var r=new Date;n||(n=432e4),r.setTime(r.getTime()+n),document.cookie="".concat(e,"=").concat(t,"; expires=").concat(r.toUTCString(),"; path=/")}function Hu(e){var t="; ".concat(document.cookie),n=t.split("; ".concat(e,"="));if(2==n.length){var r=n.pop().split(";").shift();if("undefined"!==typeof r)return r}return null}function Uu(e){var t=new Date;t.setTime(t.getTime()+-864e5),document.cookie="".concat(e,"=; expires=").concat(t.toUTCString(),"; path=/")}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */}})}));
//# sourceMappingURL=CoreHome.umd.min.js.map