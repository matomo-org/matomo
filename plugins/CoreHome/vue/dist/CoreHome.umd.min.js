(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["CoreHome"]=t(require("vue")):e["CoreHome"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="plugins/CoreHome/vue/dist/",n(n.s="fae3")}({2342:function(e,t,n){"use strict";
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */window.hasBlockedContent=!1},"8bbf":function(t,n){t.exports=e},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"createVueApp",(function(){return ft})),n.d(t,"importPluginUmd",(function(){return yt})),n.d(t,"useExternalPluginComponent",(function(){return Ot})),n.d(t,"DirectiveUtilities",(function(){return wt})),n.d(t,"debounce",(function(){return St})),n.d(t,"getFormattedEvolution",(function(){return Dt})),n.d(t,"clone",(function(){return Pt})),n.d(t,"VueEntryContainer",(function(){return It})),n.d(t,"ActivityIndicator",(function(){return qt})),n.d(t,"MatomoLoader",(function(){return Ut})),n.d(t,"translate",(function(){return a})),n.d(t,"translateOrDefault",(function(){return i})),n.d(t,"externalRawLink",(function(){return mt})),n.d(t,"externalLink",(function(){return pt})),n.d(t,"Alert",(function(){return Yt})),n.d(t,"AjaxHelper",(function(){return Ze})),n.d(t,"setCookie",(function(){return it})),n.d(t,"getCookie",(function(){return lt})),n.d(t,"deleteCookie",(function(){return ct})),n.d(t,"MatomoUrl",(function(){return De})),n.d(t,"Matomo",(function(){return ue})),n.d(t,"Periods",(function(){return m})),n.d(t,"Day",(function(){return k})),n.d(t,"Week",(function(){return P})),n.d(t,"Month",(function(){return x})),n.d(t,"Year",(function(){return _})),n.d(t,"Range",(function(){return K})),n.d(t,"format",(function(){return p})),n.d(t,"getToday",(function(){return f})),n.d(t,"parseDate",(function(){return h})),n.d(t,"todayIsInRange",(function(){return b})),n.d(t,"getWeekNumber",(function(){return g})),n.d(t,"datesAreInTheSamePeriod",(function(){return v})),n.d(t,"DropdownMenu",(function(){return Jt})),n.d(t,"FocusAnywhereButHere",(function(){return tn})),n.d(t,"FocusIf",(function(){return rn})),n.d(t,"Tooltips",(function(){return sn})),n.d(t,"MatomoDialog",(function(){return pn})),n.d(t,"ExpandOnClick",(function(){return wn})),n.d(t,"ExpandOnHover",(function(){return Pn})),n.d(t,"ShowSensitiveData",(function(){return Nn})),n.d(t,"DropdownButton",(function(){return Bn})),n.d(t,"SelectOnFocus",(function(){return Rn})),n.d(t,"CopyToClipboard",(function(){return $n})),n.d(t,"SideNav",(function(){return qn})),n.d(t,"EnrichedHeadline",(function(){return lr})),n.d(t,"ContentBlock",(function(){return yr})),n.d(t,"Comparisons",(function(){return Zr})),n.d(t,"ComparisonsStore",(function(){return Kr})),n.d(t,"ComparisonsStoreInstance",(function(){return Qr})),n.d(t,"MenuItemsDropdown",(function(){return fo})),n.d(t,"DatePicker",(function(){return jo})),n.d(t,"DateRangePicker",(function(){return Po})),n.d(t,"PeriodDatePicker",(function(){return xo})),n.d(t,"Notification",(function(){return qo})),n.d(t,"NotificationGroup",(function(){return oa})),n.d(t,"NotificationsStore",(function(){return na})),n.d(t,"ShowHelpLink",(function(){return ua})),n.d(t,"SitesStore",(function(){return ba})),n.d(t,"SiteSelector",(function(){return Ma})),n.d(t,"QuickAccess",(function(){return ti})),n.d(t,"FieldArray",(function(){return hi})),n.d(t,"MultiPairField",(function(){return Ii})),n.d(t,"PeriodSelector",(function(){return yl})),n.d(t,"ReportingMenu",(function(){return wc})),n.d(t,"ReportingMenuStore",(function(){return ic})),n.d(t,"ReportingPagesStore",(function(){return ql})),n.d(t,"ReportMetadataStore",(function(){return Pc})),n.d(t,"WidgetsStore",(function(){return pc})),n.d(t,"WidgetLoader",(function(){return Mc})),n.d(t,"WidgetContainer",(function(){return Xc})),n.d(t,"WidgetByDimensionContainer",(function(){return fs})),n.d(t,"Widget",(function(){return js})),n.d(t,"ReportingPage",(function(){return $s})),n.d(t,"ReportExport",(function(){return ku})),n.d(t,"Sparkline",(function(){return Pu})),n.d(t,"Progressbar",(function(){return Au})),n.d(t,"ContentIntro",(function(){return Lu})),n.d(t,"ContentTable",(function(){return Mu})),n.d(t,"AjaxForm",(function(){return $u})),n.d(t,"Passthrough",(function(){return zu})),n.d(t,"DataTableActions",(function(){return Zd})),n.d(t,"VersionInfoHeaderMessage",(function(){return mm})),n.d(t,"MobileLeftMenu",(function(){return Bm})),n.d(t,"scrollToAnchorInUrl",(function(){return $m})),"undefined"!==typeof window){var r=window.document.currentScript,o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}n("2342");
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function a(e){if(!e)return"";for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n;return 1===n.length&&n[0]&&Array.isArray(n[0])&&(o=n[0]),window._pk_translate(e,o)}function i(e){if(!e||!window.piwik_translations[e])return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.apply(void 0,[e].concat(n))}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var d=function(){function e(){l(this,e),u(this,"periods",{}),u(this,"periodOrder",[])}return s(e,[{key:"addCustomPeriod",value:function(e,t){if(this.periods[e])throw new Error('The "'.concat(e,'" period already exists! It cannot be overridden.'));this.periods[e]=t,this.periodOrder.push(e)}},{key:"getAllLabels",value:function(){return Array().concat(this.periodOrder)}},{key:"get",value:function(e){var t=this.periods[e];if(!t)throw new Error("Invalid period label: ".concat(e));return t}},{key:"parse",value:function(e,t){return this.get(e).parse(t)}},{key:"isRecognizedPeriod",value:function(e){return!!this.periods[e]}}]),e}(),m=new d;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function p(e){return $.datepicker.formatDate("yy-mm-dd",e)}function f(){var e=new Date(Date.now());return e.setTime(e.getTime()+60*e.getTimezoneOffset()*1e3),e.setHours(e.getHours()+(window.piwik.timezoneOffset||0)/3600),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function h(e){if(e instanceof Date)return e;var t=decodeURIComponent(e).trim();if(""===t)throw new Error("Invalid date, empty string.");if("today"===t||"now"===t)return f();if("yesterday"===t||"yesterdaySameTime"===t){var n=f();return n.setDate(n.getDate()-1),n}if(t.match(/last[ -]?week/i)){var r=f();return r.setDate(r.getDate()-7),r}if(t.match(/last[ -]?month/i)){var o=f();return o.setDate(1),o.setMonth(o.getMonth()-1),o}if(t.match(/last[ -]?year/i)){var a=f();return a.setFullYear(a.getFullYear()-1),a}return $.datepicker.parseDate("yy-mm-dd",t)}function b(e){return 2===e.length&&(f()>=e[0]&&f()<=e[1])}function g(e){var t=new Date(e.valueOf()),n=(e.getDay()+6)%7;t.setDate(t.getDate()-n+3);var r=t.valueOf();if(t.setMonth(0,1),4!==t.getDay()){var o=(4-t.getDay()+7)%7;t.setMonth(0,1+o)}return 1+Math.ceil((r-t.valueOf())/6048e5)}function v(e,t,n){var r=e.getFullYear(),o=e.getMonth(),a=e.getDate(),i=g(e),l=t.getFullYear(),c=t.getMonth(),s=t.getDate(),u=g(t);switch(n){case"day":return r===l&&o===c&&a===s;case"week":return r===l&&i===u;case"month":return r===l&&o===c;case"year":return r===l;default:return!1}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var k=function(){function e(t){y(this,e),w(this,"dateInPeriod",void 0),this.dateInPeriod=t}return j(e,[{key:"getPrettyString",value:function(){return p(this.dateInPeriod)}},{key:"getDateRange",value:function(){return[new Date(this.dateInPeriod.getTime()),new Date(this.dateInPeriod.getTime())]}},{key:"containsToday",value:function(){return b(this.getDateRange())}}],[{key:"parse",value:function(t){return new e(h(t))}},{key:"getDisplayText",value:function(){return a("Intl_PeriodDay")}}]),e}();function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */m.addCustomPeriod("day",k);var P=function(){function e(t){S(this,e),D(this,"dateInPeriod",void 0),this.dateInPeriod=t}return E(e,[{key:"getPrettyString",value:function(){var e=this.getDateRange(),t=p(e[0]),n=p(e[1]);return a("General_DateRangeFromTo",[t,n])}},{key:"getDateRange",value:function(){var e=(this.dateInPeriod.getDay()+6)%7,t=new Date(this.dateInPeriod.getTime());t.setDate(this.dateInPeriod.getDate()-e);var n=new Date(t.getTime());return n.setDate(t.getDate()+6),[t,n]}},{key:"containsToday",value:function(){return b(this.getDateRange())}}],[{key:"parse",value:function(t){return new e(h(t))}},{key:"getDisplayText",value:function(){return a("Intl_PeriodWeek")}}]),e}();function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&V(e.prototype,t),n&&V(e,n),e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */m.addCustomPeriod("week",P);var x=function(){function e(t){T(this,e),I(this,"dateInPeriod",void 0),this.dateInPeriod=t}return N(e,[{key:"getPrettyString",value:function(){var e=a("Intl_Month_Long_StandAlone_".concat(this.dateInPeriod.getMonth()+1));return"".concat(e," ").concat(this.dateInPeriod.getFullYear())}},{key:"getDateRange",value:function(){var e=new Date(this.dateInPeriod.getTime());e.setDate(1);var t=new Date(this.dateInPeriod.getTime());return t.setDate(1),t.setMonth(t.getMonth()+1),t.setDate(0),[e,t]}},{key:"containsToday",value:function(){return b(this.getDateRange())}}],[{key:"parse",value:function(t){return new e(h(t))}},{key:"getDisplayText",value:function(){return a("Intl_PeriodMonth")}}]),e}();function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */m.addCustomPeriod("month",x);var _=function(){function e(t){B(this,e),M(this,"dateInPeriod",void 0),this.dateInPeriod=t}return L(e,[{key:"getPrettyString",value:function(){return this.dateInPeriod.getFullYear().toString()}},{key:"getDateRange",value:function(){var e=new Date(this.dateInPeriod.getTime());e.setMonth(0),e.setDate(1);var t=new Date(this.dateInPeriod.getTime());return t.setMonth(12),t.setDate(0),[e,t]}},{key:"containsToday",value:function(){return b(this.getDateRange())}}],[{key:"parse",value:function(t){return new e(h(t))}},{key:"getDisplayText",value:function(){return a("Intl_PeriodYear")}}]),e}();function F(e,t){return W(e)||q(e,t)||H(e,t)||R()}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(e,t){if(e){if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function W(e){if(Array.isArray(e))return e}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */m.addCustomPeriod("year",_);var K=function(){function e(t,n,r){z(this,e),J(this,"startDate",void 0),J(this,"endDate",void 0),J(this,"childPeriodType",void 0),this.startDate=t,this.endDate=n,this.childPeriodType=r}return Y(e,[{key:"getPrettyString",value:function(){var e=p(this.startDate),t=p(this.endDate);return a("General_DateRangeFromTo",[e,t])}},{key:"getDateRange",value:function(){return[this.startDate,this.endDate]}},{key:"containsToday",value:function(){return b(this.getDateRange())}},{key:"getDayCount",value:function(){return Math.ceil((this.endDate.getTime()-this.startDate.getTime())/864e5)+1}}],[{key:"getLastNRange",value:function(t,n,r){var o=Math.max(parseInt(n.toString(),10)-1,0);if(Number.isNaN(o))throw new Error("Invalid range strAmount");var a=r?h(r):f(),i=new Date(a.getTime());if("day"===t)i.setDate(i.getDate()-o);else if("week"===t)i.setDate(i.getDate()-7*o);else if("month"===t)i.setDate(1),i.setMonth(i.getMonth()-o);else{if("year"!==t)throw new Error("Unknown period type '".concat(t,"'."));i.setFullYear(i.getFullYear()-o)}if("day"!==t){var l=m.periods[t].parse(i),c=m.periods[t].parse(a),s=l.getDateRange(),u=F(s,1);i=u[0];var d=c.getDateRange(),p=F(d,2);a=p[1]}var b=new Date(1991,7,6);if(i.getTime()-b.getTime()<0)switch(t){case"year":i=new Date(1992,0,1);break;case"month":i=new Date(1991,8,1);break;case"week":i=new Date(1991,8,12);break;case"day":default:i=b;break}return new e(i,a,t)}},{key:"getLastNRangeChild",value:function(t,n,r){var o=n?h(n):f(),a=new Date(o.getTime()),i=new Date(o.getTime());if("day"===t)a.setDate(a.getDate()-r),i.setDate(i.getDate()-r);else if("week"===t)a.setDate(a.getDate()-7*r),i.setDate(i.getDate()-7*r);else if("month"===t)a.setDate(1),a.setMonth(a.getMonth()-r),i.setDate(1),i.setMonth(i.getMonth()-r);else{if("year"!==t)throw new Error("Unknown period type '".concat(t,"'."));a.setFullYear(a.getFullYear()-r),i.setFullYear(i.getFullYear()-r)}if("day"!==t){var l=m.periods[t].parse(a),c=m.periods[t].parse(i),s=l.getDateRange(),u=F(s,1);a=u[0];var d=c.getDateRange(),p=F(d,2);i=p[1]}var b=new Date(1991,7,6);if(a.getTime()-b.getTime()<0)switch(t){case"year":a=new Date(1992,0,1);break;case"month":a=new Date(1991,8,1);break;case"week":a=new Date(1991,8,12);break;case"day":default:a=b;break}return new e(a,i,t)}},{key:"parse",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";if(/^previous/.test(t)){var r=e.getLastNRange(n,"2").startDate;return e.getLastNRange(n,t.substring(8),r)}if(/^last/.test(t))return e.getLastNRange(n,t.substring(4));var o=decodeURIComponent(t).split(",");return new e(h(o[0]),h(o[1]),n)}},{key:"getDisplayText",value:function(){return a("General_DateRangeInPeriodList")}}]),e}();m.addCustomPeriod("range",K);var Q,X=n("8bbf");function Z(e){return re(e)||ne(e)||te(e)||ee()}function ee(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function te(e,t){if(e){if("string"===typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function ne(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function re(e){if(Array.isArray(e))return oe(e)}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var ae=window,ie=ae.piwik,le=ae.broadcast,ce=ae.piwikHelper;ie.helper=ce,ie.broadcast=le,ie.updateDateInTitle=function(e,t){if($(".top_controls #periodString").length&&(Q=Q||document.title,0===Q.indexOf(ie.siteName))){var n=" - ".concat(m.parse(t,e).getPrettyString()," ");document.title="".concat(ie.siteName).concat(n).concat(Q.slice(ie.siteName.length))}},ie.hasUserCapability=function(e){return Array.isArray(ie.userCapabilities)&&-1!==ie.userCapabilities.indexOf(e)},ie.on=function(e,t){function n(e){t.apply(void 0,Z(e.detail))}t.wrapper=n,window.addEventListener(e,n)},ie.off=function(e,t){t.wrapper&&window.removeEventListener(e,t.wrapper)},ie.postEvent=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=new CustomEvent(e,{detail:n});window.dispatchEvent(o)};var se=ie,ue=se;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function de(e,t){return be(e)||he(e,t)||pe(e,t)||me()}function me(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pe(e,t){if(e){if("string"===typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function be(e){if(Array.isArray(e))return e}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t,n){return t&&ve(e.prototype,t),n&&ve(e,n),e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var je=window,we=je.piwik,ke=je.broadcast;function Se(e,t){try{return m.parse(e,t),!0}catch(n){return!1}}var Ce=function(){function e(){var t=this;ge(this,e),Oe(this,"url",Object(X["ref"])(null)),Oe(this,"urlQuery",Object(X["computed"])((function(){return t.url.value?t.url.value.search.replace(/^\?/,""):""}))),Oe(this,"hashQuery",Object(X["computed"])((function(){return t.url.value?t.url.value.hash.replace(/^[#/?]+/,""):""}))),Oe(this,"urlParsed",Object(X["computed"])((function(){return Object(X["readonly"])(t.parse(t.urlQuery.value))}))),Oe(this,"hashParsed",Object(X["computed"])((function(){return Object(X["readonly"])(t.parse(t.hashQuery.value))}))),Oe(this,"parsed",Object(X["computed"])((function(){return Object(X["readonly"])(Object.assign(Object.assign({},t.urlParsed.value),t.hashParsed.value))}))),this.url.value=new URL(window.location.href),window.addEventListener("hashchange",(function(e){t.url.value=new URL(e.newURL),t.updatePeriodParamsFromUrl()})),this.updatePeriodParamsFromUrl()}return ye(e,[{key:"updateHashToUrl",value:function(e){var t="#".concat(e);window.location.hash===t?window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:window.location.href,oldURL:window.location.href})):window.location.hash=t}},{key:"updateHash",value:function(e){var t=this.getFinalHashParams(e),n=this.stringify(t);this.updateHashToUrl("?".concat(n))}},{key:"updateUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="string"!==typeof e?this.stringify(e):e,r=Object.keys(t).length?this.getFinalHashParams(t,e):{},o=this.stringify(r),a="?".concat(n);o.length&&(a="".concat(a,"#?").concat(o)),window.broadcast.propagateNewPage("",void 0,void 0,void 0,a)}},{key:"getFinalHashParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="string"!==typeof e?e:this.parse(e),r="string"!==typeof e?t:this.parse(t);return Object.assign({period:r.period||this.parsed.value.period,date:r.date||this.parsed.value.date,segment:r.segment||this.parsed.value.segment},n)}},{key:"updateLocation",value:function(e){ue.helper.isReportingPage()?this.updateHash(e):this.updateUrl(e)}},{key:"getSearchParam",value:function(e){var t=window.location.href.split("#"),n=new RegExp("".concat(e,"(\\[]|=)"));if(t&&t[1]&&n.test(decodeURIComponent(t[1]))){var r=window.broadcast.getValueFromHash(e,window.location.href);if(r||"date"!==e&&"period"!==e&&"idSite"!==e)return r}return window.broadcast.getValueFromUrl(e,window.location.search)}},{key:"parse",value:function(e){return ke.getValuesFromUrl("?".concat(e),!0)}},{key:"stringify",value:function(e){var t=Object.fromEntries(Object.entries(e).filter((function(e){var t=de(e,2),n=t[1];return""!==n&&null!==n&&void 0!==n})));return $.param(t).replace(/%5B%5D/g,"[]").replace(/%2C/g,",").replace(/\+/g,"%20")}},{key:"updatePeriodParamsFromUrl",value:function(){var e=this.getSearchParam("date"),t=this.getSearchParam("period");if(Se(t,e)&&(we.period!==t||we.currentDateString!==e)){we.period=t;var n=m.parse(t,e).getDateRange();we.startDateString=p(n[0]),we.endDateString=p(n[1]),we.updateDateInTitle(e,t),"range"===we.period&&(e="".concat(we.startDateString,",").concat(we.endDateString)),we.currentDateString=e}}}]),e}(),Ee=new Ce,De=Ee;function Pe(e){return Pe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Te(e){return xe(e)||Ie(e)||Ne(e)||Ve()}function Ve(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,t){if(e){if("string"===typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}function Ie(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function xe(e){if(Array.isArray(e))return Be(e)}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t,n){return t&&Ae(e.prototype,t),n&&Ae(e,n),e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}function Re(e){var t=We();return function(){var n,r=Ye(e);if(t){var o=Ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){if(t&&("object"===Pe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ue(e)}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e){var t="function"===typeof Map?new Map:void 0;return $e=function(e){if(null===e||!ze(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return qe(e,arguments,Ye(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ge(n,e)},$e(e)}function qe(e,t,n){return qe=We()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=Function.bind.apply(e,r),a=new o;return n&&Ge(a,n.prototype),a},qe.apply(null,arguments)}function We(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ze(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function Ge(e,t){return Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ge(e,t)}function Ye(e){return Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ye(e)}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */we.updatePeriodParamsFromUrl=Ee.updatePeriodParamsFromUrl.bind(Ee);var Je=window,Ke=Je.$;function Qe(e,t){"abort"!==t&&e&&0!==e.status&&("undefined"!==typeof Piwik_Popover?Piwik_Popover.isOpen()&&e&&500===e.status?Ke(document.body).html(piwikHelper.escape(e.responseText)):Ke("#loadingError").show():console.log("Request failed: ".concat(e.responseText)))}window.globalAjaxQueue=[],window.globalAjaxQueue.active=0,window.globalAjaxQueue.clean=function(){for(var e=this.length;e>=0;e-=1)this[e]&&4!==this[e].readyState||this.splice(e,1)},window.globalAjaxQueue.push=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.active+=n.length,this.clean(),(e=Array.prototype.push).call.apply(e,[this].concat(n))},window.globalAjaxQueue.abort=function(){this.forEach((function(e){return e&&e.abort&&e.abort()})),this.splice(0,this.length),this.active=0};var Xe=function(e){Fe(n,e);var t=Re(n);function n(){return _e(this,n),t.apply(this,arguments)}return n}($e(Error)),Ze=function(){function e(){_e(this,e),Me(this,"format","json"),Me(this,"timeout",null),Me(this,"callback",null),Me(this,"useRegularCallbackInCaseOfError",!1),Me(this,"errorCallback",void 0),Me(this,"withToken",!1),Me(this,"completeCallback",void 0),Me(this,"getParams",{}),Me(this,"getUrl","?"),Me(this,"postParams",{}),Me(this,"loadingElement",null),Me(this,"errorElement","#ajaxError"),Me(this,"headers",{"X-Requested-With":"XMLHttpRequest"}),Me(this,"requestHandle",null),Me(this,"abortController",null),Me(this,"defaultParams",["idSite","period","date","segment"]),Me(this,"resolveWithHelper",!1),this.errorCallback=Qe}return Le(e,[{key:"addParams",value:function(e,t){var n=this,r="string"===typeof e?window.broadcast.getValuesFromUrl(e):e,o=["compareSegments","comparePeriods","compareDates"];Object.keys(r).forEach((function(e){var a=r[e];(-1===o.indexOf(e)||a)&&("boolean"===typeof a&&(a=a?1:0),"get"===t.toLowerCase()?n.getParams[e]=a:"post"===t.toLowerCase()&&(n.postParams[e]=a))}))}},{key:"withTokenInUrl",value:function(){this.withToken=!0}},{key:"setUrl",value:function(e){this.addParams(broadcast.getValuesFromUrl(e),"GET")}},{key:"setBulkRequests",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return"string"===typeof e?e:Ke.param(e)}));this.addParams({module:"API",method:"API.getBulkRequest",urls:r,format:"json"},"post")}},{key:"setTimeout",value:function(e){this.timeout=e}},{key:"setCallback",value:function(e){this.callback=e}},{key:"useCallbackInCaseOfError",value:function(){this.useRegularCallbackInCaseOfError=!0}},{key:"redirectOnSuccess",value:function(e){this.setCallback((function(){piwikHelper.redirect(e)}))}},{key:"setErrorCallback",value:function(e){this.errorCallback=e}},{key:"setCompleteCallback",value:function(e){this.completeCallback=e}},{key:"setFormat",value:function(e){this.format=e}},{key:"setLoadingElement",value:function(e){this.loadingElement=e||"#ajaxLoadingDiv"}},{key:"setErrorElement",value:function(e){e&&(this.errorElement=e)}},{key:"useGETDefaultParameter",value:function(e){if(e&&this.defaultParams)for(var t=0;t<this.defaultParams.length;t+=1)if(this.defaultParams[t]===e)return!0;return!1}},{key:"removeDefaultParameter",value:function(e){if(e&&this.defaultParams)for(var t=0;t<this.defaultParams.length;t+=1)this.defaultParams[t]===e&&this.defaultParams.splice(t,1)}},{key:"send",value:function(){var e=this;Ke(this.errorElement).length&&Ke(this.errorElement).hide(),this.loadingElement&&Ke(this.loadingElement).fadeIn(),this.requestHandle=this.buildAjaxCall(),window.globalAjaxQueue.push(this.requestHandle),this.abortController&&this.abortController.signal.addEventListener("abort",(function(){e.requestHandle&&e.requestHandle.abort()}));var t=new Promise((function(t,n){e.requestHandle.then((function(n){e.resolveWithHelper?t(e):t(n)})).fail((function(t){if(429===t.status)return console.log("Warning: the '".concat(Ke.param(e.getParams),"' request was rate limited!")),void n(t);"abort"!==t.statusText&&0!==t.status&&(console.log("Warning: the ".concat(Ke.param(e.getParams)," request failed!")),n(t))}))}));return t}},{key:"abort",value:function(){this.requestHandle&&"function"===typeof this.requestHandle.abort&&(this.requestHandle.abort(),this.requestHandle=null)}},{key:"buildAjaxCall",value:function(){var e=this,t=this,n=this.mixinDefaultGetParams(this.getParams),r=this.getUrl;"?"!==r[r.length-1]&&(r+="&"),n.segment&&(r="".concat(r,"segment=").concat(n.segment,"&"),delete n.segment),n.date&&(r="".concat(r,"date=").concat(decodeURIComponent(n.date.toString()),"&"),delete n.date),r+=Ke.param(n);var o={type:"POST",async:!0,url:r,dataType:this.format||"json",complete:this.completeCallback,headers:this.headers?this.headers:void 0,error:function(){if(window.globalAjaxQueue.active-=1,t.errorCallback){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.errorCallback.apply(this,n)}},success:function(t,n,r){e.loadingElement&&Ke(e.loadingElement).hide();var o="API.getBulkRequest"===e.postParams.method&&Array.isArray(t)?t:[t],a=o.filter((function(e){return"error"===e.result})).map((function(e){return e.message})).filter((function(e){return e.length})).reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{});if(a&&Object.keys(a).length&&!e.useRegularCallbackInCaseOfError){var i="";Object.keys(a).forEach((function(e){i.length&&(i+="<br />"),a[e]>1?i+="".concat(e," (").concat(a[e],"x)"):i+=e}));var l=null,c="toast";Ke(e.errorElement).length&&i.length&&(Ke(e.errorElement).show(),l=e.errorElement,c=null);var s=!document.querySelector("#login_form");if(i&&s){var u=window["require"]("piwik/UI"),d=new u.Notification;d.show(i,{placeat:l,context:"error",type:c,id:"ajaxHelper"}),d.scrollToNotification()}}else e.callback&&e.callback(t,n,r);window.globalAjaxQueue.active-=1,ue.ajaxRequestFinished&&ue.ajaxRequestFinished()},data:this.mixinDefaultPostParams(this.postParams),timeout:null!==this.timeout?this.timeout:void 0};return Ke.ajax(o)}},{key:"isRequestToApiMethod",value:function(){return this.getParams&&"API"===this.getParams.module&&this.getParams.method||this.postParams&&"API"===this.postParams.module&&this.postParams.method}},{key:"isWidgetizedRequest",value:function(){return"Widgetize"===broadcast.getValueFromUrl("module")}},{key:"getDefaultPostParams",value:function(){return this.withToken||this.isRequestToApiMethod()||ue.shouldPropagateTokenAuth?{token_auth:ue.token_auth,force_api_session:broadcast.isWidgetizeRequestWithoutSession()?0:1}:{}}},{key:"mixinDefaultPostParams",value:function(e){var t=this.getDefaultPostParams(),n=Object.assign(Object.assign({},t),e);return n}},{key:"mixinDefaultGetParams",value:function(e){var t=this,n=De.getSearchParam("segment"),r={idSite:ue.idSite?ue.idSite.toString():broadcast.getValueFromUrl("idSite"),period:ue.period||broadcast.getValueFromUrl("period"),segment:n},o=e;return o.token_auth&&(o.token_auth=null,delete o.token_auth),Object.keys(r).forEach((function(e){!t.useGETDefaultParameter(e)||null!==o[e]&&"undefined"!==typeof o[e]&&""!==o[e]||null!==t.postParams[e]&&"undefined"!==typeof t.postParams[e]&&""!==t.postParams[e]||!r[e]||(o[e]=r[e])})),!this.useGETDefaultParameter("date")||o.date||this.postParams.date||(o.date=ue.currentDateString),o}},{key:"getRequestHandle",value:function(){return this.requestHandle}}],[{key:"fetch",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new e;n.withTokenInUrl&&r.withTokenInUrl(),n.errorElement&&r.setErrorElement(n.errorElement),n.redirectOnSuccess&&r.redirectOnSuccess(!0!==n.redirectOnSuccess?n.redirectOnSuccess:void 0),r.setFormat(n.format||"json"),Array.isArray(t)?r.setBulkRequests.apply(r,Te(t)):(Object.keys(t).forEach((function(e){if(/password/i.test(e))throw new Error("Password parameters are not allowed to be sent as GET parameter. Please send ".concat(e," as POST parameter instead."))})),r.addParams(Object.assign(Object.assign({module:"API",format:n.format||"json"},t),{},{segment:t.segment?encodeURIComponent(t.segment):void 0}),"get")),n.postParams&&r.addParams(n.postParams,"post"),n.headers&&(r.headers=Object.assign(Object.assign({},r.headers),n.headers));var o=!0;return"undefined"===typeof n.createErrorNotification||n.createErrorNotification||(r.useCallbackInCaseOfError(),r.setErrorCallback(null),o=!1),n.abortController&&(r.abortController=n.abortController),n.returnResponseObject&&(r.resolveWithHelper=!0),r.send().then((function(t){var n=t instanceof e?t.requestHandle.responseJSON:t,o="API.getBulkRequest"===r.postParams.method&&Array.isArray(n)?n:[n],a=o.filter((function(e){return"error"===e.result})).map((function(e){return e.message}));if(a.length)throw new Xe(a.filter((function(e){return e.length})).join("\n"));return t})).catch((function(e){if(o||e instanceof Xe)throw e;var t="Something went wrong";throw 504===e.status&&(t="Request was possibly aborted"),429===e.status&&(t="Rate Limit was exceed"),new Error(t)}))}},{key:"post",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fetch(t,Object.assign(Object.assign({},r),{},{postParams:n}))}},{key:"oneAtATime",value:function(t,n){var r=null;return function(o,a){return r&&r.abort(),r=new AbortController,e.post(Object.assign(Object.assign({},o),{},{method:t}),a,Object.assign(Object.assign({},n),{},{abortController:r})).finally((function(){r=null}))}}}]),e}();function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t,n){return t&&tt(e.prototype,t),n&&tt(e,n),e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */window.ajaxHelper=Ze;var rt=window,ot=rt.$,at=function(){function e(){et(this,e),this.setup()}return nt(e,[{key:"setup",value:function(){var e=this;Object(X["watch"])((function(){return De.parsed.value.popover}),(function(){return e.onPopoverParamChanged()})),De.parsed.value.popover&&this.onPopoverParamChangedInitial()}},{key:"onPopoverParamChangedInitial",value:function(){var e=this;ot((function(){setTimeout((function(){e.openOrClose()}))}))}},{key:"onPopoverParamChanged",value:function(){var e=this;ot((function(){e.openOrClose()}))}},{key:"openOrClose",value:function(){this.close();var e=De.parsed.value.popover;e?this.open(e):window.broadcast.resetPopoverStack()}},{key:"close",value:function(){window.Piwik_Popover.close()}},{key:"open",value:function(e){var t=decodeURIComponent(e);t=t.replace(/\$/g,"%"),t=decodeURIComponent(t);var n=t.split(":"),r=n[0];n.shift();var o=n.join(":");"undefined"===typeof window.broadcast.popoverHandlers[r]||window.broadcast.isLoginPage()||window.broadcast.popoverHandlers[r](o)}}]),e}();new at;function it(e,t,n){var r=new Date;n||(n=432e4),r.setTime(r.getTime()+n),document.cookie="".concat(e,"=").concat(t,"; expires=").concat(r.toUTCString(),"; path=/")}function lt(e){var t="; ".concat(document.cookie),n=t.split("; ".concat(e,"="));if(2==n.length){var r=n.pop().split(";").shift();if("undefined"!==typeof r)return r}return null}function ct(e){var t=new Date;t.setTime(t.getTime()+-864e5),document.cookie="".concat(e,"=; expires=").concat(t.toUTCString(),"; path=/")}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var st=window,ut=st.$;function dt(){var e=!!parseInt(lt("zenMode"),10),t=ut(".top_controls .icon-arrowup");function n(){e?(ut("body").addClass("zenMode"),t.addClass("icon-arrowdown").removeClass("icon-arrowup"),t.prop("title",a("CoreHome_ExitZenMode"))):(ut("body").removeClass("zenMode"),t.removeClass("icon-arrowdown").addClass("icon-arrowup"),t.prop("title",a("CoreHome_EnterZenMode")))}ue.helper.registerShortcut("z",a("CoreHome_ShortcutZenMode"),(function(t){t.altKey||(e=!e,it("zenMode",e?"1":"0"),n())})),t.click((function(){window.Mousetrap.trigger("z")})),n()}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function mt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n;return window._pk_externalRawLink?window._pk_externalRawLink(e,o):e}function pt(e){if(!e)return"";var t=(arguments.length<=1?0:arguments.length-1)>0&&(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:null,n=(arguments.length<=1?0:arguments.length-1)>1&&(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:null,r=(arguments.length<=1?0:arguments.length-1)>2&&(arguments.length<=3?void 0:arguments[3])?arguments.length<=3?void 0:arguments[3]:null,o=mt(e,t,n,r);return'<a target="_blank" rel="noreferrer noopener" href="'+o+'">'}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function ft(){var e=X["createApp"].apply(void 0,arguments);return e.config.globalProperties.$sanitize=window.vueSanitize,e.config.globalProperties.translate=a,e.config.globalProperties.translateOrDefault=i,e.config.globalProperties.externalLink=pt,e.config.globalProperties.externalRawLink=mt,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */ue.on("Matomo.topControlsRendered",(function(){dt()}));var ht={},bt=120,gt=50,vt=1e3;function yt(e){if(ht[e])return ht[e];if(window[e])return Promise.resolve(window[e]);var t,n,r,o="?module=Proxy&action=getPluginUmdJs&plugin=".concat(e),a=document.createElement("script");a.charset="utf-8",a.timeout=bt,a.src=o;var i=new Error,l=function(o){a.onerror=null,a.onload=null,clearTimeout(r);var l=0;function c(){if(l+=gt,t&&n)if(window[e]&&n)try{n(window[e])}finally{t=void 0,n=void 0}else if(l>vt)try{var r=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;i.message="Loading plugin ".concat(e," on demand failed.\n(").concat(r,": ").concat(a,")"),i.name="PluginOnDemandLoadError",i.type=r,i.request=a,t(i)}finally{t=void 0,n=void 0}else setTimeout(c,gt)}setTimeout(c,gt)};return r=setTimeout((function(){l({type:"timeout",target:a})}),bt),a.onerror=l,a.onload=l,document.head.appendChild(a),new Promise((function(e,r){n=e,t=r}))}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Ot(e,t){return Object(X["defineAsyncComponent"])((function(){return yt(e).then((function(e){return e||resolve(null),e[t]}))}))}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function jt(e,t){var n;return e instanceof HTMLElement?e:null===(n=t.instance)||void 0===n?void 0:n.$refs[e]}var wt={getRef:jt},kt=300;function St(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kt;return function(){for(var r=this,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];t&&clearTimeout(t),t=setTimeout((function(){e.call.apply(e,[r].concat(a))}),n)}}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Ct(e,t){var n,r=parseInt(t,10),o=parseInt(e,10)-r;return n=0===o||Number.isNaN(o)?0:0===r||Number.isNaN(r)?100:o/r*100,n}function Et(e){return"".concat(e>0?ue.numbers.symbolPlus:"").concat(Math.round(e),"}%")}function Dt(e,t){var n=Ct(e,t);return Et(n)}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Pt(e){return"undefined"===typeof e?e:JSON.parse(JSON.stringify(e))}var Tt={ref:"root"};function Vt(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Tt,[e.componentWrapper?(Object(X["openBlock"])(),Object(X["createBlock"])(Object(X["resolveDynamicComponent"])(e.componentWrapper),{key:0})):Object(X["createCommentVNode"])("",!0)],512)}var Nt=Object(X["defineComponent"])({props:{html:String},mounted:function(){ue.helper.compileVueEntryComponents(this.$refs.root)},beforeUnmount:function(){ue.helper.destroyVueComponent(this.$refs.root)},computed:{componentWrapper:function(){return this.html?Object(X["markRaw"])({template:this.html}):null}}});Nt.render=Vt;var It=Nt,xt={class:"loadingPiwik"};function Bt(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("MatomoLoader");return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",xt,[Object(X["createVNode"])(i),Object(X["createElementVNode"])("span",null,Object(X["toDisplayString"])(e.loadingMessage),1)],512)),[[X["vShow"],e.loading]])}var At={class:"matomo-loader"},Lt=Object(X["createElementVNode"])("span",null,null,-1),Mt=Object(X["createElementVNode"])("span",null,null,-1),_t=Object(X["createElementVNode"])("span",null,null,-1),Ft=[Lt,Mt,_t];function Rt(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("span",At,Ft)}var Ht=Object(X["defineComponent"])({});Ht.render=Rt;var Ut=Ht,$t=Object(X["defineComponent"])({components:{MatomoLoader:Ut},props:{loading:{type:Boolean,required:!0,default:!1},loadingMessage:{type:String,required:!1,default:a("General_LoadingData")}}});$t.render=Bt;var qt=$t;function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:Object(X["normalizeClass"])(["alert",Wt({},"alert-".concat(e.severity),!0)])},[Object(X["renderSlot"])(e.$slots,"default")],2)}var Gt=Object(X["defineComponent"])({props:{severity:{type:String,required:!0}}});Gt.render=zt;var Yt=Gt,Jt={mounted:function(e,t){var n={};$(e).addClass("matomo-dropdown-menu");var r,o=!!$(e).parent().closest(".dropdown-content").length;o&&(n={hover:!0},$(e).addClass("submenu"),$((null===(r=t.value)||void 0===r?void 0:r.activates)||$(e).data("target")).addClass("submenu-dropdown-content"),$(e).parents(".dropdown-content").addClass("submenu-container"));$(e).dropdown(n)},updated:function(e){Object(X["nextTick"])((function(){$(e).addClass("matomo-dropdown-menu")}))}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function Kt(e,t,n){var r=t.value.isMouseDown&&t.value.hasScrolled;t.value.isMouseDown=!1,t.value.hasScrolled=!1,r||e.contains(n.target)||t.value&&t.value.blur()}function Qt(e,t){t.value.hasScrolled=!0}function Xt(e,t){t.value.isMouseDown=!0,t.value.hasScrolled=!1}function Zt(e,t,n){27===n.which&&setTimeout((function(){t.value.isMouseDown=!1,t.value.hasScrolled=!1,t.value.blur&&t.value.blur()}),0)}var en=document.documentElement,tn={mounted:function(e,t){t.value.isMouseDown=!1,t.value.hasScrolled=!1,t.value.onEscapeHandler=Zt.bind(null,e,t),t.value.onMouseDown=Xt.bind(null,e,t),t.value.onClickOutsideElement=Kt.bind(null,e,t),t.value.onScroll=Qt.bind(null,e,t),en.addEventListener("keyup",t.value.onEscapeHandler),en.addEventListener("mousedown",t.value.onMouseDown),en.addEventListener("mouseup",t.value.onClickOutsideElement),en.addEventListener("scroll",t.value.onScroll)},unmounted:function(e,t){en.removeEventListener("keyup",t.value.onEscapeHandler),en.removeEventListener("mousedown",t.value.onMouseDown),en.removeEventListener("mouseup",t.value.onClickOutsideElement),en.removeEventListener("scroll",t.value.onScroll)}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function nn(e,t){var n,r;null===(n=t.value)||void 0===n||!n.focused||null!==(r=t.oldValue)&&void 0!==r&&r.focused||setTimeout((function(){e.focus(),t.value.afterFocus&&t.value.afterFocus()}),5)}var rn={mounted:function(e,t){nn(e,t)},updated:function(e,t){nn(e,t)}},on=window,an=on.$;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function ln(){var e=an(this).attr("title")||"";return window.vueSanitize(e.replace(/\n/g,"<br />"))}function cn(e,t){var n,r,o,a,i,l;an(e).tooltip({track:!0,content:(null===(n=t.value)||void 0===n?void 0:n.content)||ln,show:"undefined"!==typeof(null===(r=t.value)||void 0===r?void 0:r.show)?null===(o=t.value)||void 0===o?void 0:o.show:{delay:(null===(a=t.value)||void 0===a?void 0:a.delay)||700,duration:(null===(i=t.value)||void 0===i?void 0:i.duration)||200},hide:!1,tooltipClass:null===(l=t.value)||void 0===l?void 0:l.tooltipClass})}var sn={mounted:function(e,t){setTimeout((function(){return cn(e,t)}))},updated:function(e,t){setTimeout((function(){return cn(e,t)}))},beforeUnmount:function(e){try{window.$(e).tooltip("destroy")}catch(t){}}},un={ref:"root"};function dn(e,t,n,r,o,a){return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",un,[Object(X["renderSlot"])(e.$slots,"default")],512)),[[X["vShow"],e.modelValue]])}var mn=Object(X["defineComponent"])({props:{modelValue:{type:Boolean,required:!0}},emits:["yes","no","closeEnd","close","validation","update:modelValue"],activated:function(){this.$emit("update:modelValue",!1)},watch:{modelValue:function(e,t){var n=this;if(e){var r=this.$refs.root.firstElementChild;ue.helper.modalConfirm(r,{yes:function(){n.$emit("yes")},no:function(){n.$emit("no")},validation:function(){n.$emit("validation")}},{onCloseEnd:function(){n.$refs.root.appendChild(r),n.$emit("update:modelValue",!1),n.$emit("closeEnd")}})}else!1===e&&!0===t&&($(".modal.open").modal("close"),this.$emit("close"))}}});mn.render=dn;var pn=mn;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function fn(e){e.classList.toggle("expanded");var t=e.querySelector(".dropdown.positionInViewport");t&&ue.helper.setMarginLeftToBeInViewport(t)}function hn(e,t,n){var r,o=t.value.isMouseDown&&t.value.hasScrolled;(t.value.isMouseDown=!1,t.value.hasScrolled=!1,o)||(e.contains(n.target)||(e.classList.remove("expanded"),null!==(r=t.value)&&void 0!==r&&r.onClosed&&t.value.onClosed()))}function bn(e){e.value.hasScrolled=!0}function gn(e){e.value.isMouseDown=!0,e.value.hasScrolled=!1}function vn(e,t,n){27===n.which&&(t.value.isMouseDown=!1,t.value.hasScrolled=!1,e.classList.remove("expanded"))}var yn=document.documentElement,On=window,jn=On.$,wn={mounted:function(e,t){t.value.isMouseDown=!1,t.value.hasScrolled=!1,t.value.onExpand=fn.bind(null,e),t.value.onEscapeHandler=vn.bind(null,e,t),t.value.onMouseDown=gn.bind(null,t),t.value.onClickOutsideElement=hn.bind(null,e,t),t.value.onScroll=bn.bind(null,t),setTimeout((function(){var e=wt.getRef(t.value.expander,t);e&&jn(e).on("click",t.value.onExpand)})),yn.addEventListener("keyup",t.value.onEscapeHandler),yn.addEventListener("mousedown",t.value.onMouseDown),yn.addEventListener("mouseup",t.value.onClickOutsideElement),yn.addEventListener("scroll",t.value.onScroll)},unmounted:function(e,t){var n=wt.getRef(t.value.expander,t);n&&jn(n).off("click",t.value.onExpand),yn.removeEventListener("keyup",t.value.onEscapeHandler),yn.removeEventListener("mousedown",t.value.onMouseDown),yn.removeEventListener("mouseup",t.value.onClickOutsideElement),yn.removeEventListener("scroll",t.value.onScroll)}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function kn(e){e.classList.add("expanded");var t=e.querySelector(".dropdown.positionInViewport");t&&ue.helper.setMarginLeftToBeInViewport(t)}function Sn(e){e.classList.remove("expanded")}function Cn(e,t){e.contains(t.target)||e.classList.remove("expanded")}function En(e,t){27===t.which&&e.classList.remove("expanded")}var Dn=document.documentElement,Pn={mounted:function(e,t){t.value.onMouseEnter=kn.bind(null,e),t.value.onMouseLeave=Sn.bind(null,e),t.value.onClickOutsideElement=Cn.bind(null,e),t.value.onEscapeHandler=En.bind(null,e),setTimeout((function(){var e=wt.getRef(t.value.expander,t);e&&e.addEventListener("mouseenter",t.value.onMouseEnter)})),e.addEventListener("mouseleave",t.value.onMouseLeave),Dn.addEventListener("keyup",t.value.onEscapeHandler),Dn.addEventListener("mouseup",t.value.onClickOutsideElement)},unmounted:function(e,t){var n=wt.getRef(t.value.expander,t);n&&n.removeEventListener("mouseenter",t.value.onMouseEnter),e.removeEventListener("mouseleave",t.value.onMouseLeave),document.removeEventListener("keyup",t.value.onEscapeHandler),document.removeEventListener("mouseup",t.value.onClickOutsideElement)}},Tn=window,Vn=Tn.$,Nn={mounted:function(e,t){var n=Vn(e),r=t.value.sensitiveData,o=t.value.showCharacters||6,i=t.value.clickElementSelector||n,l="";function c(){n.html(r),Vn(i).css({cursor:""}),Vn(i).tooltip("destroy")}o>0&&(l+=r.slice(0,o)),l+=r.slice(o).replace(/./g,"*"),n.html(l),Vn(i).tooltip({content:a("CoreHome_ClickToSeeFullInformation"),items:"*",track:!0}),Vn(i).one("click",c),Vn(i).css({cursor:"pointer"})}},In=window,xn=In.$,Bn={mounted:function(e){var t=xn(e);!t.attr("data-target")&&t.attr("data-activates")&&t.attr("data-target",t.attr("data-activates"));var n=t.attr("data-target");n&&xn("#".concat(n)).length&&t.dropdown({inDuration:300,outDuration:225,constrainWidth:!1,belowOrigin:!0})}},An=window,Ln=An.$;function Mn(e,t){e.value.focusedElement!==t.target&&(e.value.focusedElement=t.target,Ln(t.target).select())}function _n(e){var t=document.createRange();t.selectNode(e.target);var n=window.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),n&&n.addRange(t)}function Fn(e){delete e.value.focusedElement}var Rn={mounted:function(e,t){var n=e.tagName.toLowerCase();t.value.elementSupportsSelect="textarea"===n,t.value.elementSupportsSelect?(t.value.onFocusHandler=Mn.bind(null,t),t.value.onBlurHandler=Fn.bind(null,t),e.addEventListener("focus",t.value.onFocusHandler),e.addEventListener("blur",t.value.onBlurHandler)):(t.value.onClickHandler=_n,e.addEventListener("click",t.value.onClickHandler))},unmounted:function(e,t){t.value.elementSupportsSelect?(e.removeEventListener("focus",t.value.onFocusHandler),e.removeEventListener("blur",t.value.onBlurHandler)):e.removeEventListener("click",t.value.onClickHandler)}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Hn(e){if(e){var t=document.createElement("textarea");t.value=e.innerText,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),t.focus(),document.execCommand("copy"),document.body.removeChild(t);var n=e.parentElement;if(n){var r=n.getElementsByTagName("i")[0];r&&(r.classList.remove("copyToClipboardIcon"),r.classList.add("copyToClipboardIconCheck"));var o=n.getElementsByClassName("copyToClipboardCopiedDiv")[0];o&&(o.style.display="inline-block",setTimeout((function(){o.style.display="none"}),2500))}}}function Un(e,t){if(t.value.transitionOpen){var n=e.parentElement;if(n){var r=n.getElementsByTagName("i")[0];r&&(r.classList.remove("copyToClipboardIconCheck"),r.classList.add("copyToClipboardIcon"))}t.value.transitionOpen=!1}else t.value.transitionOpen=!0}var $n={mounted:function(e,t){var n=e.tagName.toLowerCase();if("pre"===n){var r=document.createElement("button");r.setAttribute("type","button"),r.className="copyToClipboardButton";var o=document.createElement("div");o.className="copyToClipboardPositionDiv";var i=document.createElement("i");i.className="copyToClipboardIcon",r.appendChild(i);var l=document.createElement("span");l.className="copyToClipboardSpan",l.innerHTML=a("General_Copy"),r.appendChild(l),o.appendChild(r);var c=document.createElement("div");c.className="copyToClipboardCopiedDiv",c.innerHTML=a("General_CopiedToClipboard"),o.appendChild(c);var s=e.parentElement;s&&(s.classList.add("copyToClipboardWrapper"),s.appendChild(o)),t.value.onClickHandler=Hn.bind(null,e),r.addEventListener("click",t.value.onClickHandler),t.value.onTransitionEndHandler=Un.bind(null,e,t),r.addEventListener("transitionend",t.value.onTransitionEndHandler)}},unmounted:function(e,t){e.removeEventListener("click",t.value.onClickHandler),e.removeEventListener("transitionend",t.value.onTransitionEndHandler)}},qn={mounted:function(e,t){t.value.activator&&setTimeout((function(){if(!t.value.initialized){t.value.initialized=!0;var n=wt.getRef(t.value.activator,t);if(n){window.$(n).show();var r=n.getAttribute("data-target");window.$("#".concat(r)).sidenav({closeOnClick:!0})}}e.classList.contains("collapsible")&&window.$(e).collapsible()}))}},Wn={key:0,class:"title",tabindex:"6"},zn=["href","title"],Gn={class:"iconsBar"},Yn=["href","title"],Jn=Object(X["createElementVNode"])("span",{class:"icon-help"},null,-1),Kn=[Jn],Qn=["title"],Xn=Object(X["createElementVNode"])("span",{class:"icon-info"},null,-1),Zn=[Xn],er={key:2,class:"ratingIcons"},tr={class:"inlineHelp"},nr=["innerHTML"],rr=["innerHTML"],or=["href"];
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function ar(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:"enrichedHeadline",onMouseenter:t[1]||(t[1]=function(t){return e.showIcons=!0}),onMouseleave:t[2]||(t[2]=function(t){return e.showIcons=!1}),ref:"root"},[e.editUrl?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Wn,[Object(X["renderSlot"])(e.$slots,"default")])),e.editUrl?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,class:"title",href:e.editUrl,title:e.translate("CoreHome_ClickToEditX",e.htmlEntities(e.actualFeatureName))},[Object(X["renderSlot"])(e.$slots,"default")],8,zn)):Object(X["createCommentVNode"])("",!0),Object(X["withDirectives"])(Object(X["createElementVNode"])("span",Gn,[e.helpUrl&&!e.actualInlineHelp?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:0,rel:"noreferrer noopener",target:"_blank",class:"helpIcon",href:e.helpUrl,title:e.translate("CoreHome_ExternalHelp")},Kn,8,Yn)):Object(X["createCommentVNode"])("",!0),e.actualInlineHelp?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,onClick:t[0]||(t[0]=function(t){return e.showInlineHelp=!e.showInlineHelp}),class:Object(X["normalizeClass"])(["helpIcon",{active:e.showInlineHelp}]),title:e.translate(e.reportGenerated?"General_HelpReport":"General_Help")},Zn,10,Qn)):Object(X["createCommentVNode"])("",!0),e.showRateFeature?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",er,[(Object(X["openBlock"])(),Object(X["createBlock"])(Object(X["resolveDynamicComponent"])(e.rateFeature),{title:e.actualFeatureName},null,8,["title"]))])):Object(X["createCommentVNode"])("",!0)],512),[[X["vShow"],e.showIcons||e.showInlineHelp]]),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",tr,[Object(X["createElementVNode"])("div",{innerHTML:e.$sanitize(e.actualInlineHelp)},null,8,nr),""!=e.reportGenerated?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",{key:0,class:"helpDate",innerHTML:e.$sanitize(e.reportGenerated)},null,8,rr)):Object(X["createCommentVNode"])("",!0),e.helpUrl?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,rel:"noreferrer noopener",target:"_blank",class:"readMore",href:e.helpUrl},Object(X["toDisplayString"])(e.translate("General_MoreDetails")),9,or)):Object(X["createCommentVNode"])("",!0)],512),[[X["vShow"],e.showInlineHelp]])],544)}var ir=Object(X["defineComponent"])({props:{helpUrl:{type:String,default:""},editUrl:{type:String,default:""},reportGenerated:String,featureName:String,inlineHelp:String},data:function(){return{showIcons:!1,showInlineHelp:!1,actualFeatureName:this.featureName,actualInlineHelp:this.inlineHelp}},watch:{inlineHelp:function(e){this.actualInlineHelp=e},featureName:function(e){this.actualFeatureName=e}},mounted:function(){var e,t=this.$refs.root;if(!this.actualInlineHelp){var n,r=t.querySelector(".title .inlineHelp");if(!r&&null!==(n=t.parentElement)&&void 0!==n&&n.nextElementSibling&&(r=t.parentElement.nextElementSibling.querySelector(".reportDocumentation")),r){var o,a=null===(o=r.getAttribute("data-content"))||void 0===o?void 0:o.trim();a&&a.length&&(this.actualInlineHelp="<p>".concat(a,"</p>"),setTimeout((function(){return r.remove()}),0))}}this.actualFeatureName||(this.actualFeatureName=null===(e=t.querySelector(".title"))||void 0===e?void 0:e.textContent);if(ue.period&&ue.currentDateString){var i=m.parse(ue.period,ue.currentDateString);this.reportGenerated&&i.containsToday()&&window.$(t.querySelector(".report-generated")).tooltip({track:!0,content:this.reportGenerated,items:"div",show:!1,hide:!1})}},methods:{htmlEntities:function(e){return ue.helper.htmlEntities(e)}},computed:{showRateFeature:function(){return"Feedback_SendFeedback"!==i("Feedback_SendFeedback")},rateFeature:function(){return this.showRateFeature?Ot("Feedback","RateFeature"):""}}});ir.render=ar;var lr=ir,cr={class:"card-content"},sr={key:0,class:"card-title"},ur={key:1,class:"card-title"},dr={ref:"content"},mr={key:0,class:"card-image hide-on-med-and-down"},pr=["src","alt"];function fr(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("EnrichedHeadline");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:Object(X["normalizeClass"])({card:!0,"card-with-image":!!this.imageUrl}),ref:"root"},[Object(X["createElementVNode"])("div",cr,[!e.contentTitle||e.actualFeature||e.helpUrl||e.actualHelpText?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("h2",sr,Object(X["toDisplayString"])(e.decode(e.contentTitle)),1)),e.contentTitle&&(e.actualFeature||e.helpUrl||e.actualHelpText)?(Object(X["openBlock"])(),Object(X["createElementBlock"])("h2",ur,[Object(X["createVNode"])(i,{"feature-name":e.actualFeature,"help-url":e.helpUrl,"inline-help":e.actualHelpText},{default:Object(X["withCtx"])((function(){return[Object(X["createTextVNode"])(Object(X["toDisplayString"])(e.decode(e.contentTitle)),1)]})),_:1},8,["feature-name","help-url","inline-help"])])):Object(X["createCommentVNode"])("",!0),Object(X["createElementVNode"])("div",dr,[Object(X["renderSlot"])(e.$slots,"default")],512)]),e.imageUrl?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",mr,[Object(X["createElementVNode"])("img",{src:e.imageUrl,alt:e.actualImageAltText},null,8,pr)])):Object(X["createCommentVNode"])("",!0)],2)}var hr=null,br=window,gr=br.$,vr=Object(X["defineComponent"])({props:{contentTitle:String,feature:String,helpUrl:String,helpText:String,anchor:String,imageUrl:String,imageAltText:String},components:{EnrichedHeadline:lr},data:function(){return{actualFeature:this.feature,actualHelpText:this.helpText,actualImageAltText:this.imageAltText?this.imageAltText:this.contentTitle}},watch:{feature:function(e){this.actualFeature=e},helpText:function(e){this.actualHelpText=e}},mounted:function(){var e=this,t=this.$refs.root,n=this.$refs.content;if(this.anchor&&t&&t.parentElement){var r=document.createElement("a");r.id=this.anchor,gr(t.parentElement).prepend(r)}setTimeout((function(){var t=n.querySelector(".contentHelp");t&&(e.actualHelpText=t.innerHTML,t.remove())}),0),this.actualFeature&&"true"===this.actualFeature&&(this.actualFeature=this.contentTitle),null===hr&&(hr=document.querySelector("#content.admin"));var o=null;if(hr&&(o=hr.offsetTop),o||0===o){var a=t.closest(".widgetLoader"),i=a?a.offsetTop:t.offsetTop;i-o<17&&(t.style.marginTop="0")}},methods:{decode:function(e){return ue.helper.htmlDecode(e)}}});vr.render=fr;var yr=vr,Or={key:0,ref:"root",class:"matomo-comparisons"},jr={class:"comparison-type"},wr=["title"],kr=["href"],Sr=["title"],Cr={class:"comparison-period-label"},Er=["onClick"],Dr=["title"],Pr={class:"loadingPiwik",style:{display:"none"}},Tr=["alt"];function Vr(e,t,n,r,o,a){var i=Object(X["resolveDirective"])("tooltips");return e.isComparing?Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Or,[Object(X["createElementVNode"])("h3",null,Object(X["toDisplayString"])(e.translate("General_Comparisons")),1),(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.segmentComparisons,(function(t,n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:"comparison card",key:t.index},[Object(X["createElementVNode"])("div",jr,Object(X["toDisplayString"])(e.translate("General_Segment")),1),Object(X["createElementVNode"])("div",{class:"title",title:e.getTitleTooltip(t)},[Object(X["createElementVNode"])("a",{target:"_blank",href:e.getUrlToSegment(t.params.segment)},Object(X["toDisplayString"])(t.title),9,kr)],8,wr),(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.periodComparisons,(function(n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:"comparison-period",key:n.index,title:e.getComparisonTooltip(t,n)},[Object(X["createElementVNode"])("span",{class:"comparison-dot",style:Object(X["normalizeStyle"])({"background-color":e.getSeriesColor(t,n)})},null,4),Object(X["createElementVNode"])("span",Cr,Object(X["toDisplayString"])(n.title)+" ("+Object(X["toDisplayString"])(e.getComparisonPeriodType(n))+") ",1)],8,Sr)})),128)),e.segmentComparisons.length>1?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:0,class:"remove-button",onClick:function(t){return e.removeSegmentComparison(n)}},[Object(X["createElementVNode"])("span",{class:"icon icon-close",title:e.translate("General_ClickToRemoveComp")},null,8,Dr)],8,Er)):Object(X["createCommentVNode"])("",!0)])})),128)),Object(X["createElementVNode"])("div",Pr,[Object(X["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif",alt:e.translate("General_LoadingData")},null,8,Tr),Object(X["createTextVNode"])(" "+Object(X["toDisplayString"])(e.translate("General_LoadingData")),1)])],512)),[[i,{duration:200,delay:200,content:e.transformTooltipContent}]]):Object(X["createCommentVNode"])("",!0)}function Nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t,n){return t&&Ir(e.prototype,t),n&&Ir(e,n),e}function Br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var Ar=function(){function e(){var t=this;Nr(this,e),Br(this,"segmentState",Object(X["reactive"])({availableSegments:[]})),ue.on("piwikSegmentationInited",(function(){return t.setSegmentState()}))}return xr(e,[{key:"state",get:function(){return Object(X["readonly"])(this.segmentState)}},{key:"setSegmentState",value:function(){try{var e=$(".segmentEditorPanel").data("uiControlObject");this.segmentState.availableSegments=e.impl.availableSegments||[]}catch(t){}}}]),e}(),Lr=new Ar;function Mr(e){return Hr(e)||Rr(e)||Fr(e)||_r()}function _r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fr(e,t){if(e){if("string"===typeof e)return Ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ur(e,t):void 0}}function Rr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Hr(e){if(Array.isArray(e))return Ur(e)}function Ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t,n){return t&&qr(e.prototype,t),n&&qr(e,n),e}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var Gr=8,Yr=3;function Jr(e){return e?Array.isArray(e)?e:[e]:[]}var Kr=function(){function e(){var t=this;$r(this,e),zr(this,"privateState",Object(X["reactive"])({comparisonsDisabledFor:[]})),zr(this,"state",Object(X["readonly"])(this.privateState)),zr(this,"colors",{}),zr(this,"segmentComparisons",Object(X["computed"])((function(){return t.parseSegmentComparisons()}))),zr(this,"periodComparisons",Object(X["computed"])((function(){return t.parsePeriodComparisons()}))),zr(this,"isEnabled",Object(X["computed"])((function(){return t.checkEnabledForCurrentPage()}))),"complete"===document.readyState||"interactive"===document.readyState?this.loadComparisonsDisabledFor():document.addEventListener("DOMContentLoaded",(function(){t.loadComparisonsDisabledFor()})),$((function(){t.colors=t.getAllSeriesColors()})),Object(X["watch"])((function(){return t.getComparisons()}),(function(){return ue.postEvent("piwikComparisonsChanged")}),{deep:!0})}return Wr(e,[{key:"getComparisons",value:function(){return this.getSegmentComparisons().concat(this.getPeriodComparisons())}},{key:"isComparing",value:function(){return this.isComparisonEnabled()&&(this.segmentComparisons.value.length>1||this.periodComparisons.value.length>1)}},{key:"isComparingPeriods",value:function(){return this.getPeriodComparisons().length>1}},{key:"getSegmentComparisons",value:function(){return this.isComparisonEnabled()?this.segmentComparisons.value:[]}},{key:"getPeriodComparisons",value:function(){return this.isComparisonEnabled()?this.periodComparisons.value:[]}},{key:"getSeriesColor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getComparisonSeriesIndex(t.index,e.index)%Gr;if(0===n)return this.colors["series".concat(r)];var o=n%Yr;return this.colors["series".concat(r,"-shade").concat(o)]}},{key:"getSeriesColorName",value:function(e,t){var n="series".concat(e%Gr);return t>0&&(n+="-shade".concat(t%Yr)),n}},{key:"isComparisonEnabled",value:function(){return this.isEnabled.value}},{key:"getIndividualComparisonRowIndices",value:function(e){var t=this.getSegmentComparisons().length,n=e%t,r=Math.floor(e/t);return{segmentIndex:n,periodIndex:r}}},{key:"getComparisonSeriesIndex",value:function(e,t){var n=this.getSegmentComparisons().length;return e*n+t}},{key:"getAllComparisonSeries",value:function(){var e=this,t=[],n=0;return this.getPeriodComparisons().forEach((function(r){e.getSegmentComparisons().forEach((function(o){t.push({index:n,params:Object.assign(Object.assign({},o.params),r.params),color:e.colors["series".concat(n)]}),n+=1}))})),t}},{key:"removeSegmentComparison",value:function(e){if(!this.isComparisonEnabled())throw new Error("Comparison disabled.");var t=Mr(this.segmentComparisons.value);t.splice(e,1);var n={};0===e&&(n.segment=t[0].params.segment),this.updateQueryParamsFromComparisons(t,this.periodComparisons.value,n)}},{key:"addSegmentComparison",value:function(e){if(!this.isComparisonEnabled())throw new Error("Comparison disabled.");var t=this.segmentComparisons.value.concat([{params:e,index:-1,title:""}]);this.updateQueryParamsFromComparisons(t,this.periodComparisons.value)}},{key:"updateQueryParamsFromComparisons",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={},o={},a=!1,i=!1;e.forEach((function(e){a?r[e.params.segment]=!0:a=!0})),t.forEach((function(e){i?o["".concat(e.params.period,"|").concat(e.params.date)]=!0:i=!0}));var l=[],c=[];Object.keys(o).forEach((function(e){var t=e.split("|");l.push(t[0]),c.push(t[1])}));var s={compareSegments:Object.keys(r),comparePeriods:l,compareDates:c},u=ue.helper.isReportingPage()?De.hashParsed.value:De.urlParsed.value;De.updateLocation(Object.assign(Object.assign(Object.assign({},u),s),n))}},{key:"getAllSeriesColors",value:function(){var e=ue.ColorManager;if(!e)return[];for(var t=[],n=0;n<Gr;n+=1){t.push("series".concat(n));for(var r=0;r<Yr;r+=1)t.push("series".concat(n,"-shade").concat(r))}return e.getColors("comparison-series-color",t)}},{key:"loadComparisonsDisabledFor",value:function(){var e=this,t=De.parsed.value.module;"CoreUpdater"===t||"Installation"===t||"Overlay"===t||window.piwik.isPagesComparisonApiDisabled||window.piwik.installation||window.broadcast.isLoginPage()?this.privateState.comparisonsDisabledFor=[]:Ze.fetch({module:"API",method:"API.getPagesComparisonsDisabledFor"}).then((function(t){e.privateState.comparisonsDisabledFor=t}))}},{key:"parseSegmentComparisons",value:function(){var e=Lr.state.availableSegments,t=Mr(Jr(De.parsed.value.compareSegments));t.unshift(De.parsed.value.segment||"");var n=[];return t.forEach((function(t,r){var o;e.forEach((function(e){e.definition!==t&&e.definition!==decodeURIComponent(t)&&decodeURIComponent(e.definition)!==t||(o=e)}));var i=o?o.name:a("General_Unknown");""===t.trim()&&(i=a("SegmentEditor_DefaultAllVisits")),n.push({params:{segment:t},title:ue.helper.htmlDecode(i),index:r})})),n}},{key:"parsePeriodComparisons",value:function(){var e=Mr(Jr(De.parsed.value.comparePeriods)),t=Mr(Jr(De.parsed.value.compareDates));e.unshift(De.parsed.value.period),t.unshift(De.parsed.value.date);for(var n=[],r=0;r<Math.min(t.length,e.length);r+=1){var o=void 0;try{o=m.parse(e[r],t[r]).getPrettyString()}catch(i){o=a("General_Error")}n.push({params:{date:t[r],period:e[r]},title:o,index:r})}return n}},{key:"checkEnabledForCurrentPage",value:function(){var e=De.parsed.value.category||De.parsed.value.module,t=De.parsed.value.subcategory||De.parsed.value.action,n="".concat(e,".").concat(t),r=-1===this.privateState.comparisonsDisabledFor.indexOf(n)&&-1===this.privateState.comparisonsDisabledFor.indexOf("".concat(e,".*"));return document.documentElement.classList.toggle("comparisonsDisabled",!r),r}}]),e}(),Qr=new Kr,Xr=Object(X["defineComponent"])({props:{},directives:{Tooltips:sn},data:function(){return{comparisonTooltips:null}},setup:function(){var e=Object(X["computed"])((function(){return Qr.isComparing()&&!window.broadcast.isNoDataPage()})),t=Object(X["computed"])((function(){return Qr.getSegmentComparisons()})),n=Object(X["computed"])((function(){return Qr.getPeriodComparisons()})),r=Qr.getSeriesColor.bind(Qr);function o(){var e=window.$(this).attr("title");return e?window.vueSanitize(e.replace(/\n/g,"<br />")):e}return{isComparing:e,segmentComparisons:t,periodComparisons:n,getSeriesColor:r,transformTooltipContent:o}},methods:{comparisonHasSegment:function(e){return"undefined"!==typeof e.params.segment},removeSegmentComparison:function(e){window.$(this.$refs.root).tooltip("destroy"),Qr.removeSegmentComparison(e)},getComparisonPeriodType:function(e){var t=e.params.period;if("range"===t)return a("CoreHome_PeriodRange");var n=a("Intl_Period".concat(t.substring(0,1).toUpperCase()).concat(t.substring(1)));return n.substring(0,1).toUpperCase()+n.substring(1)},getComparisonTooltip:function(e,t){if(this.comparisonTooltips&&Object.keys(this.comparisonTooltips).length)return(this.comparisonTooltips[t.index]||{})[e.index]},getTitleTooltip:function(e){return"".concat(this.htmlentities(e.title),"<br/>")+"".concat(this.htmlentities(decodeURIComponent(e.params.segment)))},getUrlToSegment:function(e){var t=Object.assign({},De.hashParsed.value);return delete t.comparePeriods,delete t.compareDates,delete t.compareSegments,t.segment=e,"".concat(window.location.search,"#?").concat(De.stringify(t))},onComparisonsChanged:function(){var e=this;if(this.comparisonTooltips=null,Qr.isComparing()){var t=Qr.getPeriodComparisons(),n=Qr.getSegmentComparisons();Ze.fetch({method:"API.getProcessedReport",apiModule:"VisitsSummary",apiAction:"get",compare:"1",compareSegments:De.getSearchParam("compareSegments"),comparePeriods:De.getSearchParam("comparePeriods"),compareDates:De.getSearchParam("compareDates"),format_metrics:"1"}).then((function(r){e.comparisonTooltips={},t.forEach((function(t){e.comparisonTooltips[t.index]={},n.forEach((function(n){var o=e.generateComparisonTooltip(r,t,n);e.comparisonTooltips[t.index][n.index]=o}))}))}))}},generateComparisonTooltip:function(e,t,n){if(!e.reportData.comparisons)return"";var r=Qr.getComparisonSeriesIndex(t.index,0),o=e.reportData.comparisons[r],i=Qr.getComparisonSeriesIndex(t.index,n.index),l=e.reportData.comparisons[i],c=e.reportData.comparisons[n.index],s='<div class="comparison-card-tooltip">',u=(l.nb_visits/o.nb_visits*100).toFixed(2);return u="".concat(u,"%"),s+=a("General_ComparisonCardTooltip1",["'".concat(l.compareSegmentPretty,"'"),l.comparePeriodPretty,u,l.nb_visits.toString(),o.nb_visits.toString()]),t.index>0&&(s+="<br/><br/>",s+=a("General_ComparisonCardTooltip2",[l.nb_visits_change.toString(),c.compareSegmentPretty,c.comparePeriodPretty])),s+="</div>",s},htmlentities:function(e){return ue.helper.htmlEntities(e)}},mounted:function(){var e=this;ue.on("piwikComparisonsChanged",(function(){e.onComparisonsChanged()})),this.onComparisonsChanged()}});Xr.render=Vr;var Zr=Xr,eo={ref:"root",class:"menuDropdown"},to=["title"],no=["innerHTML"],ro=Object(X["createElementVNode"])("span",{class:"icon-chevron-down reporting-menu-sub-icon"},null,-1),oo={class:"items"},ao={key:0,class:"search"},io=["placeholder"],lo=["title"],co=["title"];function so(e,t,n,r,o,a){var i=Object(X["resolveDirective"])("focus-if"),l=Object(X["resolveDirective"])("focus-anywhere-but-here");return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",eo,[Object(X["createElementVNode"])("span",{class:"title",onClick:t[0]||(t[0]=function(t){return e.showItems=!e.showItems}),title:e.tooltip},[Object(X["createElementVNode"])("span",{innerHTML:e.$sanitize(this.actualMenuTitle)},null,8,no),ro],8,to),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",oo,[e.showSearch&&e.showItems?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",ao,[Object(X["withDirectives"])(Object(X["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searchTerm=t}),onKeydown:t[2]||(t[2]=function(t){return e.onSearchTermKeydown(t)}),placeholder:e.translate("General_Search")},null,40,io),[[X["vModelText"],e.searchTerm],[i,{focused:e.showItems}]]),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",{class:"search_ico icon-search",title:e.translate("General_Search")},null,8,lo),[[X["vShow"],!e.searchTerm]]),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",{onClick:t[3]||(t[3]=function(t){e.searchTerm="",e.searchItems("")}),class:"reset icon-close",title:e.translate("General_Clear")},null,8,co),[[X["vShow"],e.searchTerm]])])):Object(X["createCommentVNode"])("",!0),Object(X["createElementVNode"])("div",{onClick:t[4]||(t[4]=function(t){return e.selectItem(t)})},[Object(X["renderSlot"])(e.$slots,"default")])],512),[[X["vShow"],e.showItems]])],512)),[[l,{blur:e.lostFocus}]])}var uo=window,mo=uo.$,po=Object(X["defineComponent"])({props:{menuTitle:String,tooltip:String,showSearch:Boolean,menuTitleChangeOnClick:Boolean},directives:{FocusAnywhereButHere:tn,FocusIf:rn},emits:["afterSelect"],watch:{menuTitle:function(){this.actualMenuTitle=this.menuTitle}},data:function(){return{showItems:!1,searchTerm:"",actualMenuTitle:this.menuTitle}},methods:{lostFocus:function(){this.showItems=!1},selectItem:function(e){var t=e.target.classList;!t.contains("item")||t.contains("disabled")||t.contains("separator")||(this.menuTitleChangeOnClick&&(this.actualMenuTitle=(e.target.textContent||"").replace(/[\u0000-\u2666]/g,(function(e){return"&#".concat(e.charCodeAt(0),";")}))),this.showItems=!1,mo(this.$slots.default()[0].el).find(".item").removeClass("active"),t.add("active"),this.$emit("afterSelect",e.target))},onSearchTermKeydown:function(){var e=this;setTimeout((function(){e.searchItems(e.searchTerm)}))},searchItems:function(e){var t=e.toLowerCase();mo(this.$refs.root).find(".item").each((function(e,n){var r=mo(n);-1===r.text().toLowerCase().indexOf(t)?r.hide():r.show()}))}}});po.render=so;var fo=po,ho={ref:"root"};function bo(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",ho,null,512)}var go=1,vo=window,yo=vo.$,Oo=Object(X["defineComponent"])({props:{selectedDateStart:Date,selectedDateEnd:Date,highlightedDateStart:Date,highlightedDateEnd:Date,viewDate:[String,Date],stepMonths:Number,disableMonthDropdown:Boolean,options:Object},emits:["cellHover","cellHoverLeave","dateSelect"],setup:function(e,t){var n=Object(X["ref"])(null);function r(t,n){var r=t.children("a");if(e.selectedDateStart&&e.selectedDateEnd&&n>=e.selectedDateStart&&n<=e.selectedDateEnd?t.addClass("ui-datepicker-current-period"):t.removeClass("ui-datepicker-current-period"),e.highlightedDateStart&&e.highlightedDateEnd&&n>=e.highlightedDateStart&&n<=e.highlightedDateEnd){var o=r.length?r:t;o.addClass("ui-state-hover")}else t.removeClass("ui-state-hover"),r.removeClass("ui-state-hover")}function o(e,t,n){if(e.hasClass("ui-datepicker-other-month"))return a(e,t,n);var r=parseInt(e.children("a,span").text(),10);return new Date(n,t,r)}function a(e,t,n){var r,a=e.parent(),i=a.children("td");if(a.is(":first-child")){var l=a.children("td:not(.ui-datepicker-other-month)").first();return r=o(l,t,n),r.setDate(i.index(e)-i.index(l)+1),r}var c=a.children("td:not(.ui-datepicker-other-month)").last();return r=o(c,t,n),r.setDate(r.getDate()+i.index(e)-i.index(c)),r}function i(){var e=yo(n.value),t=e.find("td[data-month]"),r=parseInt(t.attr("data-month"),10),o=parseInt(t.attr("data-year"),10);return[r,o]}function l(){var e=yo(n.value),t=e.find(".ui-datepicker-calendar"),a=i(),l=t.find("td"),c=l.first(),s=o(c,a[0],a[1]);l.each((function(){r(yo(this),s),s.setDate(s.getDate()+1)}))}function c(){if(!e.viewDate)return!1;var t;if("string"===typeof e.viewDate)try{t=h(e.viewDate)}catch(a){return!1}else t=e.viewDate;var r=yo(n.value),o=i();return(o[0]!==t.getMonth()||o[1]!==t.getFullYear())&&(r.datepicker("setDate",t),!0)}function s(){var e=yo(n.value);e.find("td[data-event]").off("click"),e.find(".ui-state-active").removeClass("ui-state-active"),e.find(".ui-datepicker-current-day").removeClass("ui-datepicker-current-day"),e.find(".ui-datepicker-prev,.ui-datepicker-next").attr("href","")}function u(){var t=yo(n.value),r=e.stepMonths||go;if(t.datepicker("option","stepMonths")===r)return!1;var o=yo(".ui-datepicker-month",t).val(),a=yo(".ui-datepicker-year",t).val();return t.datepicker("option","stepMonths",r).datepicker("setDate",new Date(a,o)),s(),!0}function d(){var t=yo(n.value),r=t.find(".ui-datepicker-month")[0];r&&(r.disabled=e.disableMonthDropdown)}function m(){if(yo(this).hasClass("ui-state-hover")){var e=yo(this).parent(),t=e.parent();e.is(":first-child")?t.find("a").first().click():t.find("a").last().click()}}function p(){d(),l()}return Object(X["watch"])((function(){return Object.assign({},e)}),(function(e,t){var n=!1;[function(e){return e.selectedDateStart},function(e){return e.selectedDateEnd},function(e){return e.highlightedDateStart},function(e){return e.highlightedDateEnd}].forEach((function(r){if(!n){var o=r(e),a=r(t);!o&&a&&(n=!0),o&&!a&&(n=!0),o&&a&&o.getTime()!==a.getTime()&&(n=!0)}})),e.viewDate!==t.viewDate&&c()&&(n=!0),e.stepMonths!==t.stepMonths&&u(),e.disableMonthDropdown!==t.disableMonthDropdown&&d(),n&&l()})),Object(X["onMounted"])((function(){var r=yo(n.value),a=e.options||{},f=Object.assign(Object.assign(Object.assign({},ue.getBaseDatePickerOptions()),a),{},{onChangeMonthYear:function(){setTimeout((function(){s()}))}});r.datepicker(f),r.on("mouseover","tbody td a",(function(e){e.originalEvent&&l()})),r.on("mouseenter","tbody td",(function(){var e=i(),n=yo(this),r=o(n,e[0],e[1]);t.emit("cellHover",{date:r,$cell:n})})),r.on("mouseout","tbody td a",(function(){l()})),r.on("mouseleave","table",(function(){return t.emit("cellHoverLeave")})).on("mouseenter","thead",(function(){return t.emit("cellHoverLeave")})),r.on("click","tbody td.ui-datepicker-other-month",m),r.on("click",(function(e){e.preventDefault();var t=yo(e.target).closest("a");(t.is(".ui-datepicker-next")||t.is(".ui-datepicker-prev"))&&p()})),r.on("click","td[data-month]",(function(e){var n=yo(e.target).closest("td"),r=parseInt(n.attr("data-month"),10),o=parseInt(n.attr("data-year"),10),a=parseInt(n.children("a,span").text(),10);t.emit("dateSelect",{date:new Date(o,r,a)})}));var h=u();c(),d(),h||s(),l()})),{root:n}}});Oo.render=bo;var jo=Oo,wo={class:"dateRangePicker"},ko={id:"calendarRangeFrom"},So={id:"calendarRangeTo"};function Co(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("DatePicker");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",wo,[Object(X["createElementVNode"])("div",ko,[Object(X["createElementVNode"])("h6",null,[Object(X["createTextVNode"])(Object(X["toDisplayString"])(e.translate("General_DateRangeFrom"))+" ",1),Object(X["withDirectives"])(Object(X["createElementVNode"])("input",{type:"text",id:"inputCalendarFrom",name:"inputCalendarFrom",class:"browser-default","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.startDateText=t}),onKeydown:t[1]||(t[1]=function(t){return e.onRangeInputChanged("from",t)}),onKeyup:t[2]||(t[2]=function(t){return e.handleEnterPress(t)})},null,544),[[X["vModelText"],e.startDateText]])]),Object(X["createVNode"])(i,{id:"calendarFrom","view-date":e.startDate,"selected-date-start":e.fromPickerSelectedDates[0],"selected-date-end":e.fromPickerSelectedDates[1],"highlighted-date-start":e.fromPickerHighlightedDates[0],"highlighted-date-end":e.fromPickerHighlightedDates[1],onDateSelect:t[3]||(t[3]=function(t){return e.setStartRangeDate(t.date)}),onCellHover:t[4]||(t[4]=function(t){return e.fromPickerHighlightedDates=e.getNewHighlightedDates(t.date,t.$cell)}),onCellHoverLeave:t[5]||(t[5]=function(t){return e.fromPickerHighlightedDates=[null,null]})},null,8,["view-date","selected-date-start","selected-date-end","highlighted-date-start","highlighted-date-end"])]),Object(X["createElementVNode"])("div",So,[Object(X["createElementVNode"])("h6",null,[Object(X["createTextVNode"])(Object(X["toDisplayString"])(e.translate("General_DateRangeTo"))+" ",1),Object(X["withDirectives"])(Object(X["createElementVNode"])("input",{type:"text",id:"inputCalendarTo",name:"inputCalendarTo",class:"browser-default","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.endDateText=t}),onKeydown:t[7]||(t[7]=function(t){return e.onRangeInputChanged("to",t)}),onKeyup:t[8]||(t[8]=function(t){return e.handleEnterPress(t)})},null,544),[[X["vModelText"],e.endDateText]])]),Object(X["createVNode"])(i,{id:"calendarTo","view-date":e.endDate,"selected-date-start":e.toPickerSelectedDates[0],"selected-date-end":e.toPickerSelectedDates[1],"highlighted-date-start":e.toPickerHighlightedDates[0],"highlighted-date-end":e.toPickerHighlightedDates[1],onDateSelect:t[9]||(t[9]=function(t){return e.setEndRangeDate(t.date)}),onCellHover:t[10]||(t[10]=function(t){return e.toPickerHighlightedDates=e.getNewHighlightedDates(t.date,t.$cell)}),onCellHoverLeave:t[11]||(t[11]=function(t){return e.toPickerHighlightedDates=[null,null]})},null,8,["view-date","selected-date-start","selected-date-end","highlighted-date-start","highlighted-date-end"])])])}var Eo="YYYY-MM-DD",Do=Object(X["defineComponent"])({props:{startDate:String,endDate:String},components:{DatePicker:jo},data:function(){var e=null;try{this.startDate&&(e=h(this.startDate))}catch(n){}var t=null;try{this.endDate&&(t=h(this.endDate))}catch(n){}return{fromPickerSelectedDates:[e,e],toPickerSelectedDates:[t,t],fromPickerHighlightedDates:[null,null],toPickerHighlightedDates:[null,null],startDateText:this.startDate,endDateText:this.endDate,startDateInvalid:!1,endDateInvalid:!1}},emits:["rangeChange","submit"],watch:{startDate:function(){this.startDateText=this.startDate,this.setStartRangeDateFromStr(this.startDate)},endDate:function(){this.endDateText=this.endDate,this.setEndRangeDateFromStr(this.endDate)}},mounted:function(){this.rangeChanged()},methods:{setStartRangeDate:function(e){this.fromPickerSelectedDates=[e,e],this.rangeChanged()},setEndRangeDate:function(e){this.toPickerSelectedDates=[e,e],this.rangeChanged()},onRangeInputChanged:function(e,t){var n=this;setTimeout((function(){"from"===e?n.setStartRangeDateFromStr(t.target.value):n.setEndRangeDateFromStr(t.target.value)}))},getNewHighlightedDates:function(e,t){return t.hasClass("ui-datepicker-unselectable")?null:[e,e]},handleEnterPress:function(e){13===e.keyCode&&this.$emit("submit",{start:this.startDate,end:this.endDate})},setStartRangeDateFromStr:function(e){this.startDateInvalid=!0;var t=null;try{e&&e.length===Eo.length&&(t=h(e))}catch(n){}t&&(this.fromPickerSelectedDates=[t,t],this.startDateInvalid=!1,this.rangeChanged())},setEndRangeDateFromStr:function(e){this.endDateInvalid=!0;var t=null;try{e&&e.length===Eo.length&&(t=h(e))}catch(n){}t&&(this.toPickerSelectedDates=[t,t],this.endDateInvalid=!1,this.rangeChanged())},rangeChanged:function(){this.$emit("rangeChange",{start:this.fromPickerSelectedDates[0]?p(this.fromPickerSelectedDates[0]):null,end:this.toPickerSelectedDates[0]?p(this.toPickerSelectedDates[0]):null})}}});Do.render=Co;var Po=Do;function To(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("DatePicker");return Object(X["openBlock"])(),Object(X["createBlock"])(i,{"selected-date-start":e.selectedDates[0],"selected-date-end":e.selectedDates[1],"highlighted-date-start":e.highlightedDates[0],"highlighted-date-end":e.highlightedDates[1],"view-date":e.viewDate,"step-months":"year"===e.period?12:1,"disable-month-dropdown":"year"===e.period,onCellHover:t[0]||(t[0]=function(t){return e.onHoverNormalCell(t.date,t.$cell)}),onCellHoverLeave:t[1]||(t[1]=function(t){return e.onHoverLeaveNormalCells()}),onDateSelect:t[2]||(t[2]=function(t){return e.onDateSelected(t.date)})},null,8,["selected-date-start","selected-date-end","highlighted-date-start","highlighted-date-end","view-date","step-months","disable-month-dropdown"])}var Vo=new Date(ue.minDateYear,ue.minDateMonth-1,ue.minDateDay),No=new Date(ue.maxDateYear,ue.maxDateMonth-1,ue.maxDateDay),Io=Object(X["defineComponent"])({props:{period:{type:String,required:!0},date:[String,Date]},components:{DatePicker:jo},emits:["select"],setup:function(e,t){var n=Object(X["ref"])(e.date),r=Object(X["ref"])([null,null]),o=Object(X["ref"])([null,null]);function a(t){var n=m.get(e.period).parse(t).getDateRange();return n[0]=Vo<n[0]?n[0]:Vo,n[1]=No>n[1]?n[1]:No,n}function i(t,n){var r=t<Vo||t>No,i=n.hasClass("ui-datepicker-other-month")&&("month"===e.period||"day"===e.period);o.value=r||i?[null,null]:a(t)}function l(){o.value=[null,null]}function c(e){t.emit("select",{date:e})}function s(){if(!e.period||!e.date)return r.value=[null,null],void(n.value=null);r.value=a(e.date),n.value=h(e.date)}return Object(X["watch"])(e,s),s(),{selectedDates:r,highlightedDates:o,viewDate:n,onHoverNormalCell:i,onHoverLeaveNormalCells:l,onDateSelected:c}}});Io.render=To;var xo=Io,Bo={key:0},Ao=["data-notification-instance-id"],Lo={key:1},Mo={class:"notification-body"},_o=["innerHTML"],Fo={key:1};function Ro(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createBlock"])(X["Transition"],{name:"toast"===e.type?"slow-fade-out":void 0,onAfterLeave:t[1]||(t[1]=function(t){return e.toastClosed()})},{default:Object(X["withCtx"])((function(){return[e.deleted?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Bo,[Object(X["createVNode"])(X["Transition"],{name:"toast"===e.type?"toast-slide-up":void 0,appear:""},{default:Object(X["withCtx"])((function(){return[Object(X["createElementVNode"])("div",null,[Object(X["createVNode"])(X["Transition"],{name:e.animate?"fade-in":void 0,appear:""},{default:Object(X["withCtx"])((function(){return[Object(X["createElementVNode"])("div",{class:Object(X["normalizeClass"])(["notification system",e.cssClasses]),style:Object(X["normalizeStyle"])(e.style),ref:"root","data-notification-instance-id":e.notificationInstanceId},[e.canClose?(Object(X["openBlock"])(),Object(X["createElementBlock"])("button",{key:0,type:"button",class:"close","data-dismiss":"alert",onClick:t[0]||(t[0]=function(t){return e.closeNotification(t)})},"  ")):Object(X["createCommentVNode"])("",!0),e.title?(Object(X["openBlock"])(),Object(X["createElementBlock"])("strong",Lo,Object(X["toDisplayString"])(e.title),1)):Object(X["createCommentVNode"])("",!0),Object(X["createElementVNode"])("div",Mo,[e.message?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{key:0,innerHTML:e.$sanitize(e.message)},null,8,_o)):Object(X["createCommentVNode"])("",!0),e.message?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Fo,[Object(X["renderSlot"])(e.$slots,"default")]))])],14,Ao)]})),_:3},8,["name"])])]})),_:3},8,["name"])]))]})),_:3},8,["name"])}var Ho=window,Uo=Ho.$,$o=Object(X["defineComponent"])({props:{notificationId:String,notificationInstanceId:String,title:String,context:String,type:String,noclear:Boolean,toastLength:{type:Number,default:12e3},style:[String,Object],animate:Boolean,message:String,cssClass:String},computed:{cssClasses:function(){var e={};return this.context&&(e["notification-".concat(this.context)]=!0),this.cssClass&&(e[this.cssClass]=!0),e},canClose:function(){return"persistent"===this.type||!this.noclear}},emits:["closed"],data:function(){return{deleted:!1}},mounted:function(){var e=this,t=function(){setTimeout((function(){e.deleted=!0}),e.toastLength)};"toast"===this.type&&t(),this.style&&Uo(this.$refs.root).css(this.style)},methods:{toastClosed:function(){var e=this;Object(X["nextTick"])((function(){e.$emit("closed")}))},closeNotification:function(e){var t=this;this.canClose&&e&&e.target&&(this.deleted=!0,Object(X["nextTick"])((function(){t.$emit("closed")}))),this.markNotificationAsRead()},markNotificationAsRead:function(){this.notificationId&&Ze.post({module:"CoreHome",action:"markNotificationAsRead"},{notificationId:this.notificationId},{withTokenInUrl:!0})}}});$o.render=Ro;var qo=$o,Wo={class:"notification-group"},zo=["innerHTML"];function Go(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("Notification");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Wo,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.notifications,(function(t,n){return Object(X["openBlock"])(),Object(X["createBlock"])(i,{key:t.id||"no-id-".concat(n),"notification-id":t.id,title:t.title,context:t.context,type:t.type,noclear:t.noclear,"toast-length":t.toastLength,style:Object(X["normalizeStyle"])(t.style),animate:t.animate,message:t.message,"notification-instance-id":t.notificationInstanceId,"css-class":t.class,onClosed:function(n){return e.removeNotification(t.id)}},{default:Object(X["withCtx"])((function(){return[Object(X["createElementVNode"])("div",{innerHTML:e.$sanitize(t.message)},null,8,zo)]})),_:2},1032,["notification-id","title","context","type","noclear","toast-length","style","animate","message","notification-instance-id","css-class","onClosed"])})),128))])}function Yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ko(e,t,n){return t&&Jo(e.prototype,t),n&&Jo(e,n),e}function Qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var Xo=window,Zo=Xo.$,ea=function(){function e(){Yo(this,e),Qo(this,"privateState",Object(X["reactive"])({notifications:[]})),Qo(this,"nextNotificationId",0)}return Ko(e,[{key:"state",get:function(){return Object(X["readonly"])(this.privateState)}},{key:"appendNotification",value:function(e){this.checkMessage(e.message),e.id&&this.remove(e.id),this.privateState.notifications.push(e)}},{key:"prependNotification",value:function(e){this.checkMessage(e.message),e.id&&this.remove(e.id),this.privateState.notifications.unshift(e)}},{key:"remove",value:function(e){this.privateState.notifications=this.privateState.notifications.filter((function(t){return t.id!==e}))}},{key:"parseNotificationDivs",value:function(){var e=this,t=Zo('[data-role="notification"]'),n=[];t.each((function(e,r){var o=Zo(r),a=o.data(),i=o.html();i&&n.push(Object.assign(Object.assign({},a),{},{message:i,animate:!1})),t.remove()})),n.forEach((function(t){return e.show(t)}))}},{key:"clearTransientNotifications",value:function(){this.privateState.notifications=this.privateState.notifications.filter((function(e){return"transient"!==e.type}))}},{key:"show",value:function(e){this.checkMessage(e.message);var t=e.prepend?this.prependNotification:this.appendNotification,n="#notificationContainer";if(e.placeat)n=e.placeat;else{var r=".modal.open .modal-content",o=document.querySelector(r);o&&(o.querySelector("#modalNotificationContainer")||Zo(o).prepend('<div id="modalNotificationContainer"/>'),n="".concat(r," #modalNotificationContainer"),t=this.prependNotification)}var a=e.group||(n?n.toString():"");this.initializeNotificationContainer(n,a);var i=(this.nextNotificationId+=1).toString();return t.call(this,Object.assign(Object.assign({},e),{},{noclear:!!e.noclear,group:a,notificationId:e.id,notificationInstanceId:i,type:e.type||"transient"})),i}},{key:"scrollToNotification",value:function(e){setTimeout((function(){var t=document.querySelector("[data-notification-instance-id='".concat(e,"']"));t&&ue.helper.lazyScrollTo(t,250)}))}},{key:"toast",value:function(e){this.checkMessage(e.message);var t=e.placeat?Zo(e.placeat):void 0;if(!t||!t.length)throw new Error("A valid selector is required for the placeat option when using Notification.toast().");var n=document.createElement("div");n.style.position="absolute",n.style.top="".concat(t.offset().top,"px"),n.style.left="".concat(t.offset().left,"px"),n.style.zIndex="1000",document.body.appendChild(n);var r=ft({render:function(){return Object(X["createVNode"])(qo,Object.assign(Object.assign({},e),{},{notificationId:e.id,type:"toast",onClosed:function(){r.unmount()}}))}});r.mount(n)}},{key:"initializeNotificationContainer",value:function(e,t){if(e){var n=Zo(e);if(!n.children(".notification-group").length){var r=window.CoreHome.NotificationGroup,o=ft({template:'<NotificationGroup :group="group"></NotificationGroup>',data:function(){return{group:t}}});o.component("NotificationGroup",r),o.mount(n[0])}}}},{key:"checkMessage",value:function(e){if(!e)throw new Error("No message given, cannot display notification")}}]),e}(),ta=new ea,na=ta;Zo((function(){return ta.parseNotificationDivs()}));var ra=Object(X["defineComponent"])({props:{group:String},components:{Notification:qo},computed:{notifications:function(){var e=this;return na.state.notifications.filter((function(t){return e.group?e.group===t.group:!t.group}))}},methods:{removeNotification:function(e){na.remove(e)}}});ra.render=Go;var oa=ra,aa=Object(X["createElementVNode"])("span",{class:"icon-help"},null,-1),ia=[aa];
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function la(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{class:"item-help-icon",tabindex:"5",href:"javascript:",onClick:t[0]||(t[0]=function(){return e.showHelp&&e.showHelp.apply(e,arguments)})},ia)}var ca="reportingMenu-help",sa=Object(X["defineComponent"])({props:{message:{type:String,required:!0},name:{type:String,required:!0}},data:function(){return{currentName:""}},methods:{showHelp:function(){if(""!==this.currentName)return na.remove(ca),void(this.currentName="");na.show({context:"info",id:ca,type:"help",noclear:!0,class:"help-notification",message:this.message,placeat:"#notificationContainer",prepend:!0}),""!==this.name&&(this.currentName=this.name)}}});sa.render=la;var ua=sa;function da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pa(e,t,n){return t&&ma(e.prototype,t),n&&ma(e,n),e}function fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var ha=function(){function e(){var t=this;da(this,e),fa(this,"state",Object(X["reactive"])({initialSites:[],isInitialized:!1})),fa(this,"stateFiltered",Object(X["reactive"])({initialSites:[],isInitialized:!1,excludedSites:[]})),fa(this,"currentRequestAbort",null),fa(this,"limitRequest",void 0),fa(this,"initialSites",Object(X["computed"])((function(){return Object(X["readonly"])(t.state.initialSites)}))),fa(this,"initialSitesFiltered",Object(X["computed"])((function(){return Object(X["readonly"])(t.stateFiltered.initialSites)})))}return pa(e,[{key:"loadInitialSites",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.state.isInitialized&&0===n.length?Promise.resolve(Object(X["readonly"])(this.state.initialSites)):this.stateFiltered.isInitialized&&n.length===this.stateFiltered.excludedSites.length&&n.every((function(t,n){return t===e.stateFiltered.excludedSites[n]}))?Promise.resolve(Object(X["readonly"])(this.stateFiltered.initialSites)):(n.length>0&&this.searchSite("%",t,n).then((function(t){e.stateFiltered.isInitialized=!0,e.stateFiltered.excludedSites=n,null!==t&&(e.stateFiltered.initialSites=t)})),this.state.isInitialized?Promise.resolve(Object(X["readonly"])(this.state.initialSites)):this.searchSite("%",t,n).then((function(t){return e.state.isInitialized=!0,null!==t&&(e.state.initialSites=t),t})))}},{key:"loadSite",value:function(e){"all"===e?De.updateUrl(Object.assign(Object.assign({},De.urlParsed.value),{},{module:"MultiSites",action:"index",date:De.parsed.value.date,period:De.parsed.value.period})):De.updateUrl(Object.assign(Object.assign({},De.urlParsed.value),{},{segment:"",idSite:e}),Object.assign(Object.assign({},De.hashParsed.value),{},{segment:"",idSite:e}))}},{key:"searchSite",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?(this.currentRequestAbort&&this.currentRequestAbort.abort(),this.limitRequest||(this.limitRequest=Ze.fetch({method:"SitesManager.getNumWebsitesToDisplayPerPage"})),this.limitRequest.then((function(o){var a=o.value,i="SitesManager.getPatternMatchSites";return n&&(i="SitesManager.getSitesWithAdminAccess"),t.currentRequestAbort=new AbortController,Ze.fetch({method:i,limit:a,pattern:e,sitesToExclude:r},{abortController:t.currentRequestAbort})})).then((function(e){return e?t.processWebsitesList(e):null})).finally((function(){t.currentRequestAbort=null}))):this.loadInitialSites(n,r)}},{key:"processWebsitesList",value:function(e){var t=e;return t&&t.length?(t=t.map((function(e){return Object.assign(Object.assign({},e),{},{name:e.group?"[".concat(e.group,"] ").concat(e.name):e.name})})),t.sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0})),t):[]}}]),e}(),ba=new ha,ga=["value","name"],va=["title"],ya=["textContent"],Oa={key:1,class:"placeholder"},ja={class:"dropdown"},wa={class:"custom_select_search"},ka=["placeholder"],Sa={key:0},Ca={class:"custom_select_container"},Ea=["onClick"],Da=["innerHTML","href","title"],Pa={class:"custom_select_ul_list"},Ta={class:"noresult"},Va={key:1};function Na(e,t,n,r,o,a){var i,l,c,s,u=Object(X["resolveComponent"])("AllSitesLink"),d=Object(X["resolveDirective"])("focus-if"),m=Object(X["resolveDirective"])("tooltips"),p=Object(X["resolveDirective"])("focus-anywhere-but-here");return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:Object(X["normalizeClass"])(["siteSelector piwikSelector borderedControl",{expanded:e.showSitesList,disabled:!e.hasMultipleSites}])},[e.name?(Object(X["openBlock"])(),Object(X["createElementBlock"])("input",{key:0,type:"hidden",value:null===(i=e.displayedModelValue)||void 0===i?void 0:i.id,name:e.name},null,8,ga)):Object(X["createCommentVNode"])("",!0),Object(X["createElementVNode"])("a",{ref:"selectorLink",onClick:t[0]||(t[0]=function(){return e.onClickSelector&&e.onClickSelector.apply(e,arguments)}),onKeydown:t[1]||(t[1]=function(t){return e.onPressEnter(t)}),href:"javascript:void(0)",class:Object(X["normalizeClass"])([{loading:e.isLoading},"title"]),tabindex:"4",title:e.selectorLinkTitle},[Object(X["createElementVNode"])("span",{class:Object(X["normalizeClass"])(["icon icon-chevron-down",{iconHidden:e.isLoading,collapsed:!e.showSitesList}])},null,2),Object(X["createElementVNode"])("span",null,[null!==(l=e.displayedModelValue)&&void 0!==l&&l.name||!e.placeholder?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",{key:0,textContent:Object(X["toDisplayString"])((null===(c=e.displayedModelValue)||void 0===c?void 0:c.name)||e.firstSiteName)},null,8,ya)):Object(X["createCommentVNode"])("",!0),null!==(s=e.displayedModelValue)&&void 0!==s&&s.name||!e.placeholder?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",Oa,Object(X["toDisplayString"])(e.placeholder),1))])],42,va),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",ja,[Object(X["withDirectives"])(Object(X["createElementVNode"])("div",wa,[Object(X["withDirectives"])(Object(X["createElementVNode"])("input",{type:"text",onClick:t[2]||(t[2]=function(t){e.searchTerm="",e.loadInitialSites()}),"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.searchTerm=t}),tabindex:"4",class:"websiteSearch inp browser-default",placeholder:e.translate("General_Search")},null,8,ka),[[X["vModelText"],e.searchTerm],[d,{focused:e.shouldFocusOnSearch}]]),Object(X["withDirectives"])(Object(X["createElementVNode"])("img",{title:"Clear",onClick:t[4]||(t[4]=function(t){e.searchTerm="",e.loadInitialSites()}),class:"reset",src:"plugins/CoreHome/images/reset_search.png"},null,512),[[X["vShow"],e.searchTerm]])],512),[[X["vShow"],e.autocompleteMinSites<=e.sites.length||e.searchTerm]]),"top"===e.allSitesLocation&&e.showAllSitesItem?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Sa,[Object(X["createVNode"])(u,{href:e.urlAllSites,"all-sites-text":e.allSitesText,onClick:t[5]||(t[5]=function(t){return e.onAllSitesClick(t)})},null,8,["href","all-sites-text"])])):Object(X["createCommentVNode"])("",!0),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",Ca,[Object(X["createElementVNode"])("ul",{class:"custom_select_ul_list",onClick:t[7]||(t[7]=function(t){return e.showSitesList=!1})},[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.sites,(function(n,r){return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{onClick:function(t){return e.switchSite(Object.assign(Object.assign({},n),{},{id:n.idsite}),t)},key:r},[Object(X["createElementVNode"])("a",{onClick:t[6]||(t[6]=function(e){return e.preventDefault()}),innerHTML:e.$sanitize(e.getMatchedSiteName(n.name)),tabindex:"4",href:e.getUrlForSiteId(n.idsite),title:n.name},null,8,Da)],8,Ea)),[[X["vShow"],!(!e.showSelectedSite&&"".concat(e.activeSiteId)==="".concat(n.idsite))]])})),128))]),Object(X["withDirectives"])(Object(X["createElementVNode"])("ul",Pa,[Object(X["createElementVNode"])("li",null,[Object(X["createElementVNode"])("div",Ta,Object(X["toDisplayString"])(e.translate("SitesManager_NotFound")+" "+e.searchTerm),1)])],512),[[X["vShow"],!e.sites.length&&e.searchTerm]])],512),[[m,{content:e.tooltipContent}]]),"bottom"===e.allSitesLocation&&e.showAllSitesItem?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Va,[Object(X["createVNode"])(u,{href:e.urlAllSites,"all-sites-text":e.allSitesText,onClick:t[8]||(t[8]=function(t){return e.onAllSitesClick(t)})},null,8,["href","all-sites-text"])])):Object(X["createCommentVNode"])("",!0)],512),[[X["vShow"],e.showSitesList]])],2)),[[p,{blur:e.onBlur}]])}var Ia=["innerHTML","href"];function xa(e,t,n,r,o,a){var i=this;return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{onClick:t[1]||(t[1]=function(e){return i.onClick(e)}),class:"custom_select_all"},[Object(X["createElementVNode"])("a",{onClick:t[0]||(t[0]=function(e){return e.preventDefault()}),innerHTML:e.$sanitize(e.allSitesText),tabindex:"4",href:e.href},null,8,Ia)])}var Ba=Object(X["defineComponent"])({props:{href:String,allSitesText:String},emits:["click"],methods:{onClick:function(e){this.$emit("click",e)}}});Ba.render=xa;var Aa=Ba,La=Object(X["defineComponent"])({props:{modelValue:Object,showSelectedSite:{type:Boolean,default:!1},showAllSitesItem:{type:Boolean,default:!0},switchSiteOnSelect:{type:Boolean,default:!0},onlySitesWithAdminAccess:{type:Boolean,default:!1},name:{type:String,default:""},allSitesText:{type:String,default:a("General_MultiSitesSummary")},allSitesLocation:{type:String,default:"bottom"},placeholder:String,defaultToFirstSite:Boolean,sitesToExclude:{type:Array,default:function(){return[]}}},emits:["update:modelValue","blur"],components:{AllSitesLink:Aa},directives:{FocusAnywhereButHere:tn,FocusIf:rn,Tooltips:sn},watch:{searchTerm:function(){this.onSearchTermChanged()}},data:function(){return{searchTerm:"",activeSiteId:"".concat(ue.idSite),showSitesList:!1,isLoading:!1,sites:[],autocompleteMinSites:parseInt(ue.config.autocomplete_min_sites,10)}},created:function(){this.searchSite=St(this.searchSite),!this.modelValue&&ue.idSite&&this.$emit("update:modelValue",{id:ue.idSite,name:ue.helper.htmlDecode(ue.siteName)})},mounted:function(){var e=this;window.initTopControls(),this.loadInitialSites().then((function(){e.shouldDefaultToFirstSite&&e.$emit("update:modelValue",{id:e.sites[0].idsite,name:e.sites[0].name})}));var t=a("CoreHome_ShortcutWebsiteSelector");ue.helper.registerShortcut("w",t,(function(t){if(!t.altKey){t.preventDefault?t.preventDefault():t.returnValue=!1;var n=e.$refs.selectorLink;n&&(n.click(),n.focus())}}))},computed:{shouldFocusOnSearch:function(){return this.showSitesList&&this.autocompleteMinSites<=this.sites.length||this.searchTerm},selectorLinkTitle:function(){var e;return this.hasMultipleSites?a("CoreHome_ChangeCurrentWebsite",(null===(e=this.modelValue)||void 0===e?void 0:e.name)||this.firstSiteName):""},hasMultipleSites:function(){var e=ba.initialSitesFiltered.value&&ba.initialSitesFiltered.value.length?ba.initialSitesFiltered.value:ba.initialSites.value;return e&&e.length>1},firstSiteName:function(){var e=ba.initialSitesFiltered.value&&ba.initialSitesFiltered.value.length?ba.initialSitesFiltered.value:ba.initialSites.value;return e&&e.length>0?e[0].name:""},urlAllSites:function(){var e=De.stringify(Object.assign(Object.assign({},De.urlParsed.value),{},{module:"MultiSites",action:"index",date:De.parsed.value.date,period:De.parsed.value.period}));return"?".concat(e)},shouldDefaultToFirstSite:function(){var e;return!(null!==(e=this.modelValue)&&void 0!==e&&e.id)&&(!this.hasMultipleSites||this.defaultToFirstSite)&&this.sites[0]},displayedModelValue:function(){return this.modelValue?this.modelValue:ue.idSite?{id:ue.idSite,name:ue.helper.htmlDecode(ue.siteName)}:this.shouldDefaultToFirstSite?{id:this.sites[0].idsite,name:this.sites[0].name}:null},tooltipContent:function(){return function(){var e=$(this).attr("title")||"";return ue.helper.htmlEntities(e)}}},methods:{onSearchTermChanged:function(){this.searchTerm?(this.isLoading=!0,this.searchSite(this.searchTerm)):(this.isLoading=!1,this.loadInitialSites())},onAllSitesClick:function(e){this.switchSite({id:"all",name:this.$props.allSitesText},e),this.showSitesList=!1},switchSite:function(e,t){var n=-1!==navigator.userAgent.indexOf("Mac OS X")?t.metaKey:t.ctrlKey;t&&n&&t.target&&t.target.href?window.open(t.target.href,"_blank"):(this.$emit("update:modelValue",{id:e.id,name:e.name}),this.switchSiteOnSelect&&this.activeSiteId!==e.id&&ba.loadSite(e.id))},onBlur:function(){this.showSitesList=!1,this.$emit("blur")},onClickSelector:function(){this.hasMultipleSites&&(this.showSitesList=!this.showSitesList,this.isLoading||this.searchTerm||this.loadInitialSites())},onPressEnter:function(e){"Enter"===e.key&&(e.preventDefault(),this.showSitesList=!this.showSitesList,this.showSitesList&&!this.isLoading&&this.loadInitialSites())},getMatchedSiteName:function(e){var t=e.toUpperCase().indexOf(this.searchTerm.toUpperCase());if(-1===t||this.isLoading)return this.htmlEntities(e);var n=this.htmlEntities(e.substring(0,t)),r=this.htmlEntities(e.substring(t+this.searchTerm.length));return"".concat(n,'<span class="autocompleteMatched">').concat(this.searchTerm,"</span>").concat(r)},loadInitialSites:function(){var e=this;return ba.loadInitialSites(this.onlySitesWithAdminAccess,this.sitesToExclude?this.sitesToExclude:[]).then((function(t){e.sites=t||[]}))},searchSite:function(e){var t=this;this.isLoading=!0,ba.searchSite(e,this.onlySitesWithAdminAccess,this.sitesToExclude?this.sitesToExclude:[]).then((function(n){e===t.searchTerm&&n&&(t.sites=n)})).finally((function(){t.isLoading=!1}))},getUrlForSiteId:function(e){var t=De.stringify(Object.assign(Object.assign({},De.urlParsed.value),{},{segment:"",idSite:e})),n=De.stringify(Object.assign(Object.assign({},De.hashParsed.value),{},{segment:"",idSite:e}));return"?".concat(t,"#?").concat(n)},htmlEntities:function(e){return ue.helper.htmlEntities(e)}}});La.render=Na;var Ma=La,_a={ref:"root",class:"quickAccessInside"},Fa=["title","placeholder"],Ra={class:"dropdown"},Ha={class:"no-result"},Ua=["onClick"],$a=["onMouseenter","onClick"],qa={class:"quickAccessMatomoSearch"},Wa=["onMouseenter","onClick"],za=["textContent"],Ga={class:"quick-access-category helpCategory"},Ya=["href"];function Ja(e,t,n,r,o,a){var i=Object(X["resolveDirective"])("focus-if"),l=Object(X["resolveDirective"])("focus-anywhere-but-here");return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",_a,[Object(X["createElementVNode"])("span",{class:"icon-search",onMouseenter:t[0]||(t[0]=function(t){return e.searchActive=!0})},null,32),Object(X["withDirectives"])(Object(X["createElementVNode"])("input",{class:"s",onKeydown:t[1]||(t[1]=function(t){return e.onKeypress(t)}),onFocus:t[2]||(t[2]=function(t){return e.searchActive=!0}),"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.searchTerm=t}),type:"text",tabindex:"2",title:e.quickAccessTitle,placeholder:e.translate("General_Search"),ref:"input"},null,40,Fa),[[X["vModelText"],e.searchTerm],[i,{focused:e.searchActive}]]),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",Ra,[Object(X["withDirectives"])(Object(X["createElementVNode"])("ul",null,[Object(X["createElementVNode"])("li",Ha,Object(X["toDisplayString"])(e.translate("General_SearchNoResults")),1)],512),[[X["vShow"],!(e.numMenuItems>0||e.sites.length)]]),(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.menuItems,(function(t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("ul",{key:t.title},[Object(X["createElementVNode"])("li",{class:"quick-access-category",onClick:function(n){e.searchTerm=t.title,e.searchMenu(e.searchTerm)}},Object(X["toDisplayString"])(t.title),9,Ua),(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(t.items,(function(t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{class:Object(X["normalizeClass"])(["result",{selected:t.menuIndex===e.searchIndex}]),onMouseenter:function(n){return e.searchIndex=t.menuIndex},onClick:function(n){return e.selectMenuItem(t.index)},key:t.index},[Object(X["createElementVNode"])("a",null,Object(X["toDisplayString"])(t.name.trim()),1)],42,$a)})),128))])})),128)),Object(X["createElementVNode"])("ul",qa,[Object(X["withDirectives"])(Object(X["createElementVNode"])("li",{class:"quick-access-category websiteCategory"},Object(X["toDisplayString"])(e.translate("SitesManager_Sites")),513),[[X["vShow"],e.hasSitesSelector&&e.sites.length||e.isLoading]]),Object(X["withDirectives"])(Object(X["createElementVNode"])("li",{class:"no-result"},Object(X["toDisplayString"])(e.translate("MultiSites_LoadingWebsites")),513),[[X["vShow"],e.hasSitesSelector&&e.isLoading]]),(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.sites,(function(t,n){return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{class:Object(X["normalizeClass"])(["result",{selected:e.numMenuItems+n===e.searchIndex}]),onMouseenter:function(t){return e.searchIndex=e.numMenuItems+n},onClick:function(n){return e.selectSite(t.idsite)},key:t.idsite},[Object(X["createElementVNode"])("a",{textContent:Object(X["toDisplayString"])(t.name)},null,8,za)],42,Wa)),[[X["vShow"],e.hasSitesSelector&&!e.isLoading]])})),128))]),Object(X["createElementVNode"])("ul",null,[Object(X["createElementVNode"])("li",Ga,Object(X["toDisplayString"])(e.translate("General_HelpResources")),1),Object(X["createElementVNode"])("li",{class:Object(X["normalizeClass"])([{selected:"help"===e.searchIndex},"quick-access-help"]),onMouseenter:t[4]||(t[4]=function(t){return e.searchIndex="help"})},[Object(X["createElementVNode"])("a",{href:"https://matomo.org?mtm_campaign=App_Help&mtm_source=Matomo_App&mtm_keyword=QuickSearch&s=".concat(encodeURIComponent(e.searchTerm)),target:"_blank"},Object(X["toDisplayString"])(e.translate("CoreHome_SearchOnMatomo",e.searchTerm)),9,Ya)],34)])],512),[[X["vShow"],e.searchTerm&&e.searchActive]])],512)),[[l,{blur:e.onBlur}]])}var Ka=window,Qa=Ka.ListingFormatter;function Xa(e){var t=e.getBoundingClientRect(),n=window.$(window);return t.top>=0&&t.left>=0&&t.bottom<=n.height()&&t.right<=n.width()}function Za(e){e&&e.scrollIntoView&&e.scrollIntoView()}var ei=Object(X["defineComponent"])({directives:{FocusAnywhereButHere:tn,FocusIf:rn},watch:{searchActive:function(e){var t=this.$refs.root;if(t&&t.parentElement){var n=t.parentElement.classList;n.toggle("active",e),n.toggle("expanded",e)}}},mounted:function(){var e=this,t=this.$refs.root;t&&t.parentElement&&t.parentElement.classList.add("quick-access","piwikSelector"),"undefined"!==typeof window.initTopControls&&window.initTopControls&&window.initTopControls(),ue.helper.registerShortcut("f",a("CoreHome_ShortcutSearch"),(function(t){t.altKey||(t.preventDefault(),Za(e.$refs.root),e.activateSearch())}))},data:function(){var e=!!document.querySelector(".segmentEditorPanel");return{menuItems:[],numMenuItems:0,searchActive:!1,searchTerm:"",searchIndex:0,menuIndexCounter:-1,topMenuItems:null,leftMenuItems:null,segmentItems:null,hasSegmentSelector:e,sites:[],isLoading:!1}},created:function(){this.searchMenu=St(this.searchMenu.bind(this))},computed:{hasSitesSelector:function(){return!!document.querySelector('.top_controls .siteSelector,.top_controls [vue-entry="CoreHome.SiteSelector"]')},quickAccessTitle:function(){var e=[a("CoreHome_MenuEntries")];return this.hasSegmentSelector&&e.push(a("CoreHome_Segments")),this.hasSitesSelector&&e.push(a("SitesManager_Sites")),a("CoreHome_QuickAccessTitle",Qa.formatAnd(e))}},emits:["itemSelected","blur"],methods:{onKeypress:function(e){var t=this,n=this.searchTerm&&this.searchActive,r=9===e.which,o=27===e.which;38===e.which?(this.highlightPreviousItem(),e.preventDefault()):40===e.which?(this.highlightNextItem(),e.preventDefault()):13===e.which?this.clickQuickAccessMenuItem():r&&n||o&&n?this.deactivateSearch():setTimeout((function(){t.searchActive=!0,t.searchMenu(t.searchTerm)}))},highlightPreviousItem:function(){this.searchIndex-1<0?this.searchIndex=0:this.searchIndex-=1,this.makeSureSelectedItemIsInViewport()},highlightNextItem:function(){var e=this.$refs.root.querySelectorAll("li.result").length;e<=this.searchIndex+1?this.searchIndex=e-1:this.searchIndex+=1,this.makeSureSelectedItemIsInViewport()},clickQuickAccessMenuItem:function(){var e=this,t=this.getCurrentlySelectedElement();t&&setTimeout((function(){t.click(),e.$emit("itemSelected",t)}),20)},deactivateSearch:function(){this.searchTerm="",this.searchActive=!1,this.$refs.input&&this.$refs.input.blur()},makeSureSelectedItemIsInViewport:function(){var e=this.getCurrentlySelectedElement();e&&!Xa(e)&&Za(e)},getCurrentlySelectedElement:function(){var e=this.$refs.root.querySelectorAll("li.result");if(e&&e.length&&e.item(this.searchIndex))return e.item(this.searchIndex)},searchMenu:function(e){var t=this,n=e.toLowerCase(),r=-1,o={},a=[],i=function(e){var t=Object.assign({},e);r+=1,t.menuIndex=r;var n=t.category;n in o||(a.push({title:n,items:[]}),o[n]=a.length-1);var i=o[n];a[i].items.push(t)};this.resetSearchIndex(),this.hasSitesSelector&&(this.isLoading=!0,ba.searchSite(n).then((function(e){e&&(t.sites=e)})).finally((function(){t.isLoading=!1})));var l=function(e){return-1!==e.name.toLowerCase().indexOf(n)||-1!==e.category.toLowerCase().indexOf(n)};null===this.topMenuItems&&(this.topMenuItems=this.getTopMenuItems()),null===this.leftMenuItems&&(this.leftMenuItems=this.getLeftMenuItems()),null===this.segmentItems&&(this.segmentItems=this.getSegmentItems());var c=this.topMenuItems.filter(l),s=this.leftMenuItems.filter(l),u=this.segmentItems.filter(l);c.forEach(i),s.forEach(i),u.forEach(i),this.numMenuItems=c.length+s.length+u.length,this.menuItems=a},resetSearchIndex:function(){this.searchIndex=0,this.makeSureSelectedItemIsInViewport()},selectSite:function(e){ba.loadSite(e)},selectMenuItem:function(e){var t=document.querySelector("[quick_access='".concat(e,"']"));if(t){this.deactivateSearch();var n=t.getAttribute("href");if(n&&n.length>10&&t&&t.click)try{t.click()}catch(r){window.$(t).click()}else window.$(t).click()}},onBlur:function(){this.searchActive=!1,this.$emit("blur")},activateSearch:function(){this.searchActive=!0},getTopMenuItems:function(){var e=this,t=a("CoreHome_Menu"),n=[];return document.querySelectorAll("nav .sidenav li > a, nav .sidenav li > div > a").forEach((function(r){var o,a,i=null===(o=r.textContent)||void 0===o?void 0:o.trim();(!i||null!=r.parentElement&&null!=r.parentElement.tagName&&"DIV"===r.parentElement.tagName)&&(i=null===(a=r.getAttribute("title"))||void 0===a?void 0:a.trim());i&&(n.push({name:i,index:e.menuIndexCounter+=1,category:t}),r.setAttribute("quick_access","".concat(e.menuIndexCounter)))})),n},getLeftMenuItems:function(){var e=this,t=[];return document.querySelectorAll("#secondNavBar .menuTab").forEach((function(n){var r,o=window.$(n).find("> .item"),a=(null===(r=o[0])||void 0===r?void 0:r.innerText.trim())||"";a&&-1!==a.lastIndexOf("\n")&&(a=a.slice(0,a.lastIndexOf("\n")).trim()),window.$(n).find("li .item").each((function(n,r){var o,i=null===(o=r.textContent)||void 0===o?void 0:o.trim();i&&(t.push({name:i,category:a,index:e.menuIndexCounter+=1}),r.setAttribute("quick_access","".concat(e.menuIndexCounter)))}))})),t},getSegmentItems:function(){var e=this;if(!this.hasSegmentSelector)return[];var t=a("CoreHome_Segments"),n=[];return document.querySelectorAll(".segmentList [data-idsegment]").forEach((function(r){var o,a,i=null===(o=r.querySelector(".segname"))||void 0===o||null===(a=o.textContent)||void 0===a?void 0:a.trim();i&&(n.push({name:i,category:t,index:e.menuIndexCounter+=1}),r.setAttribute("quick_access","".concat(e.menuIndexCounter)))})),n}}});ei.render=Ja;var ti=ei;function ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ri={class:"fieldArray form-group"},oi={key:0,class:"fieldUiControl"},ai=["onClick","title"];function ii(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("Field");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",ri,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.modelValue,(function(t,n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:Object(X["normalizeClass"])(["fieldArrayTable multiple valign-wrapper",ni({},"fieldArrayTable".concat(n),!0)]),key:n},[e.field.uiControl?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",oi,[Object(X["createVNode"])(i,{"full-width":!0,"model-value":t,options:e.field.availableValues,"onUpdate:modelValue":function(t){return e.onEntryChange(t,n)},"model-modifiers":e.field.modelModifiers,placeholder:" ",uicontrol:e.field.uiControl,title:e.field.title,name:"".concat(e.name,"-").concat(n),"template-file":e.field.templateFile,component:e.field.component},null,8,["model-value","options","onUpdate:modelValue","model-modifiers","uicontrol","title","name","template-file","component"])])):Object(X["createCommentVNode"])("",!0),Object(X["withDirectives"])(Object(X["createElementVNode"])("span",{onClick:function(t){return e.removeEntry(n)},class:"icon-minus valign",title:e.translate("General_Remove")},null,8,ai),[[X["vShow"],n+1!==e.modelValue.length]])],2)})),128))])}function li(e){return di(e)||ui(e)||si(e)||ci()}function ci(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function si(e,t){if(e){if("string"===typeof e)return mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mi(e,t):void 0}}function ui(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function di(e){if(Array.isArray(e))return mi(e)}function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pi=Ot("CorePluginsAdmin","Field"),fi=Object(X["defineComponent"])({props:{modelValue:Array,name:String,field:Object,rows:String},components:{Field:pi},emits:["update:modelValue"],watch:{modelValue:function(e){this.checkEmptyModelValue(e)}},mounted:function(){this.checkEmptyModelValue(this.modelValue)},methods:{checkEmptyModelValue:function(e){e&&e.length&&""===e.slice(-1)[0]||this.rows&&!((this.modelValue||[]).length<parseInt(this.rows,10))||this.$emit("update:modelValue",[].concat(li(e||[]),[""]))},onEntryChange:function(e,t){var n=li(this.modelValue||[]);n[t]=e,this.$emit("update:modelValue",n)},removeEntry:function(e){if(e>-1&&this.modelValue){var t=this.modelValue.filter((function(t,n){return n!==e}));this.$emit("update:modelValue",t)}}}});fi.render=ii;var hi=fi;function bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gi={class:"multiPairField form-group"},vi={key:1,class:"fieldUiControl fieldUiControl2"},yi={key:2,class:"fieldUiControl fieldUiControl3"},Oi={key:3,class:"fieldUiControl fieldUiControl4"},ji=["onClick","title"];function wi(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("Field");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",gi,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.modelValue,(function(t,n){var r;return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:Object(X["normalizeClass"])(["multiPairFieldTable multiple valign-wrapper",(r={},bi(r,"multiPairFieldTable".concat(n),!0),bi(r,"has".concat(e.fieldCount,"Fields"),!0),r)]),key:n},[e.field1?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{key:0,class:Object(X["normalizeClass"])(["fieldUiControl fieldUiControl1",{hasMultiFields:e.field1.type&&e.field2.type}])},[Object(X["createVNode"])(i,{"full-width":!0,"model-value":t[e.field1.key],options:e.field1.availableValues,"onUpdate:modelValue":function(t){return e.onEntryChange(n,e.field1.key,t)},"model-modifiers":e.field1.modelModifiers,placeholder:" ",uicontrol:e.field1.uiControl,name:"".concat(e.name,"-p1-").concat(n),title:e.field1.title,"template-file":e.field1.templateFile,component:e.field1.component},null,8,["model-value","options","onUpdate:modelValue","model-modifiers","uicontrol","name","title","template-file","component"])],2)):Object(X["createCommentVNode"])("",!0),e.field2?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",vi,[Object(X["createVNode"])(i,{"full-width":!0,options:e.field2.availableValues,"onUpdate:modelValue":function(t){return e.onEntryChange(n,e.field2.key,t)},"model-value":t[e.field2.key],"model-modifiers":e.field2.modelModifiers,placeholder:" ",uicontrol:e.field2.uiControl,name:"".concat(e.name,"-p2-").concat(n),title:e.field2.title,"template-file":e.field2.templateFile,component:e.field2.component},null,8,["options","onUpdate:modelValue","model-value","model-modifiers","uicontrol","name","title","template-file","component"])])):Object(X["createCommentVNode"])("",!0),e.field3?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",yi,[Object(X["createVNode"])(i,{"full-width":!0,options:e.field3.availableValues,"onUpdate:modelValue":function(t){return e.onEntryChange(n,e.field3.key,t)},"model-value":t[e.field3.key],"model-modifiers":e.field3.modelModifiers,placeholder:" ",uicontrol:e.field3.uiControl,title:e.field3.title,"template-file":e.field3.templateFile,component:e.field3.component},null,8,["options","onUpdate:modelValue","model-value","model-modifiers","uicontrol","title","template-file","component"])])):Object(X["createCommentVNode"])("",!0),e.field4?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Oi,[Object(X["createVNode"])(i,{"full-width":!0,options:e.field4.availableValues,"onUpdate:modelValue":function(t){return e.onEntryChange(n,e.field4.key,t)},"model-value":t[e.field4.key],"model-modifiers":e.field4.modelModifiers,placeholder:" ",uicontrol:e.field4.uiControl,title:e.field4.title,"template-file":e.field4.templateFile,component:e.field4.component},null,8,["options","onUpdate:modelValue","model-value","model-modifiers","uicontrol","title","template-file","component"])])):Object(X["createCommentVNode"])("",!0),Object(X["withDirectives"])(Object(X["createElementVNode"])("span",{onClick:function(t){return e.removeEntry(n)},class:"icon-minus valign",title:e.translate("General_Remove")},null,8,ji),[[X["vShow"],n+1!==e.modelValue.length]])],2)})),128))])}function ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Si(e){return Pi(e)||Di(e)||Ei(e)||Ci()}function Ci(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ei(e,t){if(e){if("string"===typeof e)return Ti(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ti(e,t):void 0}}function Di(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Pi(e){if(Array.isArray(e))return Ti(e)}function Ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vi=Ot("CorePluginsAdmin","Field"),Ni=Object(X["defineComponent"])({props:{modelValue:Array,name:String,field1:Object,field2:Object,field3:Object,field4:Object,rows:Number},components:{Field:Vi},computed:{fieldCount:function(){return this.field1&&this.field2&&this.field3&&this.field4?4:this.field1&&this.field2&&this.field3?3:this.field1&&this.field2?2:this.field1?1:0}},emits:["update:modelValue"],watch:{modelValue:function(e){this.checkEmptyModelValue(e)}},mounted:function(){this.checkEmptyModelValue(this.modelValue)},methods:{checkEmptyModelValue:function(e){e&&e.length&&!this.isEmptyValue(e.slice(-1)[0])||this.rows&&!(this.modelValue.length<this.rows)||this.$emit("update:modelValue",[].concat(Si(e||[]),[this.makeEmptyValue()]))},onEntryChange:function(e,t,n){var r=Si(this.modelValue);r[e]=Object.assign(Object.assign({},r[e]),{},ki({},t,n)),this.$emit("update:modelValue",r)},removeEntry:function(e){if(e>-1&&this.modelValue){var t=this.modelValue.filter((function(t,n){return n!==e}));this.$emit("update:modelValue",t)}},isEmptyValue:function(e){var t=this.fieldCount;if(4===t){if(!e[this.field1.key]&&!e[this.field2.key]&&!e[this.field3.key]&&!e[this.field4.key])return!1}else if(3===t){if(!e[this.field1.key]&&!e[this.field2.key]&&!e[this.field3.key])return!1}else if(2===t){if(!e[this.field1.key]&&!e[this.field2.key])return!1}else if(1===t&&!e[this.field1.key])return!1;return!0},makeEmptyValue:function(){var e={};return this.field1&&this.field1.key&&(e[this.field1.key]=""),this.field2&&this.field2.key&&(e[this.field2.key]=""),this.field3&&this.field3.key&&(e[this.field3.key]=""),this.field4&&this.field4.key&&(e[this.field4.key]=""),e}}});Ni.render=wi;var Ii=Ni,xi=["disabled"],Bi=Object(X["createElementVNode"])("span",{class:"icon-chevron-left"},null,-1),Ai=[Bi],Li=["title"],Mi=Object(X["createElementVNode"])("span",{class:"icon icon-calendar"},null,-1),_i={id:"periodMore",class:"dropdown"},Fi={class:"flex"},Ri={key:0,class:"period-date"},Hi={class:"period-type"},Ui={id:"otherPeriods"},$i=["onDblclick","title"],qi=["id","checked","onChange","onDblclick"],Wi={key:0,class:"compare-checkbox"},zi={id:"comparePeriodToDropdown"},Gi={key:1,class:"compare-date-range"},Yi={id:"comparePeriodStartDate"},Ji=Object(X["createElementVNode"])("span",{class:"compare-dates-separator"},null,-1),Ki={id:"comparePeriodEndDate"},Qi={class:"apply-button-container"},Xi=["disabled","value"],Zi={key:2,id:"ajaxLoadingCalendar"},el={class:"loadingSegment"},tl=["disabled"],nl=Object(X["createElementVNode"])("span",{class:"icon-chevron-right"},null,-1),rl=[nl];function ol(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("DateRangePicker"),l=Object(X["resolveComponent"])("PeriodDatePicker"),c=Object(X["resolveComponent"])("Field"),s=Object(X["resolveComponent"])("ActivityIndicator"),u=Object(X["resolveDirective"])("expand-on-click");return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{ref:"root",class:Object(X["normalizeClass"])(["periodSelector piwikSelector",{"periodSelector-withPrevNext":e.canShowMovePeriod}])},[e.canShowMovePeriod?(Object(X["openBlock"])(),Object(X["createElementBlock"])("button",{key:0,class:"move-period move-period-prev",onClick:t[0]||(t[0]=function(t){return e.movePeriod(-1)}),disabled:e.isPeriodMoveDisabled(-1)},Ai,8,xi)):Object(X["createCommentVNode"])("",!0),Object(X["createElementVNode"])("a",{ref:"title",id:"date",class:"title",tabindex:"-1",title:e.translate("General_ChooseDate",e.currentlyViewingText)},[Mi,Object(X["createTextVNode"])(" "+Object(X["toDisplayString"])(e.currentlyViewingText),1)],8,Li),Object(X["createElementVNode"])("div",_i,[Object(X["createElementVNode"])("div",Fi,[Object(X["createElementVNode"])("div",null,[Object(X["withDirectives"])(Object(X["createVNode"])(i,{class:"period-range","start-date":e.startRangeDate,"end-date":e.endRangeDate,onRangeChange:t[1]||(t[1]=function(t){return e.onRangeChange(t.start,t.end)}),onSubmit:t[2]||(t[2]=function(t){return e.onApplyClicked()})},null,8,["start-date","end-date"]),[[X["vShow"],"range"===e.selectedPeriod]]),"range"!==e.selectedPeriod?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Ri,[Object(X["createVNode"])(l,{id:"datepicker",period:e.selectedPeriod,date:e.periodValue===e.selectedPeriod?e.dateValue:null,onSelect:t[3]||(t[3]=function(t){return e.setPiwikPeriodAndDate(e.selectedPeriod,t.date)})},null,8,["period","date"])])):Object(X["createCommentVNode"])("",!0)]),Object(X["createElementVNode"])("div",Hi,[Object(X["createElementVNode"])("h6",null,Object(X["toDisplayString"])(e.translate("General_Period")),1),Object(X["createElementVNode"])("div",Ui,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.periodsFiltered,(function(n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("p",{key:n},[Object(X["createElementVNode"])("label",{class:Object(X["normalizeClass"])({"selected-period-label":n===e.selectedPeriod}),onDblclick:function(t){return e.changeViewedPeriod(n)},title:n===e.periodValue?"":e.translate("General_DoubleClickToChangePeriod")},[Object(X["withDirectives"])(Object(X["createElementVNode"])("input",{type:"radio",name:"period",id:"period_id_".concat(n),"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedPeriod=t}),checked:e.selectedPeriod===n,onChange:function(t){return e.selectedPeriod=n},onDblclick:function(t){return e.changeViewedPeriod(n)}},null,40,qi),[[X["vModelRadio"],e.selectedPeriod]]),Object(X["createElementVNode"])("span",null,Object(X["toDisplayString"])(e.getPeriodDisplayText(n)),1)],42,$i)])})),128))])])]),e.isComparisonEnabled?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Wi,[Object(X["createElementVNode"])("label",null,[Object(X["withDirectives"])(Object(X["createElementVNode"])("input",{id:"comparePeriodTo",type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.isComparing=t})},null,512),[[X["vModelCheckbox"],e.isComparing]]),Object(X["createElementVNode"])("span",null,Object(X["toDisplayString"])(e.translate("General_CompareTo")),1)]),Object(X["createElementVNode"])("div",zi,[Object(X["createVNode"])(c,{modelValue:e.comparePeriodType,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.comparePeriodType=t}),style:Object(X["normalizeStyle"])({visibility:e.isComparing?"visible":"hidden"}),name:"comparePeriodToDropdown",uicontrol:"select",options:e.comparePeriodDropdownOptions,"full-width":!0,disabled:!e.isComparing},null,8,["modelValue","style","options","disabled"])])])):Object(X["createCommentVNode"])("",!0),e.isComparing&&"custom"===e.comparePeriodType?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Gi,[Object(X["createElementVNode"])("div",null,[Object(X["createElementVNode"])("div",Yi,[Object(X["createElementVNode"])("div",null,[Object(X["createVNode"])(c,{modelValue:e.compareStartDate,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.compareStartDate=t}),name:"comparePeriodStartDate",uicontrol:"text","full-width":!0,title:e.translate("CoreHome_StartDate"),placeholder:"YYYY-MM-DD"},null,8,["modelValue","title"])])]),Ji,Object(X["createElementVNode"])("div",Ki,[Object(X["createElementVNode"])("div",null,[Object(X["createVNode"])(c,{modelValue:e.compareEndDate,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.compareEndDate=t}),name:"comparePeriodEndDate",uicontrol:"text","full-width":!0,title:e.translate("CoreHome_EndDate"),placeholder:"YYYY-MM-DD"},null,8,["modelValue","title"])])])])])):Object(X["createCommentVNode"])("",!0),Object(X["createElementVNode"])("div",Qi,[Object(X["createElementVNode"])("input",{type:"submit",id:"calendarApply",class:"btn",onClick:t[9]||(t[9]=function(t){return e.onApplyClicked()}),disabled:!e.isApplyEnabled(),value:e.translate("General_Apply")},null,8,Xi)]),e.isLoadingNewPage?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Zi,[Object(X["createVNode"])(s,{loading:!0}),Object(X["createElementVNode"])("div",el,Object(X["toDisplayString"])(e.translate("SegmentEditor_LoadingSegmentedDataMayTakeSomeTime")),1)])):Object(X["createCommentVNode"])("",!0)]),e.canShowMovePeriod?(Object(X["openBlock"])(),Object(X["createElementBlock"])("button",{key:1,class:"move-period move-period-next",onClick:t[10]||(t[10]=function(t){return e.movePeriod(1)}),disabled:e.isPeriodMoveDisabled(1)},rl,8,tl)):Object(X["createCommentVNode"])("",!0)],2)),[[u,{expander:"title"}]])}function al(e,t){return ul(e)||sl(e,t)||ll(e,t)||il()}function il(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ll(e,t){if(e){if("string"===typeof e)return cl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cl(e,t):void 0}}function cl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sl(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function ul(e){if(Array.isArray(e))return e}var dl=Ot("CorePluginsAdmin","Field"),ml=ue.helper.htmlDecode("&nbsp;"),pl=["custom","previousPeriod","previousYear"],fl=[{key:"custom",value:a("General_Custom")},{key:"previousPeriod",value:a("General_PreviousPeriod").replace(/\s+/,ml)},{key:"previousYear",value:a("General_PreviousYear").replace(/\s+/,ml)}],hl=new Date(ue.minDateYear,ue.minDateMonth-1,ue.minDateDay),bl=new Date(ue.maxDateYear,ue.maxDateMonth-1,ue.maxDateDay);function gl(e){return"[object Date]"===Object.prototype.toString.call(e)&&!Number.isNaN(e.getTime())}var vl=Object(X["defineComponent"])({props:{periods:Array},components:{DateRangePicker:Po,PeriodDatePicker:xo,Field:dl,ActivityIndicator:qt},directives:{ExpandOnClick:wn},data:function(){var e=De.parsed.value.period;return{comparePeriodDropdownOptions:fl,periodValue:e,dateValue:null,selectedPeriod:e,startRangeDate:null,endRangeDate:null,isRangeValid:null,isLoadingNewPage:!1,isComparing:null,comparePeriodType:"previousPeriod",compareStartDate:"",compareEndDate:""}},mounted:function(){var e=this;ue.on("hidePeriodSelector",(function(){window.$(e.$refs.root).parent("#periodString").hide()})),ue.on("matomoPageChange",(function(){window.$(e.$refs.root).parent("#periodString").show()})),this.isComparing=Qr.isComparingPeriods(),Object(X["watch"])((function(){return Qr.isComparingPeriods()}),(function(t){e.isComparing=t})),this.updateSelectedValuesFromHash(),Object(X["watch"])((function(){return De.parsed.value}),this.updateSelectedValuesFromHash),this.updateComparisonValuesFromStore(),Object(X["watch"])((function(){return Qr.getPeriodComparisons()}),this.updateComparisonValuesFromStore),window.initTopControls(),this.handleZIndexPositionRelativeCompareDropdownIssue()},computed:{currentlyViewingText:function(){var e;if("range"===this.periodValue){if(!this.startRangeDate||!this.endRangeDate)return a("General_Error");e="".concat(this.startRangeDate,",").concat(this.endRangeDate)}else{if(!this.dateValue)return a("General_Error");e=p(this.dateValue)}try{return m.parse(this.periodValue,e).getPrettyString()}catch(t){return a("General_Error")}},isComparisonEnabled:function(){return Qr.isComparisonEnabled()},periodsFiltered:function(){return(this.periods||[]).filter((function(e){return m.isRecognizedPeriod(e)}))},selectedComparisonParams:function(){if(!this.isComparing)return{};if("custom"===this.comparePeriodType)return{comparePeriods:["range"],comparePeriodType:"custom",compareDates:["".concat(this.compareStartDate,",").concat(this.compareEndDate)]};if("previousPeriod"===this.comparePeriodType)return{comparePeriods:[this.selectedPeriod],comparePeriodType:"previousPeriod",compareDates:[this.previousPeriodDateToSelectedPeriod]};if("previousYear"===this.comparePeriodType){var e="range"===this.selectedPeriod?"".concat(this.startRangeDate,",").concat(this.endRangeDate):p(this.dateValue),t=m.parse(this.selectedPeriod,e).getDateRange();return t[0].setFullYear(t[0].getFullYear()-1),t[1].setFullYear(t[1].getFullYear()-1),"range"===this.selectedPeriod?{comparePeriods:["range"],comparePeriodType:"previousYear",compareDates:["".concat(p(t[0]),",").concat(p(t[1]))]}:{comparePeriods:[this.selectedPeriod],comparePeriodType:"previousYear",compareDates:[p(t[0])]}}return console.warn("Unknown compare period type: ".concat(this.comparePeriodType)),{}},previousPeriodDateToSelectedPeriod:function(){if("range"===this.selectedPeriod){var e=h(this.startRangeDate),t=h(this.endRangeDate),n=K.getLastNRange("day",2,e).startDate,r=Math.floor((t.valueOf()-e.valueOf())/864e5),o=K.getLastNRange("day",1+r,n);return"".concat(p(o.startDate),",").concat(p(o.endDate))}var a=K.getLastNRange(this.selectedPeriod,2,this.dateValue).startDate;return p(a)},selectedDateString:function(){if("range"===this.selectedPeriod){var e=this.startRangeDate,t=this.endRangeDate,n=h(e),r=h(t);return!gl(n)||!gl(r)||n>r?(window.$("#alert").find("h2").text(a("General_InvalidDateRange")),ue.helper.modalConfirm("#alert",{}),null):"".concat(e,",").concat(t)}return p(this.dateValue)},isErrorDisplayed:function(){return this.currentlyViewingText===a("General_Error")},isRangeSelection:function(){return"range"===this.periodValue},canShowMovePeriod:function(){return!this.isRangeSelection&&!this.isErrorDisplayed}},methods:{handleZIndexPositionRelativeCompareDropdownIssue:function(){var e=window.$(this.$refs.root);e.on("focus","#comparePeriodToDropdown .select-dropdown",(function(){e.addClass("compare-dropdown-open")})).on("blur","#comparePeriodToDropdown .select-dropdown",(function(){e.removeClass("compare-dropdown-open")}))},changeViewedPeriod:function(e){e!==this.periodValue&&"range"!==e&&this.setPiwikPeriodAndDate(e,this.dateValue)},setPiwikPeriodAndDate:function(e,t){this.periodValue=e,this.selectedPeriod=e,this.dateValue=t;var n=p(t);this.setRangeStartEndFromPeriod(e,n),this.propagateNewUrlParams(n,this.selectedPeriod),window.initTopControls()},propagateNewUrlParams:function(e,t){var n,r=this.selectedComparisonParams;ue.helper.isReportingPage()?(this.closePeriodSelector(),n=De.hashParsed.value):(this.isLoadingNewPage=!0,n=De.parsed.value);var o=Object.assign({},n);delete o.comparePeriods,delete o.comparePeriodType,delete o.compareDates,De.updateLocation(Object.assign(Object.assign({},o),{},{date:e,period:t},r))},onApplyClicked:function(){if("range"===this.selectedPeriod){var e=this.selectedDateString;if(!e)return;return this.periodValue="range",void this.propagateNewUrlParams(e,"range")}this.setPiwikPeriodAndDate(this.selectedPeriod,this.dateValue)},updateComparisonValuesFromStore:function(){this.comparePeriodType="previousPeriod",this.compareStartDate="",this.compareEndDate="";var e=Qr.getPeriodComparisons();if(!(e.length<2)){var t=De.parsed.value.comparePeriodType;if(pl.includes(t)&&(this.comparePeriodType=t,"custom"===this.comparePeriodType&&"range"===e[1].params.period)){var n;try{n=m.parse(e[1].params.period,e[1].params.date)}catch(l){return}var r=n.getDateRange(),o=al(r,2),a=o[0],i=o[1];this.compareStartDate=p(a),this.compareEndDate=p(i)}}},updateSelectedValuesFromHash:function(){var e=De.parsed.value.date,t=De.parsed.value.period;this.periodValue=t,this.selectedPeriod=t,this.dateValue=null,this.startRangeDate=null,this.endRangeDate=null;try{m.parse(t,e)}catch(l){return}if("range"===t){var n=m.get(t).parse(e),r=n.getDateRange(),o=al(r,2),a=o[0],i=o[1];this.dateValue=a,this.startRangeDate=p(a),this.endRangeDate=p(i)}else this.dateValue=h(e),this.setRangeStartEndFromPeriod(t,e)},setRangeStartEndFromPeriod:function(e,t){var n=m.parse(e,t).getDateRange();this.startRangeDate=p(n[0]<hl?hl:n[0]),this.endRangeDate=p(n[1]>bl?bl:n[1])},getPeriodDisplayText:function(e){return m.get(e).getDisplayText()},onRangeChange:function(e,t){e&&t?(this.isRangeValid=!0,this.startRangeDate=e,this.endRangeDate=t):this.isRangeValid=!1},isApplyEnabled:function(){return!("range"===this.selectedPeriod&&!this.isRangeValid)&&!(this.isComparing&&"custom"===this.comparePeriodType&&!this.isCompareRangeValid())},closePeriodSelector:function(){this.$refs.root.classList.remove("expanded")},isCompareRangeValid:function(){try{h(this.compareStartDate)}catch(e){return!1}try{h(this.compareEndDate)}catch(e){return!1}return!0},movePeriod:function(e){if(this.canMovePeriod(e)){var t=new Date;switch(null!=this.dateValue&&(t=this.dateValue),this.periodValue){case"day":t.setDate(t.getDate()+e);break;case"week":t.setDate(t.getDate()+7*e);break;case"month":t.setMonth(t.getMonth()+e);break;case"year":t.setFullYear(t.getFullYear()+e);break;default:break}this.dateValue<hl&&(this.dateValue=hl),this.dateValue>bl&&(this.dateValue=bl),this.onApplyClicked()}},isPeriodMoveDisabled:function(e){return null===this.dateValue?this.isRangeSelection:this.isRangeSelection||!this.canMovePeriod(e)},canMovePeriod:function(e){if(null===this.dateValue)return!1;var t=-1===e?hl:bl;return!v(this.dateValue,t,this.periodValue)}}});vl.render=ol;var yl=vl,Ol={class:"reportingMenu"},jl=["aria-label"],wl=["data-category-id"],kl=["onClick"],Sl={class:"hidden"},Cl={key:2,role:"menu"},El=["href","onClick","title"],Dl=["href","onClick"],Pl=["onClick"],Tl=Object(X["createElementVNode"])("span",{class:"icon-help"},null,-1),Vl=[Tl],Nl={id:"mobile-left-menu",class:"sidenav sidenav--reporting-menu-mobile hide-on-large-only"},Il=["data-category-id"],xl={key:1,class:"collapsible collapsible-accordion"},Bl={class:"collapsible-header"},Al={class:"collapsible-body"},Ll=["onClick","href"],Ml=["onClick","href"];function _l(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("MenuItemsDropdown"),l=Object(X["resolveDirective"])("side-nav");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Ol,[Object(X["createElementVNode"])("ul",{class:"navbar hide-on-med-and-down collapsible",role:"menu","aria-label":e.translate("CoreHome_MainNavigation")},[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.menu,(function(t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{class:Object(X["normalizeClass"])(["menuTab",{active:t.id===e.activeCategory}]),role:"menuitem",key:t.id,"data-category-id":t.id},[t.component?(Object(X["openBlock"])(),Object(X["createBlock"])(Object(X["resolveDynamicComponent"])(t.component),{key:0,onAction:function(n){return e.loadCategory(t)}},null,8,["onAction"])):Object(X["createCommentVNode"])("",!0),t.component?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,class:"item",tabindex:"5",href:"",onClick:Object(X["withModifiers"])((function(n){return e.loadCategory(t)}),["prevent"])},[Object(X["createElementVNode"])("span",{class:Object(X["normalizeClass"])("menu-icon ".concat(t.icon?t.icon:t.subcategories&&t.id===e.activeCategory?"icon-chevron-down":"icon-chevron-right"))},null,2),Object(X["createTextVNode"])(Object(X["toDisplayString"])(t.name)+" ",1),Object(X["createElementVNode"])("span",Sl,Object(X["toDisplayString"])(e.translate("CoreHome_Menu")),1)],8,kl)),t.component?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("ul",Cl,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(t.subcategories,(function(n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{role:"menuitem",class:Object(X["normalizeClass"])({active:(n.id===e.displayedSubcategory||n.isGroup&&e.activeSubsubcategory===e.displayedSubcategory)&&t.id===e.displayedCategory}),key:n.id},[n.isGroup?(Object(X["openBlock"])(),Object(X["createBlock"])(i,{key:0,"show-search":!0,"menu-title":e.htmlEntities(n.name)},{default:Object(X["withCtx"])((function(){return[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(n.subcategories,(function(r){return Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{class:Object(X["normalizeClass"])(["item",{active:r.id===e.activeSubsubcategory&&n.id===e.displayedSubcategory&&t.id===e.displayedCategory}]),tabindex:"5",href:"#?".concat(e.makeUrl(t,r)),onClick:function(n){return e.loadSubcategory(t,r,n)},title:r.tooltip,key:r.id},Object(X["toDisplayString"])(r.name),11,El)})),128))]})),_:2},1032,["menu-title"])):Object(X["createCommentVNode"])("",!0),n.isGroup?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,href:"#?".concat(e.makeUrl(t,n)),class:"item",onClick:function(r){return e.loadSubcategory(t,n,r)}},Object(X["toDisplayString"])(n.name),9,Dl)),n.help?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:2,class:Object(X["normalizeClass"])(["item-help-icon",{active:e.helpShownCategory&&e.helpShownCategory.subcategory===n.id&&e.helpShownCategory.category===t.id&&n.help}]),tabindex:"5",href:"javascript:",onClick:function(r){return e.showHelp(t,n,r)}},Vl,10,Pl)):Object(X["createCommentVNode"])("",!0)],2)})),128))]))],10,wl)})),128))],8,jl),Object(X["createElementVNode"])("ul",Nl,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.menu,(function(t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{class:"no-padding",key:t.id,"data-category-id":t.id},[t.component?(Object(X["openBlock"])(),Object(X["createBlock"])(Object(X["resolveDynamicComponent"])(t.component),{key:0,onAction:function(n){return e.loadCategory(t)}},null,8,["onAction"])):Object(X["createCommentVNode"])("",!0),t.component?Object(X["createCommentVNode"])("",!0):Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("ul",xl,[Object(X["createElementVNode"])("li",null,[Object(X["createElementVNode"])("a",Bl,[Object(X["createElementVNode"])("i",{class:Object(X["normalizeClass"])(t.icon?t.icon:"icon-chevron-down")},null,2),Object(X["createTextVNode"])(Object(X["toDisplayString"])(t.name),1)]),Object(X["createElementVNode"])("div",Al,[Object(X["createElementVNode"])("ul",null,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(t.subcategories,(function(n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{key:n.id},[n.isGroup?(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],{key:0},Object(X["renderList"])(n.subcategories,(function(n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{onClick:function(r){return e.loadSubcategory(t,n)},href:"#?".concat(e.makeUrl(t,n)),key:n.id},Object(X["toDisplayString"])(n.name),9,Ll)})),128)):Object(X["createCommentVNode"])("",!0),n.isGroup?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,onClick:function(r){return e.loadSubcategory(t,n)},href:"#?".concat(e.makeUrl(t,n))},Object(X["toDisplayString"])(n.name),9,Ml))])})),128))])])])],512)),[[l,{activator:e.sideNavActivator}]])],8,Il)})),128))])])}function Fl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hl(e,t,n){return t&&Rl(e.prototype,t),n&&Rl(e,n),e}function Ul(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var $l=function(){function e(){var t=this;Fl(this,e),Ul(this,"privateState",Object(X["reactive"])({pages:[]})),Ul(this,"state",Object(X["computed"])((function(){return Object(X["readonly"])(t.privateState)}))),Ul(this,"fetchAllPagesPromise",void 0),Ul(this,"pages",Object(X["computed"])((function(){return t.state.value.pages})))}return Hl(e,[{key:"findPageInCategory",value:function(e){return this.pages.value.find((function(t){return t&&t.category&&t.category.id===e&&t.subcategory&&t.subcategory.id}))}},{key:"findPage",value:function(e,t){return this.pages.value.find((function(n){return n&&n.category&&n.subcategory&&n.category.id===e&&"".concat(n.subcategory.id)===t}))}},{key:"reloadAllPages",value:function(){return delete this.fetchAllPagesPromise,this.getAllPages()}},{key:"getAllPages",value:function(){var e=this;return this.fetchAllPagesPromise||(this.fetchAllPagesPromise=Ze.fetch({method:"API.getReportPagesMetadata",filter_limit:"-1"}).then((function(t){return e.privateState.pages=t,e.pages.value}))),this.fetchAllPagesPromise.then((function(){return e.pages.value}))}}]),e}(),ql=new $l;function Wl(e){return Jl(e)||Yl(e)||Gl(e)||zl()}function zl(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gl(e,t){if(e){if("string"===typeof e)return Kl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kl(e,t):void 0}}function Yl(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Jl(e){if(Array.isArray(e))return Kl(e)}function Kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Ql(e){var t=Wl(e||[]);return t.sort((function(e,t){return e.order<t.order?-1:e.order>t.order?1:0})),t}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Xl(e){var t=e;return t.subcategories?t.subcategories:[]}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Zl(e){var t=e;return t.subcategories?t.subcategories:[]}function ec(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nc(e,t,n){return t&&tc(e.prototype,t),n&&tc(e,n),e}function rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function oc(e){var t=parseFloat(e);return!Number.isNaN(t)&&Number.isFinite(t)}var ac=function(){function e(){var t=this;ec(this,e),rc(this,"privateState",Object(X["reactive"])({activeSubcategoryId:null,activeSubsubcategoryId:null})),rc(this,"state",Object(X["computed"])((function(){return Object(X["readonly"])(t.privateState)}))),rc(this,"activeCategory",Object(X["computed"])((function(){return"undefined"!==typeof t.state.value.activeCategoryId?t.state.value.activeCategoryId:De.parsed.value.category}))),rc(this,"activeSubcategory",Object(X["computed"])((function(){return t.state.value.activeSubcategoryId||De.parsed.value.subcategory}))),rc(this,"activeSubsubcategory",Object(X["computed"])((function(){var e=t.state.value.activeSubsubcategoryId;if(e)return e;var n=t.findSubcategory(t.activeCategory.value,t.activeSubcategory.value);return n.subsubcategory&&n.subsubcategory.id===t.activeSubcategory.value?n.subsubcategory.id:null}))),rc(this,"menu",Object(X["computed"])((function(){return t.buildMenuFromPages()})))}return nc(e,[{key:"fetchMenuItems",value:function(){var e=this;return ql.getAllPages().then((function(){return e.menu.value}))}},{key:"reloadMenuItems",value:function(){var e=this;return ql.reloadAllPages().then((function(){return e.menu.value}))}},{key:"findSubcategory",value:function(e,t){var n=void 0,r=void 0,o=void 0;return this.menu.value.forEach((function(a){a.id===e&&(Xl(a)||[]).forEach((function(e){e.id===t&&(n=a,r=e),e.isGroup&&(Zl(e)||[]).forEach((function(i){i.id===t&&(n=a,r=e,o=i)}))}))})),{category:n,subcategory:r,subsubcategory:o}}},{key:"buildMenuFromPages",value:function(){var e=[],t=De.parsed.value.category,n=De.parsed.value.subcategory,r=ql.pages.value,o={};return r.forEach((function(i){var l=Object.assign({},i.category),c=l.id,s=c===t;if(!o[c]){o[c]=!0,l.subcategories=[];var u=null,d=r.filter((function(e){return e.category.id===c}));d.forEach((function(e){var t=Object.assign({},e.subcategory),r=t.id===n&&s;if(e.widgets&&e.widgets[0]&&oc(e.subcategory.id)){u||(u=Object.assign({},t),u.name=a("CoreHome_ChooseX",[l.name]),u.isGroup=!0,u.subcategories=[],u.order=10),r&&(u.name=t.name);var o=t.id;return t.tooltip="".concat(t.name," (id = ").concat(o,")"),void u.subcategories.push(t)}l.subcategories.push(t)})),u&&u.subcategories&&u.subcategories.length<=5?u.subcategories.forEach((function(e){return l.subcategories.push(e)})):u&&l.subcategories.push(u),l.subcategories=Ql(Xl(l)),e.push(l)}})),Ql(e)}},{key:"toggleCategory",value:function(e){return this.privateState.activeSubcategoryId=null,this.privateState.activeSubsubcategoryId=null,this.activeCategory.value===e.id?(this.privateState.activeCategoryId=null,!1):(this.privateState.activeCategoryId=e.id,!0)}},{key:"enterSubcategory",value:function(e,t,n){e&&t&&(this.privateState.activeCategoryId=e.id,this.privateState.activeSubcategoryId=t.id,n&&(this.privateState.activeSubsubcategoryId=n.id))}}]),e}(),ic=new ac;function lc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sc(e,t,n){return t&&cc(e.prototype,t),n&&cc(e,n),e}function uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function dc(e){var t=e;return t.widgets?t.widgets:[]}var mc=function(){function e(){var t=this;lc(this,e),uc(this,"privateState",Object(X["reactive"])({isFetchedFirstTime:!1,categorizedWidgets:{}})),uc(this,"state",Object(X["computed"])((function(){return t.privateState.isFetchedFirstTime||t.fetchAvailableWidgets(),Object(X["readonly"])(t.privateState)}))),uc(this,"widgets",Object(X["computed"])((function(){return t.state.value.categorizedWidgets})))}return sc(e,[{key:"fetchAvailableWidgets",value:function(){var e=this;return De.parsed.value.idSite?(this.privateState.isFetchedFirstTime=!0,new Promise((function(t,n){try{window.widgetsHelper.getAvailableWidgets((function(n){var r=n;e.privateState.categorizedWidgets=r,t(e.widgets.value)}))}catch(r){n(r)}}))):Promise.resolve(this.widgets.value)}},{key:"reloadAvailableWidgets",value:function(){window.widgetsHelper.clearAvailableWidgets();var e=this.fetchAvailableWidgets();return e.then((function(){ue.postEvent("WidgetsStore.reloaded")})),e}}]),e}(),pc=new mc;function fc(e,t){return yc(e)||vc(e,t)||bc(e,t)||hc()}function hc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bc(e,t){if(e){if("string"===typeof e)return gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gc(e,t):void 0}}function gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vc(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function yc(e){if(Array.isArray(e))return e}var Oc="reportingmenu-help",jc=Object(X["defineComponent"])({components:{MenuItemsDropdown:fo},directives:{SideNav:qn},props:{},data:function(){return{showSubcategoryHelpOnLoad:null,initialLoad:!0,helpShownCategory:null}},computed:{sideNavActivator:function(){return document.querySelector("nav .activateLeftMenu")},menu:function(){var e=ic.menu.value;return e.forEach((function(e){if(e.widget&&e.widget.indexOf(".")>0){var t=e.widget.split("."),n=fc(t,2),r=n[0],o=n[1];e.component=Ot(r,o)}})),e},activeCategory:function(){return ic.activeCategory.value},activeSubcategory:function(){return ic.activeSubcategory.value},activeSubsubcategory:function(){return ic.activeSubsubcategory.value},displayedCategory:function(){return De.parsed.value.category},displayedSubcategory:function(){return De.parsed.value.subcategory}},created:function(){var e=this;ic.fetchMenuItems().then((function(t){if(!De.parsed.value.subcategory){var n=t[0],r=n.subcategories[0];ic.enterSubcategory(n,r),e.propagateUrlChange(n,r)}})),Object(X["watch"])((function(){return De.parsed.value}),(function(e){var t=ic.findSubcategory(e.category,e.subcategory);ic.enterSubcategory(t.category,t.subcategory,t.subsubcategory)})),ue.on("matomoPageChange",(function(){e.initialLoad||window.globalAjaxQueue.abort(),e.helpShownCategory=null,e.showSubcategoryHelpOnLoad&&(e.showHelp(e.showSubcategoryHelpOnLoad.category,e.showSubcategoryHelpOnLoad.subcategory),e.showSubcategoryHelpOnLoad=null),window.$("#loadingError,#loadingRateLimitError").hide(),e.initialLoad=!1})),ue.on("updateReportingMenu",(function(){ic.reloadMenuItems().then((function(){var e=De.parsed.value.category,t=De.parsed.value.subcategory;if(e&&t){var n=ic.findSubcategory(e,t);n.category&&ic.enterSubcategory(n.category,n.subcategory,n.subsubcategory)}})),pc.reloadAvailableWidgets()}))},methods:{propagateUrlChange:function(e,t){var n=De.parsed.value;n.category===e.id&&n.subcategory===t.id?this.loadSubcategory(e,t):De.updateHash(Object.assign(Object.assign({},De.hashParsed.value),{},{category:e.id,subcategory:t.id}))},loadCategory:function(e){na.remove(Oc);var t=ic.toggleCategory(e),n=e.subcategories,r=n&&1===n.length||e.widget&&n&&n.length;if(t&&r){this.helpShownCategory=null;var o=e.subcategories[0];this.propagateUrlChange(e,o)}},loadSubcategory:function(e,t,n){n&&(n.shiftKey||n.ctrlKey||n.metaKey)||(na.remove(Oc),t&&t.id===De.parsed.value.subcategory&&e.id===De.parsed.value.category&&(this.helpShownCategory=null,setTimeout((function(){ue.postEvent("loadPage",e.id,t.id)}))))},makeUrl:function(e,t){var n=De.parsed.value,r=n.idSite,o=n.period,a=n.date,i=n.segment,l=n.comparePeriods,c=n.compareDates,s=n.compareSegments;return De.stringify({idSite:r,period:o,date:a,segment:i,comparePeriods:l,compareDates:c,compareSegments:s,category:e.id,subcategory:t.id})},htmlEntities:function(e){return ue.helper.htmlEntities(e)},showHelp:function(e,t,n){var r=De.parsed.value,o=r.category,i=r.subcategory;if((o!==e.id||i!==t.id)&&n)return this.showSubcategoryHelpOnLoad={category:e,subcategory:t},void De.updateHash(Object.assign(Object.assign({},De.hashParsed.value),{},{category:e.id,subcategory:t.id}));if(this.helpShownCategory&&e.id===this.helpShownCategory.category&&t.id===this.helpShownCategory.subcategory)return na.remove(Oc),void(this.helpShownCategory=null);var l=a("CoreHome_ReportingCategoryHelpPrefix",e.name,t.name),c="<strong>".concat(l,"</strong><br/>");na.show({context:"info",id:Oc,type:"help",noclear:!0,class:"help-notification",message:c+t.help,placeat:"#notificationContainer",prepend:!0}),this.helpShownCategory={category:e.id,subcategory:t.id}}}});jc.render=_l;var wc=jc;function kc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cc(e,t,n){return t&&Sc(e.prototype,t),n&&Sc(e,n),e}function Ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var Dc=function(){function e(){var t=this;kc(this,e),Ec(this,"privateState",Object(X["reactive"])({reports:[]})),Ec(this,"state",Object(X["readonly"])(this.privateState)),Ec(this,"reports",Object(X["computed"])((function(){return t.state.reports}))),Ec(this,"reportsPromise",void 0)}return Cc(e,[{key:"findReport",value:function(e,t){return this.reports.value.find((function(n){return n.module===e&&n.action===t}))}},{key:"fetchReportMetadata",value:function(){var e=this;return this.reportsPromise||(this.reportsPromise=Ze.fetch({method:"API.getReportMetadata",filter_limit:"-1",idSite:ue.idSite||De.parsed.value.idSite}).then((function(t){return e.privateState.reports=t,t}))),this.reportsPromise.then((function(){return e.reports.value}))}}]),e}(),Pc=new Dc,Tc={class:"widgetLoader"},Vc={key:0},Nc={key:1,class:"notification system notification-error"},Ic=["href"],xc={key:2,class:"notification system notification-error"},Bc={class:"theWidgetContent",ref:"widgetContent"};function Ac(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("ActivityIndicator");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Tc,[Object(X["createVNode"])(i,{"loading-message":e.finalLoadingMessage,loading:e.loading},null,8,["loading-message","loading"]),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",null,[e.widgetName?(Object(X["openBlock"])(),Object(X["createElementBlock"])("h2",Vc,Object(X["toDisplayString"])(e.widgetName),1)):Object(X["createCommentVNode"])("",!0),e.loadingFailedRateLimit?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",xc,Object(X["toDisplayString"])(e.translate("General_ErrorRateLimit")),1)):(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Nc,[Object(X["createTextVNode"])(Object(X["toDisplayString"])(e.translate("General_ErrorRequest","",""))+" ",1),e.hasErrorFaqLink?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:0,rel:"noreferrer noopener",target:"_blank",href:e.externalRawLink("https://matomo.org/faq/troubleshooting/faq_19489/")},Object(X["toDisplayString"])(e.translate("General_ErrorRequestFaqLink")),9,Ic)):Object(X["createCommentVNode"])("",!0)]))],512),[[X["vShow"],e.loadingFailed]]),Object(X["createElementVNode"])("div",Bc,null,512)])}var Lc=Object(X["defineComponent"])({props:{widgetParams:Object,widgetName:String,loadingMessage:String},components:{ActivityIndicator:qt},data:function(){return{loading:!1,loadingFailed:!1,loadingFailedRateLimit:!1,changeCounter:0,lastWidgetAbortController:null}},watch:{widgetParams:function(e){e&&this.loadWidgetUrl(e,this.changeCounter+=1)}},computed:{finalLoadingMessage:function(){return this.loadingMessage?this.loadingMessage:this.widgetName?a("General_LoadingPopover",this.widgetName):a("General_LoadingData")},hasErrorFaqLink:function(){var e=ue.config.enable_general_settings_admin,t=ue.config.enable_plugins_admin;return ue.hasSuperUserAccess&&(e||t)}},mounted:function(){this.widgetParams&&this.loadWidgetUrl(this.widgetParams,this.changeCounter+=1)},beforeUnmount:function(){this.cleanupLastWidgetContent()},methods:{abortHttpRequestIfNeeded:function(){this.lastWidgetAbortController&&(this.lastWidgetAbortController.abort(),this.lastWidgetAbortController=null)},cleanupLastWidgetContent:function(){var e=this.$refs.widgetContent;ue.helper.destroyVueComponent(e),e&&(e.innerHTML="")},getWidgetUrl:function(e){var t=De.parsed.value,n=Object.assign({},e||{}),r=Object.keys(Object.assign(Object.assign({},De.hashParsed.value),{},{idSite:"",period:"",date:"",segment:"",widget:""}));return r.forEach((function(e){"category"!==e&&"subcategory"!==e&&(e in n||(n[e]=t[e]))})),Qr.isComparisonEnabled()&&(n=Object.assign(Object.assign({},n),{},{comparePeriods:t.comparePeriods,compareDates:t.compareDates,compareSegments:t.compareSegments})),e&&"showtitle"in e||(n.showtitle="1"),ue.shouldPropagateTokenAuth&&t.token_auth&&(ue.broadcast.isWidgetizeRequestWithoutSession()||(n.force_api_session="1"),n.token_auth=t.token_auth),n.random=Math.floor(1e4*Math.random()),n},loadWidgetUrl:function(e,t){var n=this;this.loading=!0,this.abortHttpRequestIfNeeded(),this.cleanupLastWidgetContent(),this.lastWidgetAbortController=new AbortController,Ze.fetch(this.getWidgetUrl(e),{format:"html",abortController:this.lastWidgetAbortController}).then((function(r){if(t===n.changeCounter&&"string"===typeof r){n.lastWidgetAbortController=null,n.loading=!1,n.loadingFailed=!1;var o=n.$refs.widgetContent;window.$(o).html(r);var a=window.$(o).children();if(n.widgetName){var i=a.find("> .card-content .card-title");i.length||(i=a.find("> h2")),i.length&&i.html(ue.helper.htmlEntities(n.widgetName))}ue.helper.compileVueEntryComponents(a),na.parseNotificationDivs(),setTimeout((function(){ue.postEvent("widget:loaded",{parameters:e,element:a})}))}})).catch((function(e){t===n.changeCounter&&(n.lastWidgetAbortController=null,n.cleanupLastWidgetContent(),n.loading=!1,"abort"!==e.xhrStatus&&(429===e.status&&(n.loadingFailedRateLimit=!0),n.loadingFailed=!0))}))}}});Lc.render=Ac;var Mc=Lc,_c={class:"widget-container"};function Fc(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("Widget");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",_c,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.actualContainer,(function(e,t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{key:t},[Object(X["createElementVNode"])("div",null,[Object(X["createVNode"])(i,{widget:e,"prevent-recursion":!0},null,8,["widget"])])])})),128))])}function Rc(e){return $c(e)||Uc(e)||zc(e)||Hc()}function Hc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Uc(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function $c(e){if(Array.isArray(e))return Gc(e)}function qc(e,t){return Jc(e)||Yc(e,t)||zc(e,t)||Wc()}function Wc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zc(e,t){if(e){if("string"===typeof e)return Gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gc(e,t):void 0}}function Gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yc(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function Jc(e){if(Array.isArray(e))return e}var Kc=Ot("CoreHome","Widget"),Qc=Object(X["defineComponent"])({props:{container:{type:Array,required:!0}},components:{Widget:Kc},computed:{actualContainer:function(){var e,t,n,r=this.container;if(null===r||void 0===r||null===(e=r[0])||void 0===e||!e.parameters)return r;var o=qc(r,1),a=o[0],i="1"===(null===(t=a.parameters)||void 0===t?void 0:t.widget)||1===(null===(n=a.parameters)||void 0===n?void 0:n.widget),l=i&&"graphEvolution"===a.viewDataTable,c=l?Object.assign(Object.assign({},a),{},{parameters:Object.assign(Object.assign({},a.parameters),{},{showtitle:"0"})}):a;return[c].concat(Rc(r.slice(1)))}}});Qc.render=Fc;var Xc=Qc,Zc={class:"reportsByDimensionView"},es={class:"entityList"},ts={class:"listCircle"},ns=["onClick"],rs={class:"dimension"},os={class:"reportContainer"},as=Object(X["createElementVNode"])("div",{class:"clear"},null,-1);function is(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("WidgetLoader");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Zc,[Object(X["createElementVNode"])("div",es,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.widgetsByCategory,(function(t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:"dimensionCategory",key:t.name},[Object(X["createTextVNode"])(Object(X["toDisplayString"])(t.name)+" ",1),Object(X["createElementVNode"])("ul",ts,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(t.widgets,(function(t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{class:Object(X["normalizeClass"])(["reportDimension",{activeDimension:e.selectedWidget.uniqueId===t.uniqueId}]),key:t.uniqueId,onClick:function(n){return e.selectWidget(t)}},[Object(X["createElementVNode"])("span",rs,Object(X["toDisplayString"])(t.name),1)],10,ns)})),128))])])})),128))]),Object(X["createElementVNode"])("div",os,[e.selectedWidget.parameters?(Object(X["openBlock"])(),Object(X["createBlock"])(i,{key:0,"widget-params":e.selectedWidget.parameters,class:"dimensionReport"},null,8,["widget-params"])):Object(X["createCommentVNode"])("",!0)]),as])}function ls(e,t){return ms(e)||ds(e,t)||ss(e,t)||cs()}function cs(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ss(e,t){if(e){if("string"===typeof e)return us(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?us(e,t):void 0}}function us(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ds(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function ms(e){if(Array.isArray(e))return e}var ps=Object(X["defineComponent"])({props:{widgets:Array},components:{WidgetLoader:Mc},data:function(){return{selectedWidget:null}},created:function(){var e=ls(this.widgetsSorted,1);this.selectedWidget=e[0]},computed:{widgetsSorted:function(){return Ql(this.widgets)},widgetsByCategory:function(){var e={};return this.widgetsSorted.forEach((function(t){var n,r=null===(n=t.subcategory)||void 0===n?void 0:n.name;r&&(e[r]||(e[r]={name:r,order:t.order,widgets:[]}),e[r].widgets.push(t))})),Ql(Object.values(e))}},methods:{selectWidget:function(e){this.selectedWidget=Object.assign({},e)}}});ps.render=is;var fs=ps,hs=["id"],bs={key:1},gs={key:2};function vs(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("WidgetLoader"),l=Object(X["resolveComponent"])("WidgetContainer"),c=Object(X["resolveComponent"])("WidgetByDimensionContainer"),s=Object(X["resolveDirective"])("tooltips");return e.actualWidget&&e.showWidget?Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{key:0,class:Object(X["normalizeClass"])(["matomo-widget",{isFirstWidgetInPage:e.actualWidget.isFirstInPage}]),id:e.actualWidget.uniqueId},[!e.actualWidget.isContainer&&e.actualWidget.parameters?(Object(X["openBlock"])(),Object(X["createBlock"])(i,{key:0,"widget-params":e.actualWidget.parameters,"widget-name":e.actualWidget.name},null,8,["widget-params","widget-name"])):Object(X["createCommentVNode"])("",!0),e.actualWidget.isContainer&&"ByDimension"!==e.actualWidget.layout&&!this.preventRecursion?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",bs,[Object(X["createElementVNode"])("div",null,[Object(X["createVNode"])(l,{container:e.actualWidget.widgets},null,8,["container"])])])):Object(X["createCommentVNode"])("",!0),e.actualWidget.isContainer&&"ByDimension"===e.actualWidget.layout?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",gs,[Object(X["createElementVNode"])("div",null,[Object(X["createVNode"])(c,{widgets:e.actualWidget.widgets},null,8,["widgets"])])])):Object(X["createCommentVNode"])("",!0)],10,hs)),[[s,{content:e.tooltipContent}]]):Object(X["createCommentVNode"])("",!0)}function ys(e,t){var n=void 0;return Object.values(e||{}).some((function(e){return n=e.find((function(e){var n;return e&&e.isContainer&&(null===(n=e.parameters)||void 0===n?void 0:n.containerId)===t})),n})),n}var Os=Object(X["defineComponent"])({props:{widget:Object,widgetized:Boolean,containerid:String,preventRecursion:Boolean},components:{WidgetLoader:Mc,WidgetContainer:Xc,WidgetByDimensionContainer:fs},directives:{Tooltips:sn},data:function(){return{showWidget:!1}},setup:function(){function e(){var e=window.$(this);if(e.hasClass("matomo-form-field"))return"";var t=window.$(this).attr("title")||"";return window.vueSanitize(t.replace(/\n/g,"<br />"))}return{tooltipContent:e}},created:function(){var e=this,t=this.actualWidget;if(t&&t.middlewareParameters){var n=t.middlewareParameters;Ze.fetch(n).then((function(t){e.showWidget=!!t}))}else this.showWidget=!0},computed:{allWidgets:function(){return pc.widgets.value},actualWidget:function(){var e=this,t=this.widget;if(t){var n=Object.assign({},t);if(t&&t.isReport&&!t.documentation){var r=Pc.findReport(t.module,t.action);r&&r.documentation&&(n.documentation=r.documentation)}return t}if(this.containerid){var o=ys(this.allWidgets,this.containerid);if(o){var a=Object.assign({},o);if(this.widgetized){a.isFirstInPage=!0,a.parameters=Object.assign(Object.assign({},a.parameters),{},{widget:"1"});var i=dc(a);i&&(a.widgets=i.map((function(t){return Object.assign(Object.assign({},t),{},{parameters:Object.assign(Object.assign({},t.parameters),{},{widget:"1",containerId:e.containerid})})})))}return a}}return null}}});Os.render=vs;var js=Os,ws={class:"reporting-page"},ks={key:1,class:"col s12 l6 leftWidgetColumn"},Ss={key:2,class:"col s12 l6 rightWidgetColumn"};function Cs(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("ActivityIndicator"),l=Object(X["resolveComponent"])("Widget");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",ws,[Object(X["createVNode"])(i,{loading:e.loading},null,8,["loading"]),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",null,Object(X["toDisplayString"])(e.translate("CoreHome_NoSuchPage")),513),[[X["vShow"],e.hasNoPage]]),(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.widgets,(function(e){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:"row",key:e.uniqueId},[e.group?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createBlock"])(l,{key:0,class:"col s12 fullWidgetColumn",widget:e},null,8,["widget"])),e.group?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",ks,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.left,(function(e){return Object(X["openBlock"])(),Object(X["createBlock"])(l,{widget:e,key:e.uniqueId},null,8,["widget"])})),128))])):Object(X["createCommentVNode"])("",!0),e.group?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Ss,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.right,(function(e){return Object(X["openBlock"])(),Object(X["createBlock"])(l,{widget:e,key:e.uniqueId},null,8,["widget"])})),128))])):Object(X["createCommentVNode"])("",!0)])})),128))])}function Es(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ps(e,t,n){return t&&Ds(e.prototype,t),n&&Ds(e,n),e}function Ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vs(e){return Bs(e)||xs(e)||Is(e)||Ns()}function Ns(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Is(e,t){if(e){if("string"===typeof e)return As(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?As(e,t):void 0}}function xs(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Bs(e){if(Array.isArray(e))return As(e)}function As(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Ls(e){return!!(e.isContainer&&e.layout&&"ByDimension"===e.layout||"bydimension"===e.viewDataTable)||(!!e.isWide||e.viewDataTable&&("tableAllColumns"===e.viewDataTable||"sparklines"===e.viewDataTable||"graphEvolution"===e.viewDataTable))}function Ms(e){if(e&&e[0]){var t=Vs(e),n=e[0];return n.group?t[0]=Object.assign(Object.assign({},t[0]),{},{left:Ms(n.left||[]),right:Ms(n.right||[])}):t[0]=Object.assign(Object.assign({},t[0]),{},{isFirstInPage:!0}),t}return e}var _s=function(){function e(){var t=this;Es(this,e),Ts(this,"privateState",Object(X["reactive"])({})),Ts(this,"state",Object(X["computed"])((function(){return Object(X["readonly"])(t.privateState)}))),Ts(this,"page",Object(X["computed"])((function(){return t.state.value.page}))),Ts(this,"widgets",Object(X["computed"])((function(){var e=t.page.value;if(!e)return[];var n=[],r={},o=function(e){return e.isReport&&r["".concat(e.module,".").concat(e.action)]},a=function(e){if(!e.isReport)return[];var t=Pc.findReport(e.module,e.action);return t&&t.relatedReports?t.relatedReports:[]};if((e.widgets||[]).forEach((function(e){o(e)||(a(e).forEach((function(e){r["".concat(e.module,".").concat(e.action)]=!0})),n.push(e))})),n=Ql(n),1===n.length)return Ms(n);for(var i=[],l=0;l<n.length;l+=1){var c=n[l];if(Ls(c)||n[l+1]&&Ls(n[l+1]))i.push(Object.assign(Object.assign({},c),{},{widgets:Ql(dc(c))}));else{var s=0,u=[c],d=[];while(n[l+1]&&!Ls(n[l+1]))l+=1,s+=1,s%2===0?u.push(n[l]):d.push(n[l]);i.push({group:!0,left:u,right:d})}}var m=Ms(i);return m})))}return Ps(e,[{key:"fetchPage",value:function(e,t){var n=this;return this.resetPage(),Promise.all([ql.getAllPages(),Pc.fetchReportMetadata()]).then((function(){return n.privateState.page=ql.findPage(e,t),n.page.value}))}},{key:"resetPage",value:function(){this.privateState.page=void 0}}]),e}(),Fs=new _s;function Rs(){var e="category=General_Visitors&subcategory=Live_VisitorLog",t=window.broadcast.buildReportingUrl(e),n=a("CoreHome_PeriodHasOnlyRawData",'<a href="'.concat(t,'">'),"</a>");ue.visitorLogEnabled||(n=a("CoreHome_PeriodHasOnlyRawDataNoVisitsLog")),na.show({id:"onlyRawData",animate:!1,context:"info",message:n,type:"transient"})}function Hs(){na.remove("onlyRawData")}var Us=Object(X["defineComponent"])({components:{ActivityIndicator:qt,Widget:js},data:function(){return{loading:!1,hasRawData:!1,hasNoVisits:!1,dateLastChecked:null,hasNoPage:!1}},created:function(){var e=this;Fs.resetPage(),this.loading=!0,this.renderInitialPage(),Object(X["watch"])((function(){return De.parsed.value}),(function(t,n){t.category===n.category&&t.subcategory===n.subcategory&&t.period===n.period&&t.date===n.date&&t.segment===n.segment&&JSON.stringify(t.compareDates)===JSON.stringify(n.compareDates)&&JSON.stringify(t.comparePeriods)===JSON.stringify(n.comparePeriods)&&JSON.stringify(t.compareSegments)===JSON.stringify(n.compareSegments)&&JSON.stringify(t.columns||"")===JSON.stringify(n.columns||"")||(t.date===n.date&&t.period===n.period||(Hs(),e.dateLastChecked=null,e.hasRawData=!1,e.hasNoVisits=!1),e.renderPage(t.category,t.subcategory,t.period,t.date,t.segment))})),ue.on("loadPage",(function(t,n){var r=De.parsed.value;e.renderPage(t,n,r.period,r.date,r.segment)}))},computed:{widgets:function(){return Fs.widgets.value}},methods:{renderPage:function(e,t,n,r,o){var i=this;if(!e||!t)return Fs.resetPage(),void(this.loading=!1);try{m.parse(n,r)}catch(c){return na.show({id:"invalidDate",animate:!1,context:"error",message:a("CoreHome_DateInvalid"),type:"transient"}),Fs.resetPage(),void(this.loading=!1)}na.remove("invalidDate"),ue.postEvent("matomoPageChange",{}),na.clearTransientNotifications(),m.parse(n,r).containsToday()&&this.showOnlyRawDataMessageIfRequired(e,t,n,r,o);var l={category:e,subcategory:t};if(ue.postEvent("ReportingPage.loadPage",l),l.promise)return this.loading=!0,void Promise.resolve(l.promise).finally((function(){i.loading=!1}));Fs.fetchPage(e,t).then((function(){var t=!Fs.page.value;if(t){var n=ql.findPageInCategory(e);if(n&&n.subcategory)return void De.updateHash(Object.assign(Object.assign({},De.hashParsed.value),{},{subcategory:n.subcategory.id}))}i.hasNoPage=t,i.loading=!1}))},renderInitialPage:function(){var e=De.parsed.value;this.renderPage(e.category,e.subcategory,e.period,e.date,e.segment)},showOnlyRawDataMessageIfRequired:function(e,t,n,r,o){var a=this;if(this.hasRawData&&this.hasNoVisits&&Rs(),o)Hs();else{var i=["Live_VisitorLog","General_RealTime","UserCountryMap_RealTimeMap","MediaAnalytics_TypeAudienceLog","MediaAnalytics_TypeRealTime","FormAnalytics_TypeRealTime","Goals_AddNewGoal"],l=["HeatmapSessionRecording_Heatmaps","HeatmapSessionRecording_SessionRecordings","Marketplace_Marketplace"];if(-1===i.indexOf(t)&&-1===l.indexOf(e)&&-1===t.toLowerCase().indexOf("manage")){var c=6e4;this.dateLastChecked&&(new Date).valueOf()-this.dateLastChecked.valueOf()<c||Ze.fetch({method:"VisitsSummary.getVisits",date:r,period:n,segment:o}).then((function(e){return a.dateLastChecked=new Date,e.value>0?(a.hasNoVisits=!1,void Hs()):(a.hasNoVisits=!0,a.hasRawData?void Rs():Ze.fetch({method:"Live.getMostRecentVisitsDateTime",date:r,period:n}).then((function(e){if(!e||""===e.value)return a.hasRawData=!1,void Hs();a.hasRawData=!0,Rs()})))}))}else Hs()}}}});Us.render=Cs;var $s=Us,qs={class:"report-export-popover row",id:"reportExport"},Ws={class:"col l6"},zs={name:"format"},Gs={name:"option_flat"},Ys={name:"option_expanded"},Js={name:"option_format_metrics"},Ks={class:"col l6"},Qs={name:"filter_type"},Xs={class:"filter_limit"},Zs={name:"filter_limit_all"},eu={key:0,name:"filter_limit"},tu={key:1,name:"filter_limit"},nu={class:"col l12"},ru=["value"],ou=Object(X["createTextVNode"])("\n      "),au=[ou],iu=["innerHTML"],lu={class:"col l12"},cu=["href","title"],su=["innerHTML"];function uu(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("Field"),l=Object(X["resolveDirective"])("select-on-focus");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",qs,[Object(X["createElementVNode"])("div",Ws,[Object(X["createElementVNode"])("div",zs,[Object(X["createVNode"])(i,{uicontrol:"radio",name:"format",title:e.translate("CoreHome_ExportFormat"),modelValue:e.reportFormat,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.reportFormat=t}),"full-width":!0,options:e.availableReportFormats[e.reportType]},null,8,["title","modelValue","options"])]),Object(X["createElementVNode"])("div",null,[Object(X["createElementVNode"])("div",Gs,[Object(X["withDirectives"])(Object(X["createVNode"])(i,{uicontrol:"checkbox",name:"option_flat",title:e.translate("CoreHome_FlattenReport"),modelValue:e.optionFlat,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.optionFlat=t})},null,8,["title","modelValue"]),[[X["vShow"],e.hasSubtables]])])]),Object(X["createElementVNode"])("div",null,[Object(X["createElementVNode"])("div",Ys,[Object(X["withDirectives"])(Object(X["createVNode"])(i,{uicontrol:"checkbox",name:"option_expanded",title:e.translate("CoreHome_ExpandSubtables"),modelValue:e.optionExpanded,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.optionExpanded=t})},null,8,["title","modelValue"]),[[X["vShow"],e.hasSubtables&&!e.optionFlat]])])]),Object(X["createElementVNode"])("div",null,[Object(X["createElementVNode"])("div",Js,[Object(X["createVNode"])(i,{uicontrol:"checkbox",name:"option_format_metrics",title:e.translate("CoreHome_FormatMetrics"),modelValue:e.optionFormatMetrics,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.optionFormatMetrics=t})},null,8,["title","modelValue"])])])]),Object(X["createElementVNode"])("div",Ks,[Object(X["createElementVNode"])("div",null,[Object(X["createElementVNode"])("div",Qs,[Object(X["createVNode"])(i,{uicontrol:"radio",name:"filter_type",title:e.translate("CoreHome_ReportType"),modelValue:e.reportType,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.reportType=t}),"full-width":!0,options:e.availableReportTypes},null,8,["title","modelValue","options"])])]),Object(X["createElementVNode"])("div",Xs,[Object(X["withDirectives"])(Object(X["createElementVNode"])("div",Zs,[Object(X["createVNode"])(i,{uicontrol:"radio",name:"filter_limit_all",title:e.translate("CoreHome_RowLimit"),modelValue:e.reportLimitAll,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.reportLimitAll=t}),"full-width":!0,options:e.limitAllOptions},null,8,["title","modelValue","options"])],512),[[X["vShow"],!e.maxFilterLimit||e.maxFilterLimit<=0]]),"no"===e.reportLimitAll&&e.maxFilterLimit<=0?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",eu,[Object(X["createVNode"])(i,{uicontrol:"number",name:"filter_limit",min:1,modelValue:e.reportLimit,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.reportLimit=t}),"full-width":!0},null,8,["modelValue"])])):Object(X["createCommentVNode"])("",!0),"no"===e.reportLimitAll&&e.maxFilterLimit>0?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",tu,[Object(X["createVNode"])(i,{uicontrol:"number",name:"filter_limit",min:1,max:e.maxFilterLimit,modelValue:e.reportLimit,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.reportLimit=t}),value:e.reportLimit,"full-width":!0,title:e.filterLimitTooltip},null,8,["max","modelValue","value","title"])])):Object(X["createCommentVNode"])("",!0)])]),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",nu,[Object(X["withDirectives"])(Object(X["createElementVNode"])("textarea",{readonly:"",class:"exportFullUrl",value:e.exportLinkWithoutToken},au,8,ru),[[l,{}]]),Object(X["createElementVNode"])("div",{class:"tooltip",innerHTML:e.$sanitize(e.translate("CoreHome_ExportTooltipWithLink","<a target=_blank href='?module=UsersManager&action=userSecurity'>","</a>","ENTER_YOUR_TOKEN_AUTH_HERE"))},null,8,iu)],512),[[X["vShow"],e.showUrl]]),Object(X["createElementVNode"])("div",lu,[Object(X["createElementVNode"])("a",{class:"btn",href:e.exportLink,target:"_new",title:e.translate("CoreHome_ExportTooltip")},Object(X["toDisplayString"])(e.translate("General_Export")),9,cu),Object(X["createElementVNode"])("a",{href:"javascript:",onClick:t[8]||(t[8]=function(t){return e.showUrl=!e.showUrl}),class:"toggle-export-url"},[Object(X["withDirectives"])(Object(X["createElementVNode"])("span",null,Object(X["toDisplayString"])(e.translate("CoreHome_ShowExportUrl")),513),[[X["vShow"],!e.showUrl]]),Object(X["withDirectives"])(Object(X["createElementVNode"])("span",null,Object(X["toDisplayString"])(e.translate("CoreHome_HideExportUrl")),513),[[X["vShow"],e.showUrl]])])]),e.additionalContent?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{key:0,class:"col l12 report-export-popover-footer",innerHTML:e.$sanitize(e.additionalContent)},null,8,su)):Object(X["createCommentVNode"])("",!0)])}function du(e,t){return bu(e)||hu(e,t)||pu(e,t)||mu()}function mu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pu(e,t){if(e){if("string"===typeof e)return fu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fu(e,t):void 0}}function fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hu(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function bu(e){if(Array.isArray(e))return e}function gu(e){return gu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(e)}var vu=Ot("CorePluginsAdmin","Field"),yu=Object(X["defineComponent"])({components:{Field:vu},directives:{SelectOnFocus:Rn},props:{hasSubtables:Boolean,availableReportTypes:Object,availableReportFormats:{type:Object,required:!0},maxFilterLimit:Number,limitAllOptions:Object,dataTable:{type:Object,required:!0},requestParams:[Object,String],apiMethod:{type:String,required:!0},initialReportType:{type:String,default:"default"},initialReportLimit:{type:[String,Number],default:100},initialReportLimitAll:{type:String,default:"yes"},initialOptionFlat:{type:Boolean,default:!1},initialOptionExpanded:{type:Boolean,default:!0},initialOptionFormatMetrics:{type:Boolean,default:!1},initialReportFormat:{type:String,default:"XML"}},mounted:function(){var e={content:this.additionalContent,dataTable:this.dataTable};ue.postEvent("ReportExportPopover.additionalContent",e),this.additionalContent=e.content},data:function(){return{showUrl:!1,reportFormat:this.initialReportFormat,optionFlat:this.initialOptionFlat,optionExpanded:this.initialOptionExpanded,optionFormatMetrics:this.initialOptionFormatMetrics,reportType:this.initialReportType,reportLimitAll:this.initialReportLimitAll,reportLimit:"string"===typeof this.initialReportLimit?parseInt(this.initialReportLimit,10):this.initialReportLimit,additionalContent:""}},watch:{reportType:function(e){this.availableReportFormats[e][this.reportFormat]||(this.reportFormat="XML")},reportLimit:function(e,t){this.maxFilterLimit&&this.maxFilterLimit>0&&e>this.maxFilterLimit&&(this.reportLimit=t)}},computed:{filterLimitTooltip:function(){var e=a("CoreHome_RowLimit"),t=this.maxFilterLimit?a("General_ComputedMetricMax",this.maxFilterLimit.toString()):"";return"".concat(e," (").concat(t,")")},exportLink:function(){return this.getExportLink(!0)},exportLinkWithoutToken:function(){return this.getExportLink(!1)}},methods:{getExportLink:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.reportFormat,n=this.apiMethod,r=this.reportType,o=this.dataTable;if(t){var a={},i="yes"===this.reportLimitAll?-1:this.reportLimit;this.requestParams&&"string"===typeof this.requestParams?a=JSON.parse(this.requestParams):this.requestParams&&"object"===gu(this.requestParams)&&(a=this.requestParams);var l=o.param,c=l.segment,s=l.label,u=l.idGoal,d=l.idDimension,m=l.idSite,p=o.param,f=p.date,h=p.period;"RSS"===t&&(f="last10"),"undefined"!==typeof o.param.dateUsedInGraph&&(f=o.param.dateUsedInGraph);var b=ue.config.datatable_export_range_as_day.toLowerCase();-1!==b.indexOf(t.toLowerCase())&&"range"===o.param.period&&(h="day"),"range"===o.param.period&&"graphEvolution"===o.param.viewDataTable&&(h="day");var g={module:"API",format:t,idSite:m,period:h,date:f};if("processed"===r){g.method="API.getProcessedReport";var v=n.split("."),y=du(v,2);g.apiModule=y[0],g.apiAction=y[1]}else g.method=n;if(o.param.compareDates&&o.param.compareDates.length&&(g.compareDates=o.param.compareDates,g.compare="1"),o.param.comparePeriods&&o.param.comparePeriods.length&&(g.comparePeriods=o.param.comparePeriods,g.compare="1"),o.param.compareSegments&&o.param.compareSegments.length&&(g.compareSegments=o.param.compareSegments,g.compare="1"),"undefined"!==typeof o.param.filter_pattern&&(g.filter_pattern=o.param.filter_pattern),"undefined"!==typeof o.param.filter_pattern_recursive&&(g.filter_pattern_recursive=o.param.filter_pattern_recursive),window.$.isPlainObject(a)&&Object.entries(a).forEach((function(e){var t=du(e,2),n=t[0],r=t[1],o=r;!0===o?o=1:!1===o&&(o=0),g[n]=o})),this.optionFlat&&(g.flat=1,"undefined"!==typeof o.param.include_aggregate_rows&&"1"===o.param.include_aggregate_rows&&(g.include_aggregate_rows=1)),!this.optionFlat&&this.optionExpanded&&(g.expanded=1),this.optionFormatMetrics&&(g.format_metrics=1),o.param.pivotBy&&(g.pivotBy=o.param.pivotBy,g.pivotByColumnLimit=20,o.props.pivot_by_column&&(g.pivotByColumn=o.props.pivot_by_column)),"CSV"!==t&&"TSV"!==t&&"RSS"!==t||(g.translateColumnNames=1,g.language=ue.language),"undefined"!==typeof c&&(g.segment=decodeURIComponent(c)),"undefined"!==typeof u&&"-1"!==u&&(g.idGoal=u),"undefined"!==typeof d&&"-1"!==d&&(g.idDimension=d),s){var O=s.split(",");if(O.length>1)g.label=O;else{var j=du(O,1);g.label=j[0]}}g.token_auth="ENTER_YOUR_TOKEN_AUTH_HERE",!0===e&&(g.token_auth=ue.token_auth,g.force_api_session=1),g.filter_limit=i;var w=window.location.href.split("?")[0];return"".concat(w,"?").concat(De.stringify(g))}}}});yu.render=uu;var Ou=yu,ju=window,wu=ju.$,ku={mounted:function(e,t){e.addEventListener("click",(function(){var n=De.hashParsed.value.popover,r=wu(e).closest("[data-report]").data("uiControlObject"),o=window.Piwik_Popover.showLoading("Export"),i=t.value.reportFormats,l=r.param.filter_limit;t.value.maxFilterLimit>0&&(l=Math.min(l,t.value.maxFilterLimit));var c=!0===r.param.flat||1===r.param.flat||"1"===r.param.flat,s={initialReportType:"default",initialReportLimit:l>0?l:100,initialReportLimitAll:-1===l?"yes":"no",initialOptionFlat:c,initialOptionExpanded:!0,initialOptionFormatMetrics:!1,hasSubtables:c||r.numberOfSubtables>0,availableReportFormats:{default:i,processed:{XML:i.XML,JSON:i.JSON}},availableReportTypes:{default:a("CoreHome_StandardReport"),processed:a("CoreHome_ReportWithMetadata")},limitAllOptions:{yes:a("General_All"),no:a("CoreHome_CustomLimit")},maxFilterLimit:t.value.maxFilterLimit,dataTable:r,requestParams:t.value.requestParams,apiMethod:t.value.apiMethod},u=ft({template:'\n          <popover v-bind="bind"/>',data:function(){return{bind:s}}});u.component("popover",Ou);var d=document.createElement("div");u.mount(d);var m=t.value.reportTitle;window.Piwik_Popover.setTitle("".concat(a("General_Export")," ").concat(ue.helper.htmlEntities(m))),window.Piwik_Popover.setContent(d),window.Piwik_Popover.onClose((function(){u.unmount(),""!==n&&setTimeout((function(){De.updateHash(Object.assign(Object.assign({},De.hashParsed.value),{},{popover:n})),t.value.onClose&&t.value.onClose()}),100)})),setTimeout((function(){o.dialog(),wu(".exportFullUrl, .btn",o).tooltip({track:!0,show:!1,hide:!1})}),100)}))}},Su=["src","width","height"];
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Cu(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("img",{class:"sparklineImg",loading:"lazy",alt:"",src:e.sparklineUrl,width:e.width,height:e.height},null,8,Su)}function Eu(e){return Eu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(e)}var Du=Object(X["defineComponent"])({props:{seriesIndices:Array,params:[Object,String],width:Number,height:Number},data:function(){return{isWidget:!1}},mounted:function(){this.isWidget=!!this.$el.closest("[widgetId]")},computed:{sparklineUrl:function(){var e=this.seriesIndices,t=this.params,n=ue.getSparklineColors();e&&(n.lineColor=n.lineColor.filter((function(t,n){return-1!==e.indexOf(n)})));var r=JSON.stringify(n),o={forceView:"1",viewDataTable:"sparkline",widget:this.isWidget?"1":"0",showtitle:"1",colors:r,random:Date.now(),date:this.defaultDate,segment:De.parsed.value.segment},a="object"===Eu(t)?t:De.parse(t.substring(t.indexOf("?")+1)),i=new Ze,l=i.mixinDefaultGetParams(Object.assign(Object.assign({},o),a)),c=De.parsed.value.token_auth;return c&&c.length&&ue.shouldPropagateTokenAuth&&(l.token_auth=c),"?".concat(De.stringify(l))},defaultDate:function(){if("range"===ue.period)return"".concat(ue.startDateString,",").concat(ue.endDateString);var e=K.getLastNRange(ue.period,30,ue.currentDateString).getDateRange(),t=new Date(ue.minDateYear,ue.minDateMonth-1,ue.minDateDay);e[0]<t&&(e[0]=t);var n=p(e[0]),r=p(e[1]);return"".concat(n,",").concat(r)}}});Du.render=Cu;var Pu=Du,Tu={class:"progressbar"},Vu={class:"progress"},Nu=Object(X["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif",style:{"margin-right":"3.5px"}},null,-1),Iu=["innerHTML"];function xu(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Tu,[Object(X["createElementVNode"])("div",Vu,[Object(X["createElementVNode"])("div",{class:"determinate",style:Object(X["normalizeStyle"])([{width:"0"},{width:"".concat(e.actualProgress,"%")}])},null,4)]),Object(X["withDirectives"])(Object(X["createElementVNode"])("span",null,[Nu,Object(X["createElementVNode"])("span",{class:"label",innerHTML:e.$sanitize(e.label)},null,8,Iu)],512),[[X["vShow"],!!e.label]])])}var Bu=Object(X["defineComponent"])({props:{progress:{type:Number,required:!0},label:String},computed:{actualProgress:function(){return this.progress>100?100:this.progress<0?0:this.progress}}});Bu.render=xu;var Au=Bu,Lu={mounted:function(e){e.classList.add("piwik-content-intro")},updated:function(e){Object(X["nextTick"])((function(){e.classList.add("piwik-content-intro")}))}},Mu={mounted:function(e,t){var n;null!==t&&void 0!==t&&null!==(n=t.value)&&void 0!==n&&n.off||e.classList.add("card","card-table","entityTable")},updated:function(e,t){var n;null!==t&&void 0!==t&&null!==(n=t.value)&&void 0!==n&&n.off||Object(X["nextTick"])((function(){e.classList.add("card","card-table","entityTable")}))}},_u={ref:"root"};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Fu(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",_u,[Object(X["renderSlot"])(e.$slots,"default",{formData:e.formData,submitApiMethod:e.submitApiMethod,sendJsonPayload:e.sendJsonPayload,noErrorNotification:e.noErrorNotification,noSuccessNotification:e.noSuccessNotification,submitForm:e.submitForm,isSubmitting:e.isSubmitting,successfulPostResponse:e.successfulPostResponse,errorPostResponse:e.errorPostResponse})],512)}var Ru=window,Hu=Ru.$,Uu=Object(X["defineComponent"])({props:{formData:{type:Object,required:!0},submitApiMethod:{type:String,required:!0},sendJsonPayload:Boolean,noErrorNotification:Boolean,noSuccessNotification:Boolean},data:function(){return{isSubmitting:!1,successfulPostResponse:null,errorPostResponse:null}},emits:["update:modelValue"],mounted:function(){var e=this;Hu(this.$refs.root).on("click","input[type=submit]",(function(){e.submitForm()}))},methods:{submitForm:function(){var e=this;this.successfulPostResponse=null,this.errorPostResponse=null;var t=this.formData;this.sendJsonPayload&&(t={data:JSON.stringify(this.formData)}),this.isSubmitting=!0,Ze.post({module:"API",method:this.submitApiMethod},t,{createErrorNotification:!this.noErrorNotification}).then((function(t){if(e.successfulPostResponse=t,!e.noSuccessNotification){var n=na.show({message:a("General_YourChangesHaveBeenSaved"),context:"success",type:"toast",id:"ajaxHelper"});na.scrollToNotification(n)}})).catch((function(t){e.errorPostResponse=t.message})).finally((function(){e.isSubmitting=!1}))}}});Uu.render=Fu;var $u=Uu;function qu(e,t,n,r,o,a){return Object(X["renderSlot"])(e.$slots,"default")}var Wu=Object(X["defineComponent"])({});Wu.render=qu;var zu=Wu,Gu={key:0},Yu=["data-target"],Ju=Object(X["createElementVNode"])("span",{class:"icon-configure"},null,-1),Ku=[Ju],Qu=["data-target"],Xu=["title"],Zu=["title","src"],ed=["id"],td=["data-footer-icon-id"],nd=["title"],rd=["title","src"],od={key:2},ad=Object(X["createElementVNode"])("li",{class:"divider"},null,-1),id=Object(X["createElementVNode"])("li",{class:"divider"},null,-1),ld=["title"],cd=Object(X["createElementVNode"])("span",{class:"icon-export"},null,-1),sd=[cd],ud=["title"],dd=Object(X["createElementVNode"])("span",{class:"icon-image"},null,-1),md=[dd],pd=["title"],fd=Object(X["createElementVNode"])("span",{class:"icon-annotation"},null,-1),hd=[fd],bd=["title"],gd=Object(X["createElementVNode"])("span",{class:"icon-search",draggable:"false"},null,-1),vd=["title"],yd=["id","title"],Od=["title"],jd=["title","src"],wd=["id"],kd={key:0},Sd=["innerHTML"],Cd={key:1},Ed=["innerHTML"],Dd={key:2},Pd=["innerHTML"],Td={key:3},Vd=["innerHTML"],Nd={key:4},Id=["innerHTML"],xd={key:5},Bd=["innerHTML"],Ad=["title","data-target"],Ld=Object(X["createElementVNode"])("span",{class:"icon-calendar"},null,-1),Md={class:"periodName"},_d=["id"],Fd=["data-period"];function Rd(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("Passthrough"),l=Object(X["resolveDirective"])("dropdown-button"),c=Object(X["resolveDirective"])("report-export");return e.showFooter&&e.showFooterIcons?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Gu,[e.hasConfigItems&&(e.isAnyConfigureIconHighlighted||e.isTableView)?Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:0,class:Object(X["normalizeClass"])(["dropdown-button dropdownConfigureIcon dataTableAction",{highlighted:e.isAnyConfigureIconHighlighted}]),href:"",onClick:t[0]||(t[0]=Object(X["withModifiers"])((function(){}),["prevent"])),"data-target":"dropdownConfigure".concat(e.randomIdForDropdown),style:{"margin-right":"3.5px"}},Ku,10,Yu)),[[l]]):Object(X["createCommentVNode"])("",!0),e.hasFooterIconsToShow?Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,class:"dropdown-button dataTableAction activateVisualizationSelection",href:"","data-target":"dropdownVisualizations".concat(e.randomIdForDropdown),style:{"margin-right":"3.5px"},onClick:t[1]||(t[1]=Object(X["withModifiers"])((function(){}),["prevent"]))},[/^icon-/.test(e.activeFooterIcon||"")?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",{key:0,title:e.translate("CoreHome_ChangeVisualization"),class:Object(X["normalizeClass"])(e.activeFooterIcon)},null,10,Xu)):(Object(X["openBlock"])(),Object(X["createElementBlock"])("img",{key:1,title:e.translate("CoreHome_ChangeVisualization"),width:"16",height:"16",src:e.activeFooterIcon},null,8,Zu))],8,Qu)),[[l]]):Object(X["createCommentVNode"])("",!0),e.showFooterIcons?(Object(X["openBlock"])(),Object(X["createElementBlock"])("ul",{key:2,id:"dropdownVisualizations".concat(e.randomIdForDropdown),class:"dropdown-content dataTableFooterIcons"},[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.footerIcons,(function(t,n){return Object(X["openBlock"])(),Object(X["createBlock"])(i,{key:n},{default:Object(X["withCtx"])((function(){return[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(t.buttons.filter((function(e){return!!e.icon})),(function(n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{key:n.id},[Object(X["createElementVNode"])("a",{class:Object(X["normalizeClass"])("".concat(t.class," tableIcon\n              ").concat(-1!==e.activeFooterIconIds.indexOf(n.id)?"activeIcon":"")),"data-footer-icon-id":n.id},[/^icon-/.test(n.icon||"")?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",{key:0,title:n.title,class:Object(X["normalizeClass"])(n.icon),style:{"margin-right":"5.5px"}},null,10,nd)):(Object(X["openBlock"])(),Object(X["createElementBlock"])("img",{key:1,width:"16",height:"16",title:n.title,src:n.icon,style:{"margin-right":"5.5px"}},null,8,rd)),n.title?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",od,Object(X["toDisplayString"])(n.title),1)):Object(X["createCommentVNode"])("",!0)],10,td)])})),128)),ad]})),_:2},1024)})),128)),id],8,ed)):Object(X["createCommentVNode"])("",!0),e.showExport?Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:3,class:"dataTableAction activateExportSelection",title:e.translate("General_ExportThisReport"),href:"",style:{"margin-right":"3.5px"},onClick:t[2]||(t[2]=Object(X["withModifiers"])((function(){}),["prevent"]))},sd,8,ld)),[[c,{reportTitle:e.reportTitle,requestParams:e.requestParams,apiMethod:e.apiMethodToRequestDataTable,reportFormats:e.reportFormats,maxFilterLimit:e.maxFilterLimit}]]):Object(X["createCommentVNode"])("",!0),e.showExportAsImageIcon?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:4,class:"dataTableAction tableIcon",href:"",id:"dataTableFooterExportAsImageIcon",onClick:t[3]||(t[3]=Object(X["withModifiers"])((function(t){return e.showExportImage(t)}),["prevent"])),title:e.translate("General_ExportAsImage"),style:{"margin-right":"3.5px"}},md,8,ud)):Object(X["createCommentVNode"])("",!0),e.showAnnotations?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:5,class:"dataTableAction annotationView",href:"",title:e.translate("Annotations_Annotations"),onClick:t[4]||(t[4]=Object(X["withModifiers"])((function(){}),["prevent"])),style:{"margin-right":"3.5px"}},hd,8,pd)):Object(X["createCommentVNode"])("",!0),e.showSearch?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:6,class:"dropdown-button dataTableAction searchAction",href:"",title:e.translate("General_Search"),style:{"margin-right":"3.5px"},draggable:"false",onClick:t[5]||(t[5]=Object(X["withModifiers"])((function(){}),["prevent"]))},[gd,Object(X["createElementVNode"])("span",{class:"icon-close",draggable:"false",title:e.translate("CoreHome_CloseSearch")},null,8,vd),Object(X["createElementVNode"])("input",{id:"widgetSearch_".concat(e.reportId),title:e.translate("CoreHome_DataTableHowToSearch"),type:"text",class:"dataTableSearchInput"},null,8,yd)],8,bd)):Object(X["createCommentVNode"])("",!0),(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.dataTableActions,(function(e){return Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:e.id,class:Object(X["normalizeClass"])("dataTableAction ".concat(e.id)),href:"",onClick:t[6]||(t[6]=Object(X["withModifiers"])((function(){}),["prevent"])),title:e.title,style:{"margin-right":"3.5px"}},[/^icon-/.test(e.icon||"")?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",{key:0,class:Object(X["normalizeClass"])(e.icon)},null,2)):(Object(X["openBlock"])(),Object(X["createElementBlock"])("img",{key:1,width:"16",height:"16",title:e.title,src:e.icon},null,8,jd))],10,Od)})),128)),Object(X["createElementVNode"])("ul",{id:"dropdownConfigure".concat(e.randomIdForDropdown),class:"dropdown-content tableConfiguration"},[e.showFlattenTable?(Object(X["openBlock"])(),Object(X["createElementBlock"])("li",kd,[Object(X["createElementVNode"])("div",{class:"configItem dataTableFlatten",innerHTML:e.$sanitize(e.flattenItemText)},null,8,Sd)])):Object(X["createCommentVNode"])("",!0),e.showDimensionsConfigItem?(Object(X["openBlock"])(),Object(X["createElementBlock"])("li",Cd,[Object(X["createElementVNode"])("div",{class:"configItem dataTableShowDimensions",innerHTML:e.$sanitize(e.showDimensionsText)},null,8,Ed)])):Object(X["createCommentVNode"])("",!0),e.showFlatConfigItem?(Object(X["openBlock"])(),Object(X["createElementBlock"])("li",Dd,[Object(X["createElementVNode"])("div",{class:"configItem dataTableIncludeAggregateRows",innerHTML:e.$sanitize(e.includeAggregateRowsText)},null,8,Pd)])):Object(X["createCommentVNode"])("",!0),e.showTotalsConfigItem?(Object(X["openBlock"])(),Object(X["createElementBlock"])("li",Td,[Object(X["createElementVNode"])("div",{class:"configItem dataTableShowTotalsRow",innerHTML:e.$sanitize(e.keepTotalsRowText)},null,8,Vd)])):Object(X["createCommentVNode"])("",!0),e.showExcludeLowPopulation?(Object(X["openBlock"])(),Object(X["createElementBlock"])("li",Nd,[Object(X["createElementVNode"])("div",{class:"configItem dataTableExcludeLowPopulation",innerHTML:e.$sanitize(e.excludeLowPopText)},null,8,Id)])):Object(X["createCommentVNode"])("",!0),e.showPivotBySubtable?(Object(X["openBlock"])(),Object(X["createElementBlock"])("li",xd,[Object(X["createElementVNode"])("div",{class:"configItem dataTablePivotBySubtable",innerHTML:e.$sanitize(e.pivotByText)},null,8,Bd)])):Object(X["createCommentVNode"])("",!0)],8,wd),e.showPeriods?Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:7,class:"dropdown-button dataTableAction activatePeriodsSelection",href:"",onClick:t[7]||(t[7]=Object(X["withModifiers"])((function(){}),["prevent"])),title:e.translate("CoreHome_ChangePeriod"),"data-target":"dropdownPeriods".concat(e.randomIdForDropdown)},[Object(X["createElementVNode"])("div",null,[Ld,Object(X["createElementVNode"])("span",Md,Object(X["toDisplayString"])(e.translations[e.clientSideParameters.period]||e.clientSideParameters.period),1)])],8,Ad)),[[l]]):Object(X["createCommentVNode"])("",!0),e.showPeriods?(Object(X["openBlock"])(),Object(X["createElementBlock"])("ul",{key:8,id:"dropdownPeriods".concat(e.randomIdForDropdown),class:"dropdown-content dataTablePeriods"},[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.selectablePeriods,(function(t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{key:t},[Object(X["createElementVNode"])("a",{"data-period":t,class:Object(X["normalizeClass"])("tableIcon ".concat(e.clientSideParameters.period===t?"activeIcon":""))},[Object(X["createElementVNode"])("span",null,Object(X["toDisplayString"])(e.translations[t]||t),1)],10,Fd)])})),128))],8,_d)):Object(X["createCommentVNode"])("",!0)])):Object(X["createCommentVNode"])("",!0)}function Hd(e){return Wd(e)||qd(e)||$d(e)||Ud()}function Ud(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $d(e,t){if(e){if("string"===typeof e)return zd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zd(e,t):void 0}}function qd(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Wd(e){if(Array.isArray(e))return zd(e)}function zd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gd=window,Yd=Gd.$;function Jd(e,t,n){if(/(%(.\$)?s+)/g.test(a(e))){var r=['<br /><span class="action">'];n&&r.push(n);var o=a.apply(void 0,[e].concat(r));return t&&(o+=" (".concat(a("CoreHome_Default"),")")),o+="</span>",o}return a(e)}function Kd(e,t,n){return e?Jd(t,!0):Jd(n)}function Qd(e){return!!e&&"0"!==e}var Xd=Object(X["defineComponent"])({props:{showPeriods:Boolean,showFooter:Boolean,showFooterIcons:Boolean,showSearch:Boolean,showFlattenTable:Boolean,footerIcons:{type:Array,required:!0},viewDataTable:{type:String,required:!0},reportTitle:String,requestParams:{type:Object,required:!0},apiMethodToRequestDataTable:{type:String,required:!0},maxFilterLimit:{type:Number,required:!0},showExport:Boolean,showExportAsImageIcon:Boolean,showAnnotations:Boolean,reportId:{type:String,required:!0},dataTableActions:{type:Array,required:!0},clientSideParameters:{type:Object,required:!0},hasMultipleDimensions:Boolean,isDataTableEmpty:Boolean,showTotalsRow:Boolean,showExcludeLowPopulation:Boolean,showPivotBySubtable:Boolean,selectablePeriods:Array,translations:{type:Object,required:!0},pivotDimensionName:String},components:{Passthrough:zu},directives:{DropdownButton:Bn,ReportExport:ku},methods:{showExportImage:function(e){Yd(e.target).closest(".dataTable").find("div.jqplot-target").trigger("piwikExportAsImage")}},computed:{randomIdForDropdown:function(){return Math.floor(999999*Math.random())},allFooterIcons:function(){return this.footerIcons.reduce((function(e,t){return e.push.apply(e,Hd(t.buttons)),e}),[])},activeFooterIcons:function(){var e=this,t=this.clientSideParameters,n=[this.viewDataTable];return 0===t.abandonedCarts||"0"===t.abandonedCarts?n.push("ecommerceOrder"):1!==t.abandonedCarts&&"1"!==t.abandonedCarts||n.push("ecommerceAbandonedCart"),n.map((function(t){return e.allFooterIcons.find((function(e){return e.id===t}))})).filter((function(e){return!!e}))},activeFooterIcon:function(){var e;return null===(e=this.activeFooterIcons[0])||void 0===e?void 0:e.icon},activeFooterIconIds:function(){return this.activeFooterIcons.map((function(e){return e.id}))},numIcons:function(){return this.allFooterIcons.length},hasFooterIconsToShow:function(){return!!this.activeFooterIcons.length&&this.numIcons>1},reportFormats:function(){var e={CSV:"CSV",TSV:"TSV (Excel)",XML:"XML",JSON:"Json",HTML:"HTML",RSS:"RSS"};return e},showDimensionsConfigItem:function(){return this.showFlattenTable&&"1"==="".concat(this.clientSideParameters.flat)&&this.hasMultipleDimensions},showFlatConfigItem:function(){return this.showFlattenTable&&"1"==="".concat(this.clientSideParameters.flat)},showTotalsConfigItem:function(){return!this.isDataTableEmpty&&this.showTotalsRow},hasConfigItems:function(){return this.showFlattenTable||this.showDimensionsConfigItem||this.showFlatConfigItem||this.showTotalsConfigItem||this.showExcludeLowPopulation||this.showPivotBySubtable},flattenItemText:function(){var e=this.clientSideParameters;return Kd(Qd(e.flat),"CoreHome_UnFlattenDataTable","CoreHome_FlattenDataTable")},keepTotalsRowText:function(){var e=this.clientSideParameters;return Kd(Qd(e.keep_totals_row),"CoreHome_RemoveTotalsRowDataTable","CoreHome_AddTotalsRowDataTable")},includeAggregateRowsText:function(){var e=this.clientSideParameters;return Kd(Qd(e.include_aggregate_rows),"CoreHome_DataTableExcludeAggregateRows","CoreHome_DataTableIncludeAggregateRows")},showDimensionsText:function(){var e=this.clientSideParameters;return Kd(Qd(e.show_dimensions),"CoreHome_DataTableCombineDimensions","CoreHome_DataTableShowDimensions")},pivotByText:function(){var e=this.clientSideParameters;return Qd(e.pivotBy)?Jd("CoreHome_UndoPivotBySubtable",!0):Jd("CoreHome_PivotBySubtable",!1,this.pivotDimensionName)},excludeLowPopText:function(){var e=this.clientSideParameters;return Kd(Qd(e.enable_filter_excludelowpop),"CoreHome_IncludeRowsWithLowPopulation","CoreHome_ExcludeRowsWithLowPopulation")},isAnyConfigureIconHighlighted:function(){var e=this.clientSideParameters;return Qd(e.flat)||Qd(e.keep_totals_row)||Qd(e.include_aggregate_rows)||Qd(e.show_dimensions)||Qd(e.pivotBy)||Qd(e.enable_filter_excludelowpop)},isTableView:function(){return"table"===this.viewDataTable||"tableAllColumns"===this.viewDataTable||"tableGoals"===this.viewDataTable}}});Xd.render=Rd;var Zd=Xd,em={key:0,class:"title",style:{cursor:"pointer"},ref:"expander"},tm=Object(X["createElementVNode"])("span",{class:"icon-warning"},null,-1),nm={key:1,class:"title",href:"?module=CoreUpdater&action=newVersionAvailable",style:{cursor:"pointer"},ref:"expander"},rm=Object(X["createElementVNode"])("span",{class:"icon-warning"},null,-1),om=["innerHTML"],am=["href"],im={id:"updateCheckLinkContainer"},lm={class:"dropdown positionInViewport"},cm=["innerHTML"],sm=["innerHTML"];function um(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("Passthrough"),l=Object(X["resolveDirective"])("expand-on-hover");return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{id:"header_message",class:Object(X["normalizeClass"])(["piwikSelector",{header_info:!e.latestVersionAvailable||e.lastUpdateCheckFailed,update_available:e.latestVersionAvailable}])},[e.latestVersionAvailable&&!e.isPiwikDemo?(Object(X["openBlock"])(),Object(X["createBlock"])(i,{key:0},{default:Object(X["withCtx"])((function(){return[e.isMultiServerEnvironment?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",em,[Object(X["createTextVNode"])(Object(X["toDisplayString"])(e.translate("General_NewUpdatePiwikX",e.latestVersionAvailable))+" ",1),tm],512)):(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",nm,[Object(X["createTextVNode"])(Object(X["toDisplayString"])(e.translate("General_NewUpdatePiwikX",e.latestVersionAvailable))+" ",1),rm],512))]})),_:1})):e.isSuperUser&&(e.isAdminArea||e.lastUpdateCheckFailed)?(Object(X["openBlock"])(),Object(X["createBlock"])(i,{key:1},{default:Object(X["withCtx"])((function(){return[e.isInternetEnabled?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:0,class:"title",innerHTML:e.$sanitize(e.updateCheck)},null,8,om)):(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,class:"title",href:e.externalRawLink("https://matomo.org/changelog/"),target:"_blank",rel:"noreferrer noopener"},[Object(X["createElementVNode"])("span",im,Object(X["toDisplayString"])(e.translate("CoreHome_SeeAvailableVersions")),1)],8,am))]})),_:1})):Object(X["createCommentVNode"])("",!0),Object(X["createElementVNode"])("div",lm,[e.latestVersionAvailable&&e.isSuperUser?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",{key:0,innerHTML:e.$sanitize(e.updateNowText)},null,8,cm)):e.latestVersionAvailable&&!e.isPiwikDemo&&e.hasSomeViewAccess&&!e.isAnonymous?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",{key:1,innerHTML:e.$sanitize(e.updateAvailableText)},null,8,sm)):Object(X["createCommentVNode"])("",!0),Object(X["createTextVNode"])(" "+Object(X["toDisplayString"])(e.translate("General_YouAreCurrentlyUsing",e.piwikVersion)),1)])],2)),[[l,{expander:"expander"}]])}var dm=Object(X["defineComponent"])({props:{isMultiServerEnvironment:Boolean,lastUpdateCheckFailed:Boolean,latestVersionAvailable:String,isPiwikDemo:Boolean,isSuperUser:Boolean,isAdminArea:Boolean,isInternetEnabled:Boolean,updateCheck:String,isAnonymous:Boolean,hasSomeViewAccess:Boolean,contactEmail:String,piwikVersion:String},components:{Passthrough:zu},directives:{ExpandOnHover:Pn},computed:{updateNowText:function(){var e="";if(this.isMultiServerEnvironment){var t=mt("https://builds.matomo.org/matomo-".concat(this.latestVersionAvailable,".zip"));e=a("CoreHome_OneClickUpdateNotPossibleAsMultiServerEnvironment",'<a rel="noreferrer noopener" href="'.concat(t,'">builds.matomo.org</a>'))}else e=a("General_PiwikXIsAvailablePleaseUpdateNow",this.latestVersionAvailable||"",'<br /><a href="index.php?module=CoreUpdater&amp;action=newVersionAvailable">',"</a>",pt("https://matomo.org/changelog/"),"</a>");return"".concat(e,"<br/>")},updateAvailableText:function(){var e=a("General_NewUpdatePiwikX",this.latestVersionAvailable||""),t=pt("https://matomo.org/")+"Matomo</a>",n=pt("https://matomo.org/changelog/"),r=a("General_PiwikXIsAvailablePleaseNotifyPiwikAdmin","".concat(t," ").concat(n).concat(this.latestVersionAvailable,"</a>"),'<a href="mailto:'.concat(this.contactEmail,"?subject=").concat(encodeURIComponent(e),'">'),"</a>");return"".concat(r,"<br />")}}});dm.render=um;var mm=dm;function pm(e,t){return vm(e)||gm(e,t)||hm(e,t)||fm()}function fm(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hm(e,t){if(e){if("string"===typeof e)return bm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bm(e,t):void 0}}function bm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gm(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function vm(e){if(Array.isArray(e))return e}var ym={id:"mobile-left-menu",class:"sidenav hide-on-large-only"},Om={class:"collapsible collapsible-accordion"},jm={class:"collapsible-header"},wm={class:"collapsible-body"},km=["title","href"];function Sm(e,t,n,r,o,a){var i=Object(X["resolveDirective"])("side-nav");return Object(X["openBlock"])(),Object(X["createElementBlock"])("ul",ym,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.menuWithSubmenuItems,(function(t,n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{class:"no-padding",key:n},[Object(X["withDirectives"])(Object(X["createElementVNode"])("ul",Om,[Object(X["createElementVNode"])("li",null,[Object(X["createElementVNode"])("a",jm,[Object(X["createTextVNode"])(Object(X["toDisplayString"])(e.translateOrDefault(n)),1),Object(X["createElementVNode"])("i",{class:Object(X["normalizeClass"])(t._icon||"icon-chevron-down")},null,2)]),Object(X["createElementVNode"])("div",wm,[Object(X["createElementVNode"])("ul",null,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(Object.entries(t).filter((function(e){var t=pm(e,1),n=t[0];return"_"!==n[0]})),(function(t){var n=pm(t,2),r=n[0],o=n[1];return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{key:r},[Object(X["createElementVNode"])("a",{title:o._tooltip?e.translateIfNecessary(o._tooltip):"",target:"_self",href:e.getMenuUrl(o._url)},Object(X["toDisplayString"])(e.translateIfNecessary(r)),9,km)])})),128))])])])],512),[[i,{activator:e.activateLeftMenu}]])])})),128))])}function Cm(e,t){return Vm(e)||Tm(e,t)||Dm(e,t)||Em()}function Em(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Dm(e,t){if(e){if("string"===typeof e)return Pm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pm(e,t):void 0}}function Pm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tm(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function Vm(e){if(Array.isArray(e))return e}var Nm=window,Im=Nm.$,xm=Object(X["defineComponent"])({props:{menu:{type:Object,required:!0}},directives:{SideNav:qn},methods:{getMenuUrl:function(e){return"?".concat(De.stringify(Object.assign(Object.assign({},De.urlParsed.value),e)))},translateIfNecessary:function(e){return e.includes("_")?a(e):e}},computed:{menuWithSubmenuItems:function(){var e=this.menu||{};return Object.fromEntries(Object.entries(e).filter((function(e){var t=Cm(e,2),n=t[1],r=Object.entries(n).filter((function(e){var t=Cm(e,1),n=t[0];return"_"!==n[0]}));return Object.keys(r).length})))},activateLeftMenu:function(){return Im("nav .activateLeftMenu")[0]}}});xm.render=Sm;var Bm=xm,Am=window,Lm=Am.$;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Mm(e){Lm.scrollTo(e,20)}function _m(e){e&&e.preventDefault()}function Fm(e,t){var n,r;if(e&&-1===e.indexOf("&")){var o=null;try{o=Lm("#".concat(e))}catch(a){return}if(null!==(n=o)&&void 0!==n&&n.length)return Mm(o),void _m(t);o=Lm("a[name=".concat(e,"]")),null!==(r=o)&&void 0!==r&&r.length&&(Mm(o),_m(t))}}function Rm(e,t){return(!e||!e.origin||-1!==t.indexOf(e.origin))&&((!e||!e.pathname||-1!==t.indexOf(e.pathname))&&(!e||!e.search||-1!==t.indexOf(e.search)))}function Hm(){if("#/"===window.location.hash.slice(0,2)){var e=window.location.hash.slice(2);Fm(e,null)}}function Um(){Object(X["watch"])((function(){return De.url.value}),(function(e,t){if(e){var n=e.href.indexOf("#/");if(-1!==n&&(!t||Rm(t,e.href))){var r=e.href.slice(n+2);Fm(r,null)}}}))}function $m(){Object(X["nextTick"])(Hm)}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */Um(),Lm(Hm)}})}));
//# sourceMappingURL=CoreHome.umd.min.js.map