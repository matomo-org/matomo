(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("CoreHome"),require("vue"),require("CorePluginsAdmin")):"function"===typeof define&&define.amd?define(["CoreHome",,"CorePluginsAdmin"],t):"object"===typeof exports?exports["CustomDimensions"]=t(require("CoreHome"),require("vue"),require("CorePluginsAdmin")):e["CustomDimensions"]=t(e["CoreHome"],e["Vue"],e["CorePluginsAdmin"])})("undefined"!==typeof self?self:this,(function(e,t,n){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="plugins/CustomDimensions/vue/dist/",n(n.s="fae3")}({"19dc":function(t,n){t.exports=e},"8bbf":function(e,n){e.exports=t},a5a2:function(e,t){e.exports=n},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"CustomDimensionsStore",(function(){return r})),n.d(t,"Edit",(function(){return H})),n.d(t,"List",(function(){return oe})),n.d(t,"Manage",(function(){return Oe})),"undefined"!==typeof window){var i=window.document.currentScript,o=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var s=n("8bbf"),a=n("19dc");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */class l{constructor(){c(this,"privateState",Object(s["reactive"])({customDimensions:[],availableScopes:[],extractionDimensions:[],isLoading:!1,isUpdating:!1})),c(this,"state",Object(s["computed"])(()=>Object(s["readonly"])(this.privateState))),c(this,"isLoading",Object(s["computed"])(()=>this.state.value.isLoading)),c(this,"isUpdating",Object(s["computed"])(()=>this.state.value.isUpdating)),c(this,"extractionDimensions",Object(s["computed"])(()=>this.state.value.extractionDimensions)),c(this,"extractionDimensionsOptions",Object(s["computed"])(()=>this.extractionDimensions.value.map(e=>({key:e.value,value:e.name})))),c(this,"availableScopes",Object(s["computed"])(()=>this.state.value.availableScopes)),c(this,"customDimensions",Object(s["computed"])(()=>this.state.value.customDimensions)),c(this,"customDimensionsById",Object(s["computed"])(()=>{const e={};return this.customDimensions.value.forEach(t=>{e[""+t.idcustomdimension]=t}),e})),c(this,"reloadPromise",null)}reload(){return this.privateState.customDimensions=[],this.privateState.availableScopes=[],this.privateState.extractionDimensions=[],this.reloadPromise=null,this.fetch()}fetch(){return this.reloadPromise||(this.privateState.isLoading=!0,this.reloadPromise=Promise.all([this.fetchConfiguredCustomDimensions(),this.fetchAvailableExtractionDimensions(),this.fetchAvailableScopes()]).finally(()=>{this.privateState.isLoading=!1})),this.reloadPromise}fetchConfiguredCustomDimensions(){return a["AjaxHelper"].fetch({method:"CustomDimensions.getConfiguredCustomDimensions",filter_limit:"-1"}).then(e=>{this.privateState.customDimensions=e})}fetchAvailableExtractionDimensions(){return a["AjaxHelper"].fetch({method:"CustomDimensions.getAvailableExtractionDimensions",filter_limit:"-1"}).then(e=>{this.privateState.extractionDimensions=e})}fetchAvailableScopes(){return a["AjaxHelper"].fetch({method:"CustomDimensions.getAvailableScopes",filter_limit:"-1"}).then(e=>{this.privateState.availableScopes=e})}createOrUpdateDimension(e,t){return this.privateState.isUpdating=!0,a["AjaxHelper"].post({method:t,scope:e.scope,idDimension:e.idcustomdimension,idSite:e.idsite,name:e.name,active:e.active?"1":"0",caseSensitive:e.case_sensitive?"1":"0"},{extractions:e.extractions}).finally(()=>{this.privateState.isUpdating=!1})}}var r=new l;const m={class:"editCustomDimension"},d={class:"loadingPiwik"},u=Object(s["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif"},null,-1),p={class:"row form-group"},b={class:"col s12"},j={class:"col s12 m6"},O={class:"row"},h={class:"col s12 m6"},v={class:"col s12 m6"},D={class:"col s12"},C=["onClick"],f={class:"row"},g={class:"col s12"},V={class:"col s12 m6 form-help"},E=["value","disabled"],S=["value","disabled"],N={class:"btn cancel",type:"button",href:"#list"},x={class:"alert alert-info howToTrackInfo"},y=["innerHTML"],k=["innerHTML"],w=["innerHTML"],_=["innerHTML"];function T(e,t,n,i,o,a){const c=Object(s["resolveComponent"])("Field"),l=Object(s["resolveComponent"])("ContentBlock"),r=Object(s["resolveDirective"])("copy-to-clipboard");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",m,[Object(s["createVNode"])(l,{"content-title":e.contentTitleText},{default:Object(s["withCtx"])(()=>{var n;return[Object(s["withDirectives"])(Object(s["createElementVNode"])("p",null,[Object(s["createElementVNode"])("span",d,[u,Object(s["createTextVNode"])(" "+Object(s["toDisplayString"])(e.translate("General_LoadingData")),1)])],512),[[s["vShow"],e.isLoading||e.isUpdating]]),Object(s["withDirectives"])(Object(s["createElementVNode"])("div",null,[Object(s["createElementVNode"])("form",{onSubmit:t[4]||(t[4]=Object(s["withModifiers"])(t=>e.edit?e.updateCustomDimension():e.createCustomDimension(),["prevent"]))},[Object(s["createElementVNode"])("div",null,[Object(s["createVNode"])(c,{uicontrol:"text",name:"name",modelValue:e.dimension.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dimension.name=t),maxlength:255,required:!0,title:e.translate("General_Name"),"inline-help":e.translate("CustomDimensions_NameAllowedCharacters")},null,8,["modelValue","title","inline-help"])]),Object(s["createElementVNode"])("div",null,[Object(s["createVNode"])(c,{uicontrol:"checkbox",name:"active",modelValue:e.dimension.active,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dimension.active=t),title:e.translate("CorePluginsAdmin_Active"),"inline-help":e.translate("CustomDimensions_CannotBeDeleted")},null,8,["modelValue","title","inline-help"])]),Object(s["withDirectives"])(Object(s["createElementVNode"])("div",p,[Object(s["createElementVNode"])("h3",b,Object(s["toDisplayString"])(e.translate("CustomDimensions_ExtractValue")),1),Object(s["createElementVNode"])("div",j,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(e.dimension.extractions,(n,i)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:Object(s["normalizeClass"])(i+"extraction "),key:i},[Object(s["createElementVNode"])("div",O,[Object(s["createElementVNode"])("div",h,[Object(s["createElementVNode"])("div",null,[Object(s["createVNode"])(c,{uicontrol:"select",name:i+"dimension",modelValue:n.dimension,"onUpdate:modelValue":e=>n.dimension=e,"full-width":!0,options:e.extractionDimensionsOptions},null,8,["name","modelValue","onUpdate:modelValue","options"])])]),Object(s["createElementVNode"])("div",v,[Object(s["createElementVNode"])("div",null,[Object(s["createVNode"])(c,{uicontrol:"text",name:i+"pattern",modelValue:n.pattern,"onUpdate:modelValue":e=>n.pattern=e,"full-width":!0,title:"urlparam"===n.dimension?e.translate("CustomDimensions_UrlQueryStringParameter"):"eg. /blog/(.*)/"},null,8,["name","modelValue","onUpdate:modelValue","title"])])]),Object(s["createElementVNode"])("div",D,[Object(s["withDirectives"])(Object(s["createElementVNode"])("span",{class:"icon-plus",onClick:t[2]||(t[2]=t=>e.addExtraction())},null,512),[[s["vShow"],n.pattern]]),Object(s["withDirectives"])(Object(s["createElementVNode"])("span",{class:"icon-minus",onClick:t=>e.removeExtraction(i)},null,8,C),[[s["vShow"],e.dimension.extractions.length>1]])])])],2))),128)),Object(s["createElementVNode"])("div",f,[Object(s["createElementVNode"])("div",g,[Object(s["createElementVNode"])("div",null,[Object(s["withDirectives"])(Object(s["createVNode"])(c,{uicontrol:"checkbox",name:"casesensitive",modelValue:e.dimension.case_sensitive,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dimension.case_sensitive=t),title:e.translate("Goals_CaseSensitive")},null,8,["modelValue","title"]),[[s["vShow"],null===(n=e.dimension.extractions[0])||void 0===n?void 0:n.pattern]])])])])]),Object(s["createElementVNode"])("div",V,Object(s["toDisplayString"])(e.translate("CustomDimensions_ExtractionsHelp")),1)],512),[[s["vShow"],e.doesScopeSupportExtraction]]),Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{class:"btn update",type:"submit",value:e.translate("General_Update"),disabled:e.isUpdating,style:{"margin-right":"3.5px"}},null,8,E),[[s["vShow"],e.edit]]),Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{class:"btn create",type:"submit",value:e.translate("General_Create"),disabled:e.isUpdating,style:{"margin-right":"3.5px"}},null,8,S),[[s["vShow"],e.create]]),Object(s["createElementVNode"])("a",N,Object(s["toDisplayString"])(e.translate("General_Cancel")),1)],32),Object(s["withDirectives"])(Object(s["createElementVNode"])("div",x,[Object(s["createElementVNode"])("strong",null,Object(s["toDisplayString"])(e.translate("CustomDimensions_HowToTrackManuallyTitle")),1),Object(s["createElementVNode"])("p",null,Object(s["toDisplayString"])(e.translate("CustomDimensions_HowToTrackManuallyViaJs")),1),Object(s["createElementVNode"])("div",null,[Object(s["withDirectives"])((Object(s["openBlock"])(),Object(s["createElementBlock"])("pre",null,[Object(s["createElementVNode"])("code",{innerHTML:e.$sanitize(e.manuallyTrackCodeViaJs(e.dimension))},null,8,y)])),[[r,{}]])]),Object(s["createElementVNode"])("p",{innerHTML:e.$sanitize(e.howToTrackManuallyText)},null,8,k),Object(s["createElementVNode"])("p",null,Object(s["toDisplayString"])(e.translate("CustomDimensions_HowToTrackManuallyViaPhp")),1),Object(s["createElementVNode"])("div",null,[Object(s["withDirectives"])((Object(s["openBlock"])(),Object(s["createElementBlock"])("pre",null,[Object(s["createElementVNode"])("code",{innerHTML:e.$sanitize(e.manuallyTrackCodeViaPhp(e.dimension))},null,8,w)])),[[r,{}]])]),Object(s["createElementVNode"])("p",null,Object(s["toDisplayString"])(e.translate("CustomDimensions_HowToTrackManuallyViaHttp")),1),Object(s["createElementVNode"])("div",null,[Object(s["withDirectives"])((Object(s["openBlock"])(),Object(s["createElementBlock"])("pre",null,[Object(s["createElementVNode"])("code",{innerHTML:e.$sanitize(e.manuallyTrackCode)},null,8,_)])),[[r,{}]])])],512),[[s["vShow"],e.edit]])],512),[[s["vShow"],!e.isLoading]])]}),_:1},8,["content-title"])])}var B=n("a5a2");
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function M(e){return`${e[0].toUpperCase()}${e.slice(1)}`}const U="customdimensions";var L=Object(s["defineComponent"])({props:{dimensionId:Number,dimensionScope:{type:String,required:!0}},components:{ContentBlock:a["ContentBlock"],Field:B["Field"]},directives:{CopyToClipboard:a["CopyToClipboard"]},data(){return{dimension:{extractions:[]},isUpdatingDim:!1}},created(){this.init()},watch:{dimensionId(){this.init()}},methods:{removeAnyCustomDimensionNotification(){a["NotificationsStore"].remove(U)},showNotification(e,t){a["NotificationsStore"].show({message:e,context:t,id:U,type:"transient"})},init(){null!==this.dimensionId&&this.removeAnyCustomDimensionNotification(),r.fetch().then(()=>{if(this.edit&&this.dimensionId){const e=r.customDimensionsById.value[this.dimensionId];if(!e)return void a["MatomoUrl"].updateHashToUrl("/list");this.dimension=Object(a["clone"])(e),this.dimension&&!this.dimension.extractions.length&&this.addExtraction()}else this.create&&(this.dimension={idsite:a["Matomo"].idSite,name:"",active:!1,extractions:[],scope:this.dimensionScope,case_sensitive:!0},this.addExtraction())})},removeExtraction(e){e>-1&&this.dimension.extractions.splice(e,1)},addExtraction(){this.doesScopeSupportExtraction&&this.dimension.extractions.push({dimension:"url",pattern:""})},createCustomDimension(){this.isUpdatingDim=!0,r.createOrUpdateDimension(this.dimension,"CustomDimensions.configureNewCustomDimension").then(()=>{this.showNotification(Object(a["translate"])("CustomDimensions_DimensionCreated"),"success"),r.reload(),a["MatomoUrl"].updateHashToUrl("/list")}).finally(()=>{this.isUpdatingDim=!1})},updateCustomDimension(){this.isUpdatingDim=!0,r.createOrUpdateDimension(this.dimension,"CustomDimensions.configureExistingCustomDimension").then(()=>{this.showNotification(Object(a["translate"])("CustomDimensions_DimensionUpdated"),"success"),r.reload(),a["MatomoUrl"].updateHashToUrl("/list")}).finally(()=>{this.isUpdatingDim=!1})},manuallyTrackCodeViaJs(e){return`_paq.push(['setCustomDimension', ${e.idcustomdimension}, '${Object(a["translate"])("CustomDimensions_ExampleValue")}']);`},manuallyTrackCodeViaPhp(e){return`$tracker->setCustomDimension('${e.idcustomdimension}', '${Object(a["translate"])("CustomDimensions_ExampleValue")}');`}},computed:{isLoading(){return r.isLoading.value},isUpdating(){return r.isUpdating.value||this.isUpdatingDim},create(){return 0===this.dimensionId},edit(){return!this.create},extractionDimensionsOptions(){return r.extractionDimensionsOptions.value},availableScopes(){return r.availableScopes.value},doesScopeSupportExtraction(){var e;if(null===(e=this.dimension)||void 0===e||!e.scope||!this.availableScopes)return!1;const t=this.availableScopes.find(e=>e.value===this.dimension.scope);return null===t||void 0===t?void 0:t.supportsExtractions},contentTitleText(){var e;return Object(a["translate"])("CustomDimensions_ConfigureDimension",M(this.dimensionScope),""+((null===(e=this.dimension)||void 0===e?void 0:e.index)||""))},howToTrackManuallyText(){const e="https://developer.piwik.org/guides/tracking-javascript-guide#custom-dimensions";return Object(a["translate"])("CustomDimensions_HowToTrackManuallyViaJsDetails",`<a target=_blank href="${e}" rel="noreferrer noopener">`,"</a>")},manuallyTrackCode(){const e=Object(a["translate"])("CustomDimensions_ExampleValue");return`&dimension${this.dimension.idcustomdimension}=${e}`}}});L.render=T;var H=L;const A=["innerHTML"],I={class:"loadingPiwik"},P=Object(s["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif"},null,-1),$={class:"index"},q={class:"name"},z={class:"active"},G={class:"action"},F={colspan:"5"},J={class:"index"},Q={class:"name"},X={class:"extractions"},Y={class:"active"},K={class:"action"},R=["href"],W={class:"tableActionBar"},Z=["disabled","onClick"],ee=Object(s["createElementVNode"])("span",{class:"icon-add"},null,-1),te={class:"info"};function ne(e,t,n,i,o,a){const c=Object(s["resolveComponent"])("EnrichedHeadline"),l=Object(s["resolveComponent"])("ContentBlock"),r=Object(s["resolveDirective"])("content-intro"),m=Object(s["resolveDirective"])("content-table");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",null,[Object(s["withDirectives"])((Object(s["openBlock"])(),Object(s["createElementBlock"])("div",null,[Object(s["createElementVNode"])("h2",null,[Object(s["createVNode"])(c,null,{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.translate("CustomDimensions_CustomDimensions")),1)]),_:1})]),Object(s["createElementVNode"])("p",{innerHTML:e.$sanitize(e.contentIntroText)},null,8,A),Object(s["withDirectives"])(Object(s["createElementVNode"])("p",null,[Object(s["createElementVNode"])("span",I,[P,Object(s["createTextVNode"])(" "+Object(s["toDisplayString"])(e.translate("General_LoadingData")),1)])],512),[[s["vShow"],e.isLoading]])])),[[r]]),(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(e.availableScopes,t=>Object(s["withDirectives"])((Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{key:t.value},[Object(s["createVNode"])(l,{"content-title":e.translate("CustomDimensions_ScopeTitle"+e.ucfirst(t.value))},{default:Object(s["withCtx"])(()=>[Object(s["createElementVNode"])("p",null,Object(s["toDisplayString"])(e.translate("CustomDimensions_ScopeDescription"+e.ucfirst(t.value)))+" "+Object(s["toDisplayString"])(e.translate(`CustomDimensions_ScopeDescription${e.ucfirst(t.value)}MoreInfo`)),1),Object(s["withDirectives"])((Object(s["openBlock"])(),Object(s["createElementBlock"])("table",null,[Object(s["createElementVNode"])("thead",null,[Object(s["createElementVNode"])("tr",null,[Object(s["createElementVNode"])("th",$,Object(s["toDisplayString"])(e.translate("General_Id")),1),Object(s["createElementVNode"])("th",q,Object(s["toDisplayString"])(e.translate("General_Name")),1),Object(s["withDirectives"])(Object(s["createElementVNode"])("th",{class:"extractions"},Object(s["toDisplayString"])(e.translate("CustomDimensions_Extractions")),513),[[s["vShow"],t.supportsExtractions]]),Object(s["createElementVNode"])("th",z,Object(s["toDisplayString"])(e.translate("CorePluginsAdmin_Active")),1),Object(s["createElementVNode"])("th",G,Object(s["toDisplayString"])(e.translate("General_Action")),1)])]),Object(s["createElementVNode"])("tbody",null,[Object(s["withDirectives"])(Object(s["createElementVNode"])("tr",null,[Object(s["createElementVNode"])("td",F,Object(s["toDisplayString"])(e.translate("CustomDimensions_NoCustomDimensionConfigured")),1)],512),[[s["vShow"],0===t.numSlotsUsed&&!e.isLoading]]),(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(e.sortedCustomDimensionsByScope[t.value],e=>{var n;return Object(s["openBlock"])(),Object(s["createElementBlock"])("tr",{class:Object(s["normalizeClass"])(["customdimension",e.idcustomdimension]),key:e.idcustomdimension},[Object(s["createElementVNode"])("td",J,Object(s["toDisplayString"])(e.idcustomdimension),1),Object(s["createElementVNode"])("td",Q,Object(s["toDisplayString"])(e.name),1),Object(s["withDirectives"])(Object(s["createElementVNode"])("td",X,[Object(s["createElementVNode"])("span",{class:Object(s["normalizeClass"])({"icon-ok":null===(n=e.extractions[0])||void 0===n?void 0:n.pattern})},null,2)],512),[[s["vShow"],t.supportsExtractions]]),Object(s["createElementVNode"])("td",Y,[Object(s["createElementVNode"])("span",{class:Object(s["normalizeClass"])({"icon-ok":e.active})},null,2)]),Object(s["createElementVNode"])("td",K,[Object(s["createElementVNode"])("a",{class:"table-action icon-edit",href:`#?idDimension=${e.idcustomdimension}&scope=${t.value}`},null,8,R)])],2)}),128))])])),[[m]]),Object(s["createElementVNode"])("div",W,[Object(s["withDirectives"])(Object(s["createElementVNode"])("button",{class:"btn",disabled:!t.numSlotsLeft,onClick:n=>e.addDimension(t.value)},[ee,Object(s["createTextVNode"])(" "+Object(s["toDisplayString"])(e.translate("CustomDimensions_ConfigureNewDimension"))+" ",1),Object(s["createElementVNode"])("span",te,"("+Object(s["toDisplayString"])(e.translate("CustomDimensions_XofYLeft",t.numSlotsLeft,t.numSlotsAvailable))+")",1)],8,Z),[[s["vShow"],!e.isLoading]])])]),_:2},1032,["content-title"])])),[[s["vShow"],!e.isLoading]])),128))])}var ie=Object(s["defineComponent"])({name:"listcustomdimensions",components:{EnrichedHeadline:a["EnrichedHeadline"],ContentBlock:a["ContentBlock"]},directives:{ContentIntro:a["ContentIntro"],ContentTable:a["ContentTable"]},created(){r.fetch()},methods:{ucfirst(e){return M(e)},addDimension(e){a["MatomoUrl"].updateHashToUrl("/?idDimension=0&scope="+e)}},computed:{isLoading(){return r.isLoading.value},availableScopes(){return r.availableScopes.value},contentIntroText(){const e=Object(a["translate"])("CustomDimensions_CustomDimensionsIntroNext",'<a target=_blank href="https://piwik.org/docs/custom-variables">',"</a>",'<a target=_blank href="https://piwik.org/faq/general/faq_21117">',"</a>"),t=Object(a["translate"])("CustomDimensions_CustomDimensionsIntro",'<a target=_blank href="https://piwik.org/docs/custom-dimensions">',"</a>",this.siteName);return`${e}${t}`},customDimensions(){return r.customDimensions.value},sortedCustomDimensions(){const e=[...this.customDimensions];return e.sort((e,t)=>{const n=parseInt(""+e.idcustomdimension,10),i=parseInt(""+t.idcustomdimension,10);return n-i}),e},sortedCustomDimensionsByScope(){const e={};return this.sortedCustomDimensions.reduce((e,t)=>(e[t.scope]=e[t.scope]||[],e[t.scope].push(t),e),e),e},siteName(){return a["Matomo"].helper.htmlEntities(a["Matomo"].helper.htmlDecode(a["Matomo"].siteName))}}});ie.render=ne;var oe=ie;const se={class:"manageCustomDimensions"},ae={key:0},ce=Object(s["createElementVNode"])("br",null,null,-1),le=Object(s["createElementVNode"])("br",null,null,-1),re=Object(s["createElementVNode"])("br",null,null,-1),me=Object(s["createElementVNode"])("br",null,null,-1),de=["textContent"],ue=["textContent"],pe={key:1};function be(e,t,n,i,o,a){const c=Object(s["resolveComponent"])("CustomDimensionsList"),l=Object(s["resolveComponent"])("ContentBlock"),r=Object(s["resolveComponent"])("CustomDimensionsEdit"),m=Object(s["resolveDirective"])("copy-to-clipboard");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",se,[e.editMode?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",ae,[Object(s["createElementVNode"])("div",null,[Object(s["createVNode"])(c)]),Object(s["createVNode"])(l,{id:"customDimensionsCreateMoreDimensions","content-title":e.translate("CustomDimensions_IncreaseAvailableCustomDimensionsTitle")},{default:Object(s["withCtx"])(()=>[Object(s["createElementVNode"])("p",null,[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.translate("CustomDimensions_IncreaseAvailableCustomDimensionsTakesLong"))+" ",1),ce,le,Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.translate("CustomDimensions_HowToCreateCustomDimension"))+" ",1),re,me]),Object(s["createElementVNode"])("div",null,[Object(s["withDirectives"])((Object(s["openBlock"])(),Object(s["createElementBlock"])("pre",null,[Object(s["createElementVNode"])("code",{textContent:Object(s["toDisplayString"])(e.addCustomDimCode)},null,8,de)])),[[m,{}]])]),Object(s["createElementVNode"])("p",null,Object(s["toDisplayString"])(e.translate("CustomDimensions_HowToManyCreateCustomDimensions"))+" "+Object(s["toDisplayString"])(e.translate("CustomDimensions_ExampleCreateCustomDimensions",5)),1),Object(s["createElementVNode"])("div",null,[Object(s["withDirectives"])((Object(s["openBlock"])(),Object(s["createElementBlock"])("pre",null,[Object(s["createElementVNode"])("code",{textContent:Object(s["toDisplayString"])(e.addMultipleCustomDimCode)},null,8,ue)])),[[m,{}]])])]),_:1},8,["content-title"])])),e.editMode?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",pe,[Object(s["createElementVNode"])("div",null,[Object(s["createVNode"])(r,{"dimension-id":e.dimensionId,"dimension-scope":e.dimensionScope},null,8,["dimension-id","dimension-scope"])])])):Object(s["createCommentVNode"])("",!0)])}var je=Object(s["defineComponent"])({components:{CustomDimensionsList:oe,ContentBlock:a["ContentBlock"],CustomDimensionsEdit:H},directives:{CopyToClipboard:a["CopyToClipboard"]},data(){return{editMode:!1,dimensionId:null,dimensionScope:""}},created(){Object(s["watch"])(()=>a["MatomoUrl"].hashParsed.value,()=>{this.initState()}),this.initState()},methods:{getValidDimensionScope(e){return-1!==["action","visit"].indexOf(e)?e:""},initState(){const e=a["MatomoUrl"].hashParsed.value.idDimension;if(e){const t=this.getValidDimensionScope(a["MatomoUrl"].hashParsed.value.scope);if("0"===e){const e={isAllowed:!0,scope:t};if(a["Matomo"].postEvent("CustomDimensions.initAddDimension",e),e&&!e.isAllowed)return this.editMode=!1,this.dimensionId=null,void(this.dimensionScope="")}this.editMode=!0,this.dimensionId=parseInt(e,10),this.dimensionScope=t}else this.editMode=!1,this.dimensionId=null,this.dimensionScope="";a["Matomo"].helper.lazyScrollToContent()}},computed:{addCustomDimCode(){return"./console customdimensions:add-custom-dimension --scope=action\n./console customdimensions:add-custom-dimension --scope=visit"},addMultipleCustomDimCode(){return"./console customdimensions:add-custom-dimension --scope=action --count=5"}}});je.render=be;var Oe=je;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */}})}));
//# sourceMappingURL=CustomDimensions.umd.min.js.map